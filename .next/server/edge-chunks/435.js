(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[435],{1:(a,b,c)=>{"use strict";function d(a){let b=function(a){let b;try{b=new URL(a,"http://n")}catch{}return b}(a);if(!b)return;let c={};for(let a of b.searchParams.keys()){let d=b.searchParams.getAll(a);c[a]=d.length>1?d:d[0]}return{query:c,hash:b.hash,search:b.search,path:b.pathname,pathname:b.pathname,href:`${b.pathname}${b.search}${b.hash}`,host:"",hostname:"",auth:"",protocol:"",slashes:null,port:""}}c.d(b,{Rk:()=>d}),c(3375)},47:(a,b,c)=>{"use strict";c.d(b,{y:()=>e});var d=c(7859);function e(a,b){if(!(0,d.m)(a,b))return a;let c=a.slice(b.length);return c.startsWith("/")?c:"/"+c}},140:(a,b,c)=>{"use strict";let d;c.d(b,{N:()=>v});var e=c(5104),f=c(5925),g=c.n(f),h=c(2205),i=c(7574);class j{constructor(a){this.fs=a,this.tasks=[]}findOrCreateTask(a){for(let b of this.tasks)if(b[0]===a)return b;let b=this.fs.mkdir(a);b.catch(()=>{});let c=[a,b,[]];return this.tasks.push(c),c}append(a,b){let c=this.findOrCreateTask(g().dirname(a)),d=c[1].then(()=>this.fs.writeFile(a,b));d.catch(()=>{}),c[2].push(d)}wait(){return Promise.all(this.tasks.flatMap(a=>a[2]))}}var k=c(7986),l=c(4364);class m{static #a=this.debug=!!process.env.NEXT_PRIVATE_DEBUG_CACHE;constructor(a){if(this.fs=a.fs,this.flushToDisk=a.flushToDisk,this.serverDistDir=a.serverDistDir,this.revalidatedTags=a.revalidatedTags,a.maxMemoryCacheSize)if(m.memoryCache)m.debug&&console.log("memory store already initialized");else{var b;m.debug&&console.log("using memory store for fetch cache"),b=a.maxMemoryCacheSize,d||(d=new l.q(b,function({value:a}){var b;if(!a)return 25;if(a.kind===k.y.REDIRECT)return JSON.stringify(a.props).length;if(a.kind===k.y.IMAGE)throw Object.defineProperty(Error("invariant image should not be incremental-cache"),"__NEXT_ERROR_CODE",{value:"E501",enumerable:!1,configurable:!0});if(a.kind===k.y.FETCH)return JSON.stringify(a.data||"").length;if(a.kind===k.y.APP_ROUTE)return a.body.length;return a.html.length+((null==(b=JSON.stringify(a.kind===k.y.APP_PAGE?a.rscData:a.pageData))?void 0:b.length)||0)})),m.memoryCache=d}else m.debug&&console.log("not using memory store for fetch cache")}resetRequestCache(){}async revalidateTag(...a){let[b]=a;if(b="string"==typeof b?[b]:b,m.debug&&console.log("revalidateTag",b),0!==b.length)for(let a of b)i.n.has(a)||i.n.set(a,Date.now())}async get(...a){var b,c,d,f,g,j;let[k,l]=a,{kind:n}=l,o=null==(b=m.memoryCache)?void 0:b.get(k);if(m.debug&&(n===e.Bs.FETCH?console.log("get",k,l.tags,n,!!o):console.log("get",k,n,!!o)),(null==o||null==(c=o.value)?void 0:c.kind)===e.yD.APP_PAGE||(null==o||null==(d=o.value)?void 0:d.kind)===e.yD.APP_ROUTE||(null==o||null==(f=o.value)?void 0:f.kind)===e.yD.PAGES){let a,b=null==(j=o.value.headers)?void 0:j[h.VC];if("string"==typeof b&&(a=b.split(",")),(null==a?void 0:a.length)&&(0,i.Q)(a,(null==o?void 0:o.lastModified)||Date.now()))return null}else(null==o||null==(g=o.value)?void 0:g.kind)===e.yD.FETCH&&(l.kind===e.Bs.FETCH?[...l.tags||[],...l.softTags||[]]:[]).some(a=>!!this.revalidatedTags.includes(a)||(0,i.Q)([a],(null==o?void 0:o.lastModified)||Date.now()))&&(o=void 0);return o??null}async set(a,b,c){var d;if(null==(d=m.memoryCache)||d.set(a,{value:b,lastModified:Date.now()}),m.debug&&console.log("set",a),!this.flushToDisk||!b)return;let f=new j(this.fs);if(b.kind===e.yD.APP_ROUTE){let c=this.getFilePath(`${a}.body`,e.Bs.APP_ROUTE);f.append(c,b.body);let d={headers:b.headers,status:b.status,postponed:void 0,segmentPaths:void 0};f.append(c.replace(/\.body$/,h.EP),JSON.stringify(d,null,2))}else if(b.kind===e.yD.PAGES||b.kind===e.yD.APP_PAGE){let d=b.kind===e.yD.APP_PAGE,g=this.getFilePath(`${a}.html`,d?e.Bs.APP_PAGE:e.Bs.PAGES);if(f.append(g,b.html),c.fetchCache||c.isFallback||f.append(this.getFilePath(`${a}${d?c.isRoutePPREnabled?h.pu:h.RM:h.x3}`,d?e.Bs.APP_PAGE:e.Bs.PAGES),d?b.rscData:JSON.stringify(b.pageData)),(null==b?void 0:b.kind)===e.yD.APP_PAGE){let a;if(b.segmentData){a=[];let c=g.replace(/\.html$/,h.mH);for(let[d,e]of b.segmentData){a.push(d);let b=c+d+h.tz;f.append(b,e)}}let c={headers:b.headers,status:b.status,postponed:b.postponed,segmentPaths:a};f.append(g.replace(/\.html$/,h.EP),JSON.stringify(c))}}else if(b.kind===e.yD.FETCH){let d=this.getFilePath(a,e.Bs.FETCH);f.append(d,JSON.stringify({...b,tags:c.fetchCache?c.tags:[]}))}await f.wait()}getFilePath(a,b){switch(b){case e.Bs.FETCH:return g().join(this.serverDistDir,"..","cache","fetch-cache",a);case e.Bs.PAGES:return g().join(this.serverDistDir,"pages",a);case e.Bs.IMAGE:case e.Bs.APP_PAGE:case e.Bs.APP_ROUTE:return g().join(this.serverDistDir,"app",a);default:throw Object.defineProperty(Error(`Unexpected file path kind: ${b}`),"__NEXT_ERROR_CODE",{value:"E479",enumerable:!1,configurable:!0})}}}var n=c(2849);function o(a){return a.replace(/(?:\/index)?\/?$/,"")||"/"}class p{static #a=this.cacheControls=new Map;constructor(a){this.prerenderManifest=a}get(a){let b=p.cacheControls.get(a);if(b)return b;let c=this.prerenderManifest.routes[a];if(c){let{initialRevalidateSeconds:a,initialExpireSeconds:b}=c;if(void 0!==a)return{revalidate:a,expire:b}}let d=this.prerenderManifest.dynamicRoutes[a];if(d){let{fallbackRevalidate:a,fallbackExpire:b}=d;if(void 0!==a)return{revalidate:a,expire:b}}}set(a,b){p.cacheControls.set(a,b)}clear(){p.cacheControls.clear()}}var q=c(5862),r=c(4983),s=c(9711),t=c(1320),u=c(9408);class v{static #a=this.debug=!!process.env.NEXT_PRIVATE_DEBUG_CACHE;constructor({fs:a,dev:b,flushToDisk:c,minimalMode:d,serverDistDir:e,requestHeaders:f,maxMemoryCacheSize:g,getPrerenderManifest:i,fetchCacheKeyPrefix:j,CurCacheHandler:k,allowedRevalidateHeaderKeys:l}){var n,o,q,r;this.locks=new Map,this.hasCustomCacheHandler=!!k;let t=Symbol.for("@next/cache-handlers"),u=globalThis;if(k)v.debug&&console.log("using custom cache handler",k.name);else{let b=u[t];(null==b?void 0:b.FetchCache)?k=b.FetchCache:a&&e&&(v.debug&&console.log("using filesystem cache handler"),k=m)}process.env.__NEXT_TEST_MAX_ISR_CACHE&&(g=parseInt(process.env.__NEXT_TEST_MAX_ISR_CACHE,10)),this.dev=b,this.disableForTestmode="true"===process.env.NEXT_PRIVATE_TEST_PROXY,this.minimalMode=d,this.requestHeaders=f,this.allowedRevalidateHeaderKeys=l,this.prerenderManifest=i(),this.cacheControls=new p(this.prerenderManifest),this.fetchCacheKeyPrefix=j;let w=[];f[h.kz]===(null==(o=this.prerenderManifest)||null==(n=o.preview)?void 0:n.previewModeId)&&(this.isOnDemandRevalidate=!0),d&&(w=(0,s.l5)(f,null==(r=this.prerenderManifest)||null==(q=r.preview)?void 0:q.previewModeId)),k&&(this.cacheHandler=new k({dev:b,fs:a,flushToDisk:c,serverDistDir:e,revalidatedTags:w,maxMemoryCacheSize:g,_requestHeaders:f,fetchCacheKeyPrefix:j}))}calculateRevalidate(a,b,c,d){if(c)return Math.floor(performance.timeOrigin+performance.now()-1e3);let e=this.cacheControls.get(o(a)),f=e?e.revalidate:!d&&1;return"number"==typeof f?1e3*f+b:f}_getPathname(a,b){return b?a:(0,n.i)(a)}resetRequestCache(){var a,b;null==(b=this.cacheHandler)||null==(a=b.resetRequestCache)||a.call(b)}async lock(a){for(;;){let b=this.locks.get(a);if(v.debug&&console.log("lock get",a,!!b),!b)break;await b}let{resolve:b,promise:c}=new u.q;return v.debug&&console.log("successfully locked",a),this.locks.set(a,c),()=>{b(),this.locks.delete(a)}}async revalidateTag(a){var b;return null==(b=this.cacheHandler)?void 0:b.revalidateTag(a)}async generateCacheKey(a,b={}){let c=[],d=new TextEncoder,e=new TextDecoder;if(b.body)if(b.body instanceof Uint8Array)c.push(e.decode(b.body)),b._ogBody=b.body;else if("function"==typeof b.body.getReader){let a=b.body,f=[];try{await a.pipeTo(new WritableStream({write(a){"string"==typeof a?(f.push(d.encode(a)),c.push(a)):(f.push(a),c.push(e.decode(a,{stream:!0})))}})),c.push(e.decode());let g=f.reduce((a,b)=>a+b.length,0),h=new Uint8Array(g),i=0;for(let a of f)h.set(a,i),i+=a.length;b._ogBody=h}catch(a){console.error("Problem reading body",a)}}else if("function"==typeof b.body.keys){let a=b.body;for(let d of(b._ogBody=b.body,new Set([...a.keys()]))){let b=a.getAll(d);c.push(`${d}=${(await Promise.all(b.map(async a=>"string"==typeof a?a:await a.text()))).join(",")}`)}}else if("function"==typeof b.body.arrayBuffer){let a=b.body,d=await a.arrayBuffer();c.push(await a.text()),b._ogBody=new Blob([d],{type:a.type})}else"string"==typeof b.body&&(c.push(b.body),b._ogBody=b.body);let f="function"==typeof(b.headers||{}).keys?Object.fromEntries(b.headers):Object.assign({},b.headers);"traceparent"in f&&delete f.traceparent,"tracestate"in f&&delete f.tracestate;let g=JSON.stringify(["v3",this.fetchCacheKeyPrefix||"",a,b.method,f,b.mode,b.redirect,b.credentials,b.referrer,b.referrerPolicy,b.integrity,b.cache,c]);{var h;let a=d.encode(g);return h=await crypto.subtle.digest("SHA-256",a),Array.prototype.map.call(new Uint8Array(h),a=>a.toString(16).padStart(2,"0")).join("")}}async get(a,b){var c,d,f,g;let i,j;if(b.kind===e.Bs.FETCH){let b=q.FP.getStore(),c=b?(0,q.E0)(b):null;if(c){let b=c.fetch.get(a);if((null==b?void 0:b.kind)===e.yD.FETCH)return{isStale:!1,value:b}}}if(this.disableForTestmode||this.dev&&(b.kind!==e.Bs.FETCH||"no-cache"===this.requestHeaders["cache-control"]))return null;a=this._getPathname(a,b.kind===e.Bs.FETCH);let k=await (null==(c=this.cacheHandler)?void 0:c.get(a,b));if(b.kind===e.Bs.FETCH){if(!k)return null;if((null==(f=k.value)?void 0:f.kind)!==e.yD.FETCH)throw Object.defineProperty(new r.z(`Expected cached value for cache key ${JSON.stringify(a)} to be a "FETCH" kind, got ${JSON.stringify(null==(g=k.value)?void 0:g.kind)} instead.`),"__NEXT_ERROR_CODE",{value:"E653",enumerable:!1,configurable:!0});let c=t.J.getStore();if([...b.tags||[],...b.softTags||[]].some(a=>{var b,d;return(null==(b=this.revalidatedTags)?void 0:b.includes(a))||(null==c||null==(d=c.pendingRevalidatedTags)?void 0:d.includes(a))}))return null;let d=b.revalidate||k.value.revalidate,h=(performance.timeOrigin+performance.now()-(k.lastModified||0))/1e3,i=k.value.data;return{isStale:h>d,value:{kind:e.yD.FETCH,data:i,revalidate:d}}}if((null==k||null==(d=k.value)?void 0:d.kind)===e.yD.FETCH)throw Object.defineProperty(new r.z(`Expected cached value for cache key ${JSON.stringify(a)} not to be a ${JSON.stringify(b.kind)} kind, got "FETCH" instead.`),"__NEXT_ERROR_CODE",{value:"E652",enumerable:!1,configurable:!0});let l=null,m=this.cacheControls.get(o(a));return(null==k?void 0:k.lastModified)===-1?(i=-1,j=-1*h.qF):i=!!(!1!==(j=this.calculateRevalidate(a,(null==k?void 0:k.lastModified)||performance.timeOrigin+performance.now(),this.dev??!1,b.isFallback))&&j<performance.timeOrigin+performance.now())||void 0,k&&(l={isStale:i,cacheControl:m,revalidateAfter:j,value:k.value}),!k&&this.prerenderManifest.notFoundRoutes.includes(a)&&(l={isStale:i,value:null,cacheControl:m,revalidateAfter:j},this.set(a,l.value,{...b,cacheControl:m})),l}async set(a,b,c){if((null==b?void 0:b.kind)===e.yD.FETCH){let c=q.FP.getStore(),d=c?(0,q.fm)(c):null;d&&d.fetch.set(a,b)}if(this.disableForTestmode||this.dev&&!c.fetchCache)return;a=this._getPathname(a,c.fetchCache);let d=JSON.stringify(b).length;if(c.fetchCache&&d>2097152&&!this.hasCustomCacheHandler&&!c.isImplicitBuildTimeCache){let b=`Failed to set Next.js data cache for ${c.fetchUrl||a}, items over 2MB can not be cached (${d} bytes)`;if(this.dev)throw Object.defineProperty(Error(b),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});console.warn(b);return}try{var f;!c.fetchCache&&c.cacheControl&&this.cacheControls.set(o(a),c.cacheControl),await (null==(f=this.cacheHandler)?void 0:f.set(a,b,c))}catch(b){console.warn("Failed to update prerender cache for",a,b)}}}},278:(a,b,c)=>{"use strict";function d(a,b,c){if(a)for(let f of(c&&(c=c.toLowerCase()),a)){var d,e;if(b===(null==(d=f.domain)?void 0:d.split(":",1)[0].toLowerCase())||c===f.defaultLocale.toLowerCase()||(null==(e=f.locales)?void 0:e.some(a=>a.toLowerCase()===c)))return f}}c.d(b,{C:()=>d})},546:(a,b,c)=>{"use strict";var d;c.d(b,{s:()=>d}),function(a){a[a.UNSET=0]="UNSET",a[a.OK=1]="OK",a[a.ERROR=2]="ERROR"}(d||(d={}))},757:(a,b,c)=>{"use strict";function d(a){let b=a.indexOf("#"),c=a.indexOf("?"),d=c>-1&&(b<0||c<b);return d||b>-1?{pathname:a.substring(0,d?c:b),query:d?a.substring(c,b>-1?b:void 0):"",hash:b>-1?a.slice(b):""}:{pathname:a,query:"",hash:""}}c.d(b,{R:()=>d})},772:(a,b,c)=>{"use strict";c.d(b,{qg:()=>i,EJ:()=>j,xL:()=>k,bp:()=>l});var d=c(3070),e=c(1710),f=c(6478);let g=(a,b)=>{e.a$.init(a,b),a.name="ZodError",Object.defineProperties(a,{format:{value:b=>e.Wk(a,b)},flatten:{value:b=>e.JM(a,b)},addIssue:{value:b=>a.issues.push(b)},addIssues:{value:b=>a.issues.push(...b)},isEmpty:{get:()=>0===a.issues.length}})};f.xI("ZodError",g);let h=f.xI("ZodError",g,{Parent:Error}),i=d.Tj(h),j=d.Rb(h),k=d.Od(h),l=d.wG(h)},784:(a,b)=>{"use strict";var c={H:null,A:null};function d(a){var b="https://react.dev/errors/"+a;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var e=Array.isArray;function f(){}var g=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.memo"),o=Symbol.for("react.lazy"),p=Symbol.iterator,q=Object.prototype.hasOwnProperty,r=Object.assign;function s(a,b,c){var d=c.ref;return{$$typeof:g,type:a,key:b,ref:void 0!==d?d:null,props:c}}function t(a){return"object"==typeof a&&null!==a&&a.$$typeof===g}var u=/\/+/g;function v(a,b){var c,d;return"object"==typeof a&&null!==a&&null!=a.key?(c=""+a.key,d={"=":"=0",":":"=2"},"$"+c.replace(/[=:]/g,function(a){return d[a]})):b.toString(36)}function w(a,b,c){if(null==a)return a;var i=[],j=0;return!function a(b,c,i,j,k){var l,m,n,q=typeof b;("undefined"===q||"boolean"===q)&&(b=null);var r=!1;if(null===b)r=!0;else switch(q){case"bigint":case"string":case"number":r=!0;break;case"object":switch(b.$$typeof){case g:case h:r=!0;break;case o:return a((r=b._init)(b._payload),c,i,j,k)}}if(r)return k=k(b),r=""===j?"."+v(b,0):j,e(k)?(i="",null!=r&&(i=r.replace(u,"$&/")+"/"),a(k,c,i,"",function(a){return a})):null!=k&&(t(k)&&(l=k,m=i+(null==k.key||b&&b.key===k.key?"":(""+k.key).replace(u,"$&/")+"/")+r,k=s(l.type,m,l.props)),c.push(k)),1;r=0;var w=""===j?".":j+":";if(e(b))for(var x=0;x<b.length;x++)q=w+v(j=b[x],x),r+=a(j,c,i,q,k);else if("function"==typeof(x=null===(n=b)||"object"!=typeof n?null:"function"==typeof(n=p&&n[p]||n["@@iterator"])?n:null))for(b=x.call(b),x=0;!(j=b.next()).done;)q=w+v(j=j.value,x++),r+=a(j,c,i,q,k);else if("object"===q){if("function"==typeof b.then)return a(function(a){switch(a.status){case"fulfilled":return a.value;case"rejected":throw a.reason;default:switch("string"==typeof a.status?a.then(f,f):(a.status="pending",a.then(function(b){"pending"===a.status&&(a.status="fulfilled",a.value=b)},function(b){"pending"===a.status&&(a.status="rejected",a.reason=b)})),a.status){case"fulfilled":return a.value;case"rejected":throw a.reason}}throw a}(b),c,i,j,k);throw Error(d(31,"[object Object]"===(c=String(b))?"object with keys {"+Object.keys(b).join(", ")+"}":c))}return r}(a,i,"","",function(a){return b.call(c,a,j++)}),i}function x(a){if(-1===a._status){var b=a._result;(b=b()).then(function(b){(0===a._status||-1===a._status)&&(a._status=1,a._result=b)},function(b){(0===a._status||-1===a._status)&&(a._status=2,a._result=b)}),-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result}function y(){return new WeakMap}function z(){return{s:0,v:void 0,o:null,p:null}}b.Children={map:w,forEach:function(a,b,c){w(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;return w(a,function(){b++}),b},toArray:function(a){return w(a,function(a){return a})||[]},only:function(a){if(!t(a))throw Error(d(143));return a}},b.Fragment=i,b.Profiler=k,b.StrictMode=j,b.Suspense=m,b.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,b.cache=function(a){return function(){var b=c.A;if(!b)return a.apply(null,arguments);var d=b.getCacheForType(y);void 0===(b=d.get(a))&&(b=z(),d.set(a,b)),d=0;for(var e=arguments.length;d<e;d++){var f=arguments[d];if("function"==typeof f||"object"==typeof f&&null!==f){var g=b.o;null===g&&(b.o=g=new WeakMap),void 0===(b=g.get(f))&&(b=z(),g.set(f,b))}else null===(g=b.p)&&(b.p=g=new Map),void 0===(b=g.get(f))&&(b=z(),g.set(f,b))}if(1===b.s)return b.v;if(2===b.s)throw b.v;try{var h=a.apply(null,arguments);return(d=b).s=1,d.v=h}catch(a){throw(h=b).s=2,h.v=a,a}}},b.cacheSignal=function(){var a=c.A;return a?a.cacheSignal():null},b.captureOwnerStack=function(){return null},b.cloneElement=function(a,b,c){if(null==a)throw Error(d(267,a));var e=r({},a.props),f=a.key;if(null!=b)for(g in void 0!==b.key&&(f=""+b.key),b)q.call(b,g)&&"key"!==g&&"__self"!==g&&"__source"!==g&&("ref"!==g||void 0!==b.ref)&&(e[g]=b[g]);var g=arguments.length-2;if(1===g)e.children=c;else if(1<g){for(var h=Array(g),i=0;i<g;i++)h[i]=arguments[i+2];e.children=h}return s(a.type,f,e)},b.createElement=function(a,b,c){var d,e={},f=null;if(null!=b)for(d in void 0!==b.key&&(f=""+b.key),b)q.call(b,d)&&"key"!==d&&"__self"!==d&&"__source"!==d&&(e[d]=b[d]);var g=arguments.length-2;if(1===g)e.children=c;else if(1<g){for(var h=Array(g),i=0;i<g;i++)h[i]=arguments[i+2];e.children=h}if(a&&a.defaultProps)for(d in g=a.defaultProps)void 0===e[d]&&(e[d]=g[d]);return s(a,f,e)},b.createRef=function(){return{current:null}},b.forwardRef=function(a){return{$$typeof:l,render:a}},b.isValidElement=t,b.lazy=function(a){return{$$typeof:o,_payload:{_status:-1,_result:a},_init:x}},b.memo=function(a,b){return{$$typeof:n,type:a,compare:void 0===b?null:b}},b.use=function(a){return c.H.use(a)},b.useCallback=function(a,b){return c.H.useCallback(a,b)},b.useDebugValue=function(){},b.useId=function(){return c.H.useId()},b.useMemo=function(a,b){return c.H.useMemo(a,b)},b.version="19.2.0-canary-0bdb9206-20250818"},811:(a,b,c)=>{"use strict";let d;c.d(b,{EK:()=>t,v8:()=>k});var e=c(3321),f=c(8476);let{context:g,propagation:h,trace:i,SpanStatusCode:j,SpanKind:k,ROOT_CONTEXT:l}=d=c(6240);class m extends Error{constructor(a,b){super(),this.bubble=a,this.result=b}}let n=(a,b)=>{(function(a){return"object"==typeof a&&null!==a&&a instanceof m})(b)&&b.bubble?a.setAttribute("next.bubble",!0):(b&&(a.recordException(b),a.setAttribute("error.type",b.name)),a.setStatus({code:j.ERROR,message:null==b?void 0:b.message})),a.end()},o=new Map,p=d.createContextKey("next.rootSpanId"),q=0,r={set(a,b,c){a.push({key:b,value:c})}};class s{getTracerInstance(){return i.getTracer("next.js","0.0.1")}getContext(){return g}getTracePropagationData(){let a=g.active(),b=[];return h.inject(a,b,r),b}getActiveScopeSpan(){return i.getSpan(null==g?void 0:g.active())}withPropagatedContext(a,b,c){let d=g.active();if(i.getSpanContext(d))return b();let e=h.extract(d,a,c);return g.with(e,b)}trace(...a){var b;let[c,d,h]=a,{fn:j,options:k}="function"==typeof d?{fn:d,options:{}}:{fn:h,options:{...d}},m=k.spanName??c;if(!e.KK.includes(c)&&"1"!==process.env.NEXT_OTEL_VERBOSE||k.hideSpan)return j();let r=this.getSpanContext((null==k?void 0:k.parentSpan)??this.getActiveScopeSpan()),s=!1;r?(null==(b=i.getSpanContext(r))?void 0:b.isRemote)&&(s=!0):(r=(null==g?void 0:g.active())??l,s=!0);let t=q++;return k.attributes={"next.span_name":m,"next.span_type":c,...k.attributes},g.with(r.setValue(p,t),()=>this.getTracerInstance().startActiveSpan(m,k,a=>{let b="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0,d=()=>{o.delete(t),b&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&e.EI.includes(c||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(c.split(".").pop()||"").replace(/[A-Z]/g,a=>"-"+a.toLowerCase())}`,{start:b,end:performance.now()})};s&&o.set(t,new Map(Object.entries(k.attributes??{})));try{if(j.length>1)return j(a,b=>n(a,b));let b=j(a);if((0,f.Q)(b))return b.then(b=>(a.end(),b)).catch(b=>{throw n(a,b),b}).finally(d);return a.end(),d(),b}catch(b){throw n(a,b),d(),b}}))}wrap(...a){let b=this,[c,d,f]=3===a.length?a:[a[0],{},a[1]];return e.KK.includes(c)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let a=d;"function"==typeof a&&"function"==typeof f&&(a=a.apply(this,arguments));let e=arguments.length-1,h=arguments[e];if("function"!=typeof h)return b.trace(c,a,()=>f.apply(this,arguments));{let d=b.getContext().bind(g.active(),h);return b.trace(c,a,(a,b)=>(arguments[e]=function(a){return null==b||b(a),d.apply(this,arguments)},f.apply(this,arguments)))}}:f}startSpan(...a){let[b,c]=a,d=this.getSpanContext((null==c?void 0:c.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(b,c,d)}getSpanContext(a){return a?i.setSpan(g.active(),a):void 0}getRootSpanAttributes(){let a=g.active().getValue(p);return o.get(a)}setRootSpanAttribute(a,b){let c=g.active().getValue(p),d=o.get(c);d&&d.set(a,b)}}let t=(()=>{let a=new s;return()=>a})()},933:a=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="//");var b={};(()=>{b.parse=function(b,c){if("string"!=typeof b)throw TypeError("argument str must be a string");for(var e={},f=b.split(d),g=(c||{}).decode||a,h=0;h<f.length;h++){var i=f[h],j=i.indexOf("=");if(!(j<0)){var k=i.substr(0,j).trim(),l=i.substr(++j,i.length).trim();'"'==l[0]&&(l=l.slice(1,-1)),void 0==e[k]&&(e[k]=function(a,b){try{return b(a)}catch(b){return a}}(l,g))}}return e},b.serialize=function(a,b,d){var f=d||{},g=f.encode||c;if("function"!=typeof g)throw TypeError("option encode is invalid");if(!e.test(a))throw TypeError("argument name is invalid");var h=g(b);if(h&&!e.test(h))throw TypeError("argument val is invalid");var i=a+"="+h;if(null!=f.maxAge){var j=f.maxAge-0;if(isNaN(j)||!isFinite(j))throw TypeError("option maxAge is invalid");i+="; Max-Age="+Math.floor(j)}if(f.domain){if(!e.test(f.domain))throw TypeError("option domain is invalid");i+="; Domain="+f.domain}if(f.path){if(!e.test(f.path))throw TypeError("option path is invalid");i+="; Path="+f.path}if(f.expires){if("function"!=typeof f.expires.toUTCString)throw TypeError("option expires is invalid");i+="; Expires="+f.expires.toUTCString()}if(f.httpOnly&&(i+="; HttpOnly"),f.secure&&(i+="; Secure"),f.sameSite)switch("string"==typeof f.sameSite?f.sameSite.toLowerCase():f.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return i};var a=decodeURIComponent,c=encodeURIComponent,d=/; */,e=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/})(),a.exports=b})()},1113:(a,b,c)=>{"use strict";c.d(b,{Ny:()=>e,Ul:()=>f,WT:()=>d});let d=Symbol.for("NextInternalRequestMeta");function e(a,b){let c=a[d]||{};return"string"==typeof b?c[b]:c}function f(a,b,c){let f=e(a);return f[b]=c,a[d]=f,f}},1136:(a,b,c)=>{"use strict";c.d(b,{fQ:()=>f}),c(4983);var d=c(9304);c(1320);let e=Symbol.for("next.server.action-manifests");function f({page:a,clientReferenceManifest:b,serverActionsManifest:c,serverModuleMap:f}){var g;let h=null==(g=globalThis[e])?void 0:g.clientReferenceManifestsPerPage;globalThis[e]={clientReferenceManifestsPerPage:{...h,[(0,d.Y)(a)]:b},serverActionsManifest:c,serverModuleMap:f}}},1160:(a,b,c)=>{"use strict";var d=c(8798);function e(){}var f={d:{f:e,r:function(){throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.")},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null};if(!d.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE)throw Error('The "react" package in this environment is not configured correctly. The "react-server" condition must be enabled in any environment that runs React Server Components.');function g(a,b){return"font"===a?"":"string"==typeof b?"use-credentials"===b?b:"":void 0}b.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=f,b.preconnect=function(a,b){"string"==typeof a&&(b=b?"string"==typeof(b=b.crossOrigin)?"use-credentials"===b?b:"":void 0:null,f.d.C(a,b))},b.prefetchDNS=function(a){"string"==typeof a&&f.d.D(a)},b.preinit=function(a,b){if("string"==typeof a&&b&&"string"==typeof b.as){var c=b.as,d=g(c,b.crossOrigin),e="string"==typeof b.integrity?b.integrity:void 0,h="string"==typeof b.fetchPriority?b.fetchPriority:void 0;"style"===c?f.d.S(a,"string"==typeof b.precedence?b.precedence:void 0,{crossOrigin:d,integrity:e,fetchPriority:h}):"script"===c&&f.d.X(a,{crossOrigin:d,integrity:e,fetchPriority:h,nonce:"string"==typeof b.nonce?b.nonce:void 0})}},b.preinitModule=function(a,b){if("string"==typeof a)if("object"==typeof b&&null!==b){if(null==b.as||"script"===b.as){var c=g(b.as,b.crossOrigin);f.d.M(a,{crossOrigin:c,integrity:"string"==typeof b.integrity?b.integrity:void 0,nonce:"string"==typeof b.nonce?b.nonce:void 0})}}else null==b&&f.d.M(a)},b.preload=function(a,b){if("string"==typeof a&&"object"==typeof b&&null!==b&&"string"==typeof b.as){var c=b.as,d=g(c,b.crossOrigin);f.d.L(a,c,{crossOrigin:d,integrity:"string"==typeof b.integrity?b.integrity:void 0,nonce:"string"==typeof b.nonce?b.nonce:void 0,type:"string"==typeof b.type?b.type:void 0,fetchPriority:"string"==typeof b.fetchPriority?b.fetchPriority:void 0,referrerPolicy:"string"==typeof b.referrerPolicy?b.referrerPolicy:void 0,imageSrcSet:"string"==typeof b.imageSrcSet?b.imageSrcSet:void 0,imageSizes:"string"==typeof b.imageSizes?b.imageSizes:void 0,media:"string"==typeof b.media?b.media:void 0})}},b.preloadModule=function(a,b){if("string"==typeof a)if(b){var c=g(b.as,b.crossOrigin);f.d.m(a,{as:"string"==typeof b.as&&"script"!==b.as?b.as:void 0,crossOrigin:c,integrity:"string"==typeof b.integrity?b.integrity:void 0})}else f.d.m(a)},b.version="19.2.0-canary-0bdb9206-20250818"},1173:(a,b,c)=>{"use strict";c.d(b,{X$:()=>e,kf:()=>f,x8:()=>d});let d=a=>{Promise.resolve().then(()=>{setTimeout(a,0)})},e=a=>{setTimeout(a,0)};function f(){return new Promise(a=>setTimeout(a,0))}},1178:(a,b,c)=>{"use strict";c.d(b,{s:()=>d});let d=(0,c(3131).xl)()},1320:(a,b,c)=>{"use strict";c.d(b,{J:()=>d});let d=(0,c(3131).xl)()},1350:(a,b,c)=>{"use strict";c.d(b,{Cu:()=>g,RD:()=>f,p$:()=>e,qU:()=>h,wN:()=>i});var d=c(2205);function e(a){let b=new Headers;for(let[c,d]of Object.entries(a))for(let a of Array.isArray(d)?d:[d])void 0!==a&&("number"==typeof a&&(a=a.toString()),b.append(c,a));return b}function f(a){var b,c,d,e,f,g=[],h=0;function i(){for(;h<a.length&&/\s/.test(a.charAt(h));)h+=1;return h<a.length}for(;h<a.length;){for(b=h,f=!1;i();)if(","===(c=a.charAt(h))){for(d=h,h+=1,i(),e=h;h<a.length&&"="!==(c=a.charAt(h))&&";"!==c&&","!==c;)h+=1;h<a.length&&"="===a.charAt(h)?(f=!0,h=e,g.push(a.substring(b,d)),b=h):h=d+1}else h+=1;(!f||h>=a.length)&&g.push(a.substring(b,a.length))}return g}function g(a){let b={},c=[];if(a)for(let[d,e]of a.entries())"set-cookie"===d.toLowerCase()?(c.push(...f(e)),b[d]=1===c.length?c[0]:c):b[d]=e;return b}function h(a){try{return String(new URL(String(a)))}catch(b){throw Object.defineProperty(Error(`URL is malformed "${String(a)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:b}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}function i(a){for(let b of[d.AA,d.h])if(a!==b&&a.startsWith(b))return a.substring(b.length);return null}},1577:(a,b,c)=>{"use strict";c.d(b,{f:()=>d});class d extends Error{constructor(...a){super(...a),this.code="NEXT_STATIC_GEN_BAILOUT"}}},1619:(a,b,c)=>{"use strict";c.d(b,{$p:()=>i,cg:()=>h,xl:()=>g});let d=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class e{disable(){throw d}getStore(){}run(){throw d}exit(){throw d}enterWith(){throw d}static bind(a){return a}}let f="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function g(){return f?new f:new e}function h(a){return f?f.bind(a):e.bind(a)}function i(){return f?f.snapshot():function(a,...b){return a(...b)}}},1710:(a,b,c)=>{"use strict";c.d(b,{JM:()=>i,Kd:()=>h,Wk:()=>j,a$:()=>g});var d=c(6478),e=c(6805);let f=(a,b)=>{a.name="$ZodError",Object.defineProperty(a,"_zod",{value:a._zod,enumerable:!1}),Object.defineProperty(a,"issues",{value:b,enumerable:!1}),Object.defineProperty(a,"message",{get:()=>JSON.stringify(b,e.k8,2),enumerable:!0}),Object.defineProperty(a,"toString",{value:()=>a.message,enumerable:!1})},g=(0,d.xI)("$ZodError",f),h=(0,d.xI)("$ZodError",f,{Parent:Error});function i(a,b=a=>a.message){let c={},d=[];for(let e of a.issues)e.path.length>0?(c[e.path[0]]=c[e.path[0]]||[],c[e.path[0]].push(b(e))):d.push(b(e));return{formErrors:d,fieldErrors:c}}function j(a,b){let c=b||function(a){return a.message},d={_errors:[]},e=a=>{for(let b of a.issues)if("invalid_union"===b.code&&b.errors.length)b.errors.map(a=>e({issues:a}));else if("invalid_key"===b.code)e({issues:b.issues});else if("invalid_element"===b.code)e({issues:b.issues});else if(0===b.path.length)d._errors.push(c(b));else{let a=d,e=0;for(;e<b.path.length;){let d=b.path[e];e===b.path.length-1?(a[d]=a[d]||{_errors:[]},a[d]._errors.push(c(b))):a[d]=a[d]||{_errors:[]},a=a[d],e++}}};return e(a),d}},1786:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});var d=function(a){return a.PAGES="PAGES",a.PAGES_API="PAGES_API",a.APP_PAGE="APP_PAGE",a.APP_ROUTE="APP_ROUTE",a.IMAGE="IMAGE",a}({})},1853:a=>{"use strict";a.exports=["chrome 64","edge 79","firefox 67","opera 51","safari 12"]},1966:(a,b,c)=>{"use strict";let d;c.d(b,{AppRouteRouteModule:()=>aI});var e,f={};c.r(f),c.d(f,{AppRouterContext:()=>ah,GlobalLayoutRouterContext:()=>aj,LayoutRouterContext:()=>ai,MissingSlotContext:()=>al,TemplateContext:()=>ak});var g={};c.r(g),c.d(g,{appRouterContext:()=>f}),c(1853);let h={client:"client",server:"server",edgeServer:"edge-server"};h.client,h.server,h.edgeServer,Symbol("polyfills");var i=c(1),j=c(9817),k=c(9968),l=c(47),m=c(9711),n=c(278),o=c(3524),p=c(4673),q=c(7859);function r(a){return(0,q.m)(a||"/","/_next/data")&&"/index"===(a=a.replace(/\/_next\/data\/[^/]{1,}/,"").replace(/\.json$/,""))?"/":a}var s=c(1113);c(2849),c(140),c(9629);var t=c(5104),u=c(9304);let v=Symbol.for("@next/router-server-methods"),w=globalThis;var x=c(4885),y=c(6425);c(6831);class z{constructor({userland:a,definition:b,distDir:c,relativeProjectDir:d}){this.userland=a,this.definition=b,this.isDev=!1,this.distDir=c,this.relativeProjectDir=d}async instrumentationOnRequestError(a,...b){{let{getEdgeInstrumentationModule:a}=await Promise.resolve().then(c.bind(c,4555)),d=await a();d&&await (null==d.onRequestError?void 0:d.onRequestError.call(d,...b))}}loadManifests(a,b){{var d;let{getEdgePreviewProps:b}=c(6991),e=a=>a?JSON.parse(a):void 0;return{buildId:process.env.__NEXT_BUILD_ID||"",buildManifest:self.__BUILD_MANIFEST,fallbackBuildManifest:{},reactLoadableManifest:e(self.__REACT_LOADABLE_MANIFEST),nextFontManifest:e(self.__NEXT_FONT_MANIFEST),prerenderManifest:{routes:{},dynamicRoutes:{},notFoundRoutes:[],version:4,preview:b()},routesManifest:{version:4,caseSensitive:!1,basePath:"",rewrites:{beforeFiles:[],afterFiles:[],fallback:[]},redirects:[],headers:[],i18n:void 0,skipMiddlewareUrlNormalize:!1},serverFilesManifest:{config:globalThis.nextConfig||{}},clientReferenceManifest:null==(d=self.__RSC_MANIFEST)?void 0:d[a],serverActionsManifest:e(self.__RSC_SERVER_MANIFEST),subresourceIntegrityManifest:e(self.__SUBRESOURCE_INTEGRITY_MANIFEST),dynamicCssManifest:e(self.__DYNAMIC_CSS_MANIFEST),interceptionRoutePatterns:(e(self.__INTERCEPTION_ROUTE_REWRITE_MANIFEST)??[]).map(a=>new RegExp(a.regex))}}}async loadCustomCacheHandlers(a,b){}async getIncrementalCache(a,b,c){return globalThis.__incrementalCache}async onRequestError(a,b,c,d){(null==d?void 0:d.logErrorWithOriginalStack)?d.logErrorWithOriginalStack(b,"app-dir"):console.error(b),await this.instrumentationOnRequestError(a,b,{path:a.url||"/",headers:a.headers,method:a.method||"GET"},c)}async prepare(a,b,{srcPage:c,multiZoneDraftMode:d}){var e;let f,g,h,t,z=await this.loadManifests(c,f),{routesManifest:A,prerenderManifest:B,serverFilesManifest:C}=z,{basePath:D,i18n:E,rewrites:F}=A;D&&(a.url=(0,l.y)(a.url||"/",D));let G=(0,i.Rk)(a.url||"/");if(!G)return;let H=!1;(0,q.m)(G.pathname||"/","/_next/data")&&(H=!0,G.pathname=r(G.pathname||"/"));let I=G.pathname||"/",J={...G.query},K=(0,k.F)(c);E&&(g=(0,j.d)(G.pathname||"/",E.locales)).detectedLocale&&(a.url=`${g.pathname}${G.search}`,I=g.pathname,h||(h=g.detectedLocale));let L=(0,m.VQ)({page:c,i18n:E,basePath:D,rewrites:F,pageIsDynamic:K,trailingSlash:!1,caseSensitive:!!A.caseSensitive}),M=(0,n.C)(null==E?void 0:E.domains,(0,o.E)(G,a.headers),h);(0,s.Ul)(a,"isLocaleDomain",!!M);let N=(null==M?void 0:M.defaultLocale)||(null==E?void 0:E.defaultLocale);N&&!h&&(G.pathname=`/${N}${"/"===G.pathname?"":G.pathname}`);let O=(0,s.Ny)(a,"locale")||h||N,P=Object.keys(L.handleRewrites(a,G));E&&(G.pathname=(0,j.d)(G.pathname||"/",E.locales).pathname);let Q=(0,s.Ny)(a,"params");if(!Q&&L.dynamicRouteMatcher){let a=L.dynamicRouteMatcher(r((null==g?void 0:g.pathname)||G.pathname||"/")),b=L.normalizeDynamicRouteParams(a||{},!0);b.hasValidParams&&(Q=b.params)}let R=(0,s.Ny)(a,"query")||{...G.query},S=new Set,T=[];if(!this.isAppRouter)for(let a of[...P,...Object.keys(L.defaultRouteMatches||{})]){let b=Array.isArray(J[a])?J[a].join(""):J[a],c=Array.isArray(R[a])?R[a].join(""):R[a];a in J&&b!==c||T.push(a)}if(L.normalizeCdnUrl(a,T),L.normalizeQueryParams(R,S),L.filterInternalQuery(J,T),K){let b=L.normalizeDynamicRouteParams(R,!0),c=L.normalizeDynamicRouteParams(Q||{},!0).hasValidParams&&Q?Q:b.hasValidParams?R:{};if(a.url=L.interpolateDynamicPath(a.url||"/",c),G.pathname=L.interpolateDynamicPath(G.pathname||"/",c),I=L.interpolateDynamicPath(I,c),!Q)if(b.hasValidParams)for(let a in Q=Object.assign({},b.params),L.defaultRouteMatches)delete R[a];else{let a=null==L.dynamicRouteMatcher?void 0:L.dynamicRouteMatcher.call(L,r((null==g?void 0:g.pathname)||G.pathname||"/"));a&&(Q=Object.assign({},a))}}for(let a of S)a in J||delete R[a];let{isOnDemandRevalidate:U,revalidateOnlyGenerated:V}=(0,p.Gx)(a,B.preview),W=(0,s.Ny)(a,"relativeProjectDir")||this.relativeProjectDir,X=null==(e=w[v])?void 0:e[W],Y=(null==X?void 0:X.nextConfig)||C.config,Z=(0,u.Y)(c),$=(0,s.Ny)(a,"rewroteURL")||Z;(0,k.F)($)&&Q&&($=L.interpolateDynamicPath($,Q)),"/index"===$&&($="/");try{$=$.split("/").map(a=>{try{var b;b=decodeURIComponent(a),a=b.replace(RegExp("([/#?]|%(2f|23|3f|5c))","gi"),a=>encodeURIComponent(a))}catch(a){throw Object.defineProperty(new x.Xc("Failed to decode path param(s)."),"__NEXT_ERROR_CODE",{value:"E539",enumerable:!1,configurable:!0})}return a}).join("/")}catch(a){}return $=(0,y.U)($),{query:R,originalQuery:J,originalPathname:I,params:Q,parsedUrl:G,locale:O,isNextDataRequest:H,locales:null==E?void 0:E.locales,defaultLocale:N,isDraftMode:!1,previewData:t,pageIsDynamic:K,resolvedPathname:$,isOnDemandRevalidate:U,revalidateOnlyGenerated:V,...z,serverActionsManifest:z.serverActionsManifest,clientReferenceManifest:z.clientReferenceManifest,nextConfig:Y,routerServerContext:X}}getResponseCache(a){if(!this.responseCache){let b=(0,s.Ny)(a,"minimalMode")??!1;this.responseCache=new t.Ay(b)}return this.responseCache}async handleResponse({req:a,nextConfig:b,cacheKey:c,routeKind:d,isFallback:e,prerenderManifest:f,isRoutePPREnabled:g,isOnDemandRevalidate:h,revalidateOnlyGenerated:i,responseGenerator:j,waitUntil:k}){let l=this.getResponseCache(a),m=await l.get(c,j,{routeKind:d,isFallback:e,isRoutePPREnabled:g,isOnDemandRevalidate:h,isPrefetch:"prefetch"===a.headers.purpose,incrementalCache:await this.getIncrementalCache(a,b,f),waitUntil:k});if(!m&&c&&!(h&&i))throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return m}}var A=c(2596),B=c(7078);let C=["GET","HEAD","OPTIONS","POST","PUT","DELETE","PATCH"];var D=c(4481),E=c(8393),F=c(811),G=c(3321);let{env:H,stdout:I}=(null==(e=globalThis)?void 0:e.process)??{},J=H&&!H.NO_COLOR&&(H.FORCE_COLOR||(null==I?void 0:I.isTTY)&&!H.CI&&"dumb"!==H.TERM),K=(a,b,c,d)=>{let e=a.substring(0,d)+c,f=a.substring(d+b.length),g=f.indexOf(b);return~g?e+K(f,b,c,g):e+f},L=(a,b,c=a)=>J?d=>{let e=""+d,f=e.indexOf(b,a.length);return~f?a+K(e,b,c,f)+b:a+e+b}:String,M=L("\x1b[1m","\x1b[22m","\x1b[22m\x1b[1m");L("\x1b[2m","\x1b[22m","\x1b[22m\x1b[2m"),L("\x1b[3m","\x1b[23m"),L("\x1b[4m","\x1b[24m"),L("\x1b[7m","\x1b[27m"),L("\x1b[8m","\x1b[28m"),L("\x1b[9m","\x1b[29m"),L("\x1b[30m","\x1b[39m");let N=L("\x1b[31m","\x1b[39m"),O=L("\x1b[32m","\x1b[39m"),P=L("\x1b[33m","\x1b[39m");L("\x1b[34m","\x1b[39m");let Q=L("\x1b[35m","\x1b[39m");L("\x1b[38;2;173;127;168m","\x1b[39m"),L("\x1b[36m","\x1b[39m");let R=L("\x1b[37m","\x1b[39m");L("\x1b[90m","\x1b[39m"),L("\x1b[40m","\x1b[49m"),L("\x1b[41m","\x1b[49m"),L("\x1b[42m","\x1b[49m"),L("\x1b[43m","\x1b[49m"),L("\x1b[44m","\x1b[49m"),L("\x1b[45m","\x1b[49m"),L("\x1b[46m","\x1b[49m"),L("\x1b[47m","\x1b[49m");var S=c(4364);R(M("○")),N(M("⨯")),P(M("⚠")),R(M(" ")),O(M("✓")),Q(M("\xbb")),new S.q(1e4,a=>a.length);let T=["HEAD","OPTIONS"];function U(){return new Response(null,{status:405})}var V=c(9643),W=c(8498);c(3621),c(8955);var X=c(3660),Y=c(3749);let Z=new Set(Object.values({NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401}));function $(a){if("object"!=typeof a||null===a||!("digest"in a)||"string"!=typeof a.digest)return!1;let[b,c]=a.digest.split(";");return"NEXT_HTTP_ERROR_FALLBACK"===b&&Z.has(Number(c))}var _=c(7554);function aa(a){if("object"!=typeof a||null===a||!("digest"in a)||"string"!=typeof a.digest)return!1;let b=a.digest.split(";"),[c,d]=b,e=b.slice(2,-2).join(";"),f=Number(b.at(-2));return"NEXT_REDIRECT"===c&&("replace"===d||"push"===d)&&"string"==typeof e&&!isNaN(f)&&f in _.Q}var ab=c(5823);function ac(a,b){let c;if(!function(a){if((0,X.C)(a)||aa(a)||$(a)||(0,Y.isDynamicServerError)(a)||(0,ab.AA)(a))return a.digest}(a)){if("object"==typeof a&&null!==a&&"message"in a&&"string"==typeof a.message&&a.message.startsWith("This rendered a large document (>"))return void console.error(a);if("object"==typeof a&&null!==a&&"string"==typeof a.message){if(c=a.message,"string"==typeof a.stack){let d=a.stack,e=d.indexOf("\n");if(e>-1){let a=Object.defineProperty(Error(`Route ${b} errored during the prospective render. These errors are normally ignored and may not prevent the route from prerendering but are logged here because build debugging is enabled.
          
Original Error: ${c}`),"__NEXT_ERROR_CODE",{value:"E362",enumerable:!1,configurable:!0});a.stack="Error: "+a.message+d.slice(e),console.error(a);return}}}else"string"==typeof a&&(c=a);if(c)return void console.error(`Route ${b} errored during the prospective render. These errors are normally ignored and may not prevent the route from prerendering but are logged here because build debugging is enabled. No stack was provided.
          
Original Message: ${c}`);console.error(`Route ${b} errored during the prospective render. These errors are normally ignored and may not prevent the route from prerendering but are logged here because build debugging is enabled. The thrown value is logged just following this message`),console.error(a)}}var ad=c(1320),ae=c(5862),af=c(1178),ag=c(4515);let ah=(0,ag.YR)(function(){throw Error("Attempted to call AppRouterContext() from the server but AppRouterContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/mahmoudmac/Projects/autoshield-brilliance/node_modules/.pnpm/next@15.5.9_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js","AppRouterContext"),ai=(0,ag.YR)(function(){throw Error("Attempted to call LayoutRouterContext() from the server but LayoutRouterContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/mahmoudmac/Projects/autoshield-brilliance/node_modules/.pnpm/next@15.5.9_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js","LayoutRouterContext"),aj=(0,ag.YR)(function(){throw Error("Attempted to call GlobalLayoutRouterContext() from the server but GlobalLayoutRouterContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/mahmoudmac/Projects/autoshield-brilliance/node_modules/.pnpm/next@15.5.9_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js","GlobalLayoutRouterContext"),ak=(0,ag.YR)(function(){throw Error("Attempted to call TemplateContext() from the server but TemplateContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/mahmoudmac/Projects/autoshield-brilliance/node_modules/.pnpm/next@15.5.9_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js","TemplateContext"),al=(0,ag.YR)(function(){throw Error("Attempted to call MissingSlotContext() from the server but MissingSlotContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/mahmoudmac/Projects/autoshield-brilliance/node_modules/.pnpm/next@15.5.9_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js","MissingSlotContext");var am=c(3375),an=c(1969),ao=c(1577),ap=c(4953),aq=c(4983);class ar{constructor(){throw this.count=0,this.earlyListeners=[],this.listeners=[],this.tickPending=!1,this.taskPending=!1,this.subscribedSignals=null,Object.defineProperty(new aq.z("CacheSignal cannot be used in the edge runtime, because `cacheComponents` does not support it."),"__NEXT_ERROR_CODE",{value:"E685",enumerable:!1,configurable:!0})}noMorePendingCaches(){this.tickPending||(this.tickPending=!0,process.nextTick(()=>{if(this.tickPending=!1,0===this.count){for(let a=0;a<this.earlyListeners.length;a++)this.earlyListeners[a]();this.earlyListeners.length=0}})),this.taskPending||(this.taskPending=!0,setTimeout(()=>{if(this.taskPending=!1,0===this.count){for(let a=0;a<this.listeners.length;a++)this.listeners[a]();this.listeners.length=0}},0))}inputReady(){return new Promise(a=>{this.earlyListeners.push(a),0===this.count&&this.noMorePendingCaches()})}cacheReady(){return new Promise(a=>{this.listeners.push(a),0===this.count&&this.noMorePendingCaches()})}beginRead(){if(this.count++,null!==this.subscribedSignals)for(let a of this.subscribedSignals)a.beginRead()}endRead(){if(0===this.count)throw Object.defineProperty(new aq.z("CacheSignal got more endRead() calls than beginRead() calls"),"__NEXT_ERROR_CODE",{value:"E678",enumerable:!1,configurable:!0});if(this.count--,0===this.count&&this.noMorePendingCaches(),null!==this.subscribedSignals)for(let a of this.subscribedSignals)a.endRead()}trackRead(a){this.beginRead();let b=this.endRead.bind(this);return a.then(b,b),a}subscribeToReads(a){if(a===this)throw Object.defineProperty(new aq.z("A CacheSignal cannot subscribe to itself"),"__NEXT_ERROR_CODE",{value:"E679",enumerable:!1,configurable:!0});null===this.subscribedSignals&&(this.subscribedSignals=new Set),this.subscribedSignals.add(a);for(let b=0;b<this.count;b++)a.beginRead();return this.unsubscribeFromReads.bind(this,a)}unsubscribeFromReads(a){this.subscribedSignals&&this.subscribedSignals.delete(a)}}var as=c(1173);let at=/^[A-Za-z_$][A-Za-z0-9_$]*$/;function au(a,b){return at.test(b)?"`"+a+"."+b+"`":"`"+a+"["+JSON.stringify(b)+"]`"}let av=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","then","catch","finally","status","displayName","_debugInfo","toJSON","$$typeof","__esModule"]);var aw=c(5218),ax=c(8798);let ay={current:null},az="function"==typeof ax.cache?ax.cache:a=>a,aA=console.warn;function aB(a){return function(...b){aA(a(...b))}}az(a=>{try{aA(ay.current)}finally{ay.current=null}});let aC=(0,c(3131).xl)(),aD=new WeakMap,aE={get:function(a,b,c){if("then"===b||"catch"===b||"finally"===b){let d=ap.l.get(a,b,c);return({[b]:(...b)=>{let c=aC.getStore();return c&&c.abortController.abort(Object.defineProperty(Error("Accessed fallback `params` during prerendering."),"__NEXT_ERROR_CODE",{value:"E691",enumerable:!1,configurable:!0})),new Proxy(d.apply(a,b),aE)}})[b]}return ap.l.get(a,b,c)}};function aF(a){let b=aD.get(a);if(b)return b;let c=Promise.resolve(a);return aD.set(a,c),Object.keys(a).forEach(b=>{av.has(b)||(c[b]=a[b])}),c}aB(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`params\` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E307",enumerable:!1,configurable:!0})}),aB(function(a,b,c){let d=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${d}used ${b}. \`params\` should be awaited before using its properties. The following properties were not available through enumeration because they conflict with builtin property names: ${function(a){switch(a.length){case 0:throw Object.defineProperty(new aq.z("Expected describeListOfPropertyNames to be called with a non-empty list of strings."),"__NEXT_ERROR_CODE",{value:"E531",enumerable:!1,configurable:!0});case 1:return`\`${a[0]}\``;case 2:return`\`${a[0]}\` and \`${a[1]}\``;default:{let b="";for(let c=0;c<a.length-1;c++)b+=`\`${a[c]}\`, `;return b+`, and \`${a[a.length-1]}\``}}}(c)}. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E482",enumerable:!1,configurable:!0})}),c(1178).s;var aG=c(2205),aH=c(9646);class aI extends z{static #a=this.sharedModules=g;constructor({userland:a,definition:b,distDir:c,relativeProjectDir:d,resolvedPagePath:e,nextConfigOutput:f}){if(super({userland:a,definition:b,distDir:c,relativeProjectDir:d}),this.workUnitAsyncStorage=ae.FP,this.workAsyncStorage=ad.J,this.serverHooks=Y,this.actionAsyncStorage=af.s,this.resolvedPagePath=e,this.nextConfigOutput=f,this.methods=function(a){let b=C.reduce((b,c)=>({...b,[c]:a[c]??U}),{}),c=new Set(C.filter(b=>a[b]));for(let d of T.filter(a=>!c.has(a))){if("HEAD"===d){a.GET&&(b.HEAD=a.GET,c.add("HEAD"));continue}if("OPTIONS"===d){let a=["OPTIONS",...c];!c.has("HEAD")&&c.has("GET")&&a.push("HEAD");let d={Allow:a.sort().join(", ")};b.OPTIONS=()=>new Response(null,{status:204,headers:d}),c.add("OPTIONS");continue}throw Object.defineProperty(Error(`Invariant: should handle all automatic implementable methods, got method: ${d}`),"__NEXT_ERROR_CODE",{value:"E211",enumerable:!1,configurable:!0})}return b}(a),this.isAppRouter=!0,this.hasNonStaticMethods=function(a){return!!a.POST||!!a.PUT||!!a.DELETE||!!a.PATCH||!!a.OPTIONS}(a),this.dynamic=this.userland.dynamic,"export"===this.nextConfigOutput)if("force-dynamic"===this.dynamic)throw Object.defineProperty(Error(`export const dynamic = "force-dynamic" on page "${b.pathname}" cannot be used with "output: export". See more info here: https://nextjs.org/docs/advanced-features/static-html-export`),"__NEXT_ERROR_CODE",{value:"E278",enumerable:!1,configurable:!0});else if(!function(a){return"force-static"===a.dynamic||"error"===a.dynamic||!1===a.revalidate||void 0!==a.revalidate&&a.revalidate>0||"function"==typeof a.generateStaticParams}(this.userland)&&this.userland.GET)throw Object.defineProperty(Error(`export const dynamic = "force-static"/export const revalidate not configured on route "${b.pathname}" with "output: export". See more info here: https://nextjs.org/docs/advanced-features/static-html-export`),"__NEXT_ERROR_CODE",{value:"E301",enumerable:!1,configurable:!0});else this.dynamic="error"}resolve(a){return C.includes(a)?this.methods[a]:()=>new Response(null,{status:400})}async do(a,b,c,e,f,g,h){let i,j=c.isStaticGeneration,k=!!(null==(o=h.renderOpts.experimental)?void 0:o.cacheComponents);(0,E.V5)({workAsyncStorage:this.workAsyncStorage,workUnitAsyncStorage:this.workUnitAsyncStorage});let l={params:h.params?function(a,b){let c=ae.FP.getStore();if(c)switch(c.type){case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":return function(a,b,c){switch(c.type){case"prerender":case"prerender-client":{let g=c.fallbackRouteParams;if(g){for(let h in a)if(g.has(h)){var d=a,e=b,f=c;let g=aD.get(d);if(g)return g;let h=new Proxy((0,aw.W5)(f.renderSignal,e.route,"`params`"),aE);return aD.set(d,h),h}}break}case"prerender-ppr":{let d=c.fallbackRouteParams;if(d){for(let e in a)if(d.has(e))return function(a,b,c,d){let e=aD.get(a);if(e)return e;let f={...a},g=Promise.resolve(f);return aD.set(a,g),Object.keys(a).forEach(e=>{av.has(e)||(b.has(e)?(Object.defineProperty(f,e,{get(){let a=au("params",e);"prerender-ppr"===d.type?(0,ab.Ui)(c.route,a,d.dynamicTracking):(0,ab.xI)(a,c,d)},enumerable:!0}),Object.defineProperty(g,e,{get(){let a=au("params",e);"prerender-ppr"===d.type?(0,ab.Ui)(c.route,a,d.dynamicTracking):(0,ab.xI)(a,c,d)},set(a){Object.defineProperty(g,e,{value:a,writable:!0,enumerable:!0})},enumerable:!0,configurable:!0})):g[e]=a[e])}),g}(a,d,b,c)}}}return aF(a)}(a,b,c);case"cache":case"private-cache":case"unstable-cache":throw Object.defineProperty(new aq.z("createServerParamsForRoute should not be called in cache contexts."),"__NEXT_ERROR_CODE",{value:"E738",enumerable:!1,configurable:!0});case"prerender-runtime":var d,e;return d=a,e=c,(0,ab.wi)(e,aF(d));case"request":return aF(a)}(0,ae.bR)()}(function(a){let b={};for(let[c,d]of Object.entries(a))void 0!==d&&(b[c]=d);return b}(h.params),c):void 0},m=()=>{h.renderOpts.pendingWaitUntil=(0,aH.C)(c).finally(()=>{process.env.NEXT_PRIVATE_DEBUG_CACHE&&console.log("pending revalidates promise finished for:",e.url)})},n=null;try{if(j){let b=this.userland.revalidate,e=!1===b||void 0===b?aG.AR:b;if(k){var o,p;let b,h=new AbortController,j=!1,k=new ar,m=(0,ab.uO)(void 0),q=n={type:"prerender",phase:"action",rootParams:{},fallbackRouteParams:null,implicitTags:f,renderSignal:h.signal,controller:h,cacheSignal:k,dynamicTracking:m,allowEmptyStaticShell:!1,revalidate:e,expire:aG.AR,stale:aG.AR,tags:[...f.tags],prerenderResumeDataCache:null,renderResumeDataCache:null,hmrRefreshHash:void 0,captureOwnerStack:void 0};try{b=this.workUnitAsyncStorage.run(q,a,g,l)}catch(a){h.signal.aborted?j=!0:(process.env.NEXT_DEBUG_BUILD||process.env.__NEXT_VERBOSE_LOGGING)&&ac(a,c.route)}"object"==typeof b&&null!==b&&"function"==typeof b.then&&b.then(()=>{},a=>{h.signal.aborted?j=!0:process.env.NEXT_DEBUG_BUILD&&ac(a,c.route)});let r=(!d&&(d=new ar),d).subscribeToReads(k);if(k.cacheReady().then(r),await k.cacheReady(),j){let a=(0,ab.gz)(m);if(a)throw Object.defineProperty(new Y.DynamicServerError(`Route ${c.route} couldn't be rendered statically because it used \`${a}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw console.error("Expected Next.js to keep track of reason for opting out of static rendering but one was not found. This is a bug in Next.js"),Object.defineProperty(new Y.DynamicServerError(`Route ${c.route} couldn't be rendered statically because it used a dynamic API. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E577",enumerable:!1,configurable:!0})}let s=new AbortController;m=(0,ab.uO)(void 0);let t=n={type:"prerender",phase:"action",rootParams:{},fallbackRouteParams:null,implicitTags:f,renderSignal:s.signal,controller:s,cacheSignal:null,dynamicTracking:m,allowEmptyStaticShell:!1,revalidate:e,expire:aG.AR,stale:aG.AR,tags:[...f.tags],prerenderResumeDataCache:null,renderResumeDataCache:null,hmrRefreshHash:void 0,captureOwnerStack:void 0},u=!1;if(i=await new Promise((b,d)=>{(0,as.X$)(async()=>{try{let e=await this.workUnitAsyncStorage.run(t,a,g,l);if(u)return;if(!(e instanceof Response))return void b(e);u=!0;let f=!1;e.arrayBuffer().then(a=>{f||(f=!0,b(new Response(a,{headers:e.headers,status:e.status,statusText:e.statusText})))},d),(0,as.X$)(()=>{f||(f=!0,s.abort(),d(aV(c.route)))})}catch(a){d(a)}}),(0,as.X$)(()=>{u||(u=!0,s.abort(),d(aV(c.route)))})}),s.signal.aborted)throw aV(c.route);s.abort()}else n={type:"prerender-legacy",phase:"action",rootParams:{},implicitTags:f,revalidate:e,expire:aG.AR,stale:aG.AR,tags:[...f.tags]},i=await ae.FP.run(n,a,g,l)}else i=await ae.FP.run(e,a,g,l)}catch(a){if(aa(a)){let c=aa(a)?a.digest.split(";").slice(2,-2).join(";"):null;if(!c)throw Object.defineProperty(Error("Invariant: Unexpected redirect url format"),"__NEXT_ERROR_CODE",{value:"E399",enumerable:!1,configurable:!0});let d=new Headers({Location:c});return(0,V.IN)(d,e.mutableCookies),m(),new Response(null,{status:b.isAction?_.Q.SeeOther:function(a){if(!aa(a))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(a.digest.split(";").at(-2))}(a),headers:d})}if($(a))return new Response(null,{status:Number(a.digest.split(";")[1])});throw a}if(!(i instanceof Response))throw Object.defineProperty(Error(`No response is returned from route handler '${this.resolvedPagePath}'. Ensure you return a \`Response\` or a \`NextResponse\` in all branches of your handler.`),"__NEXT_ERROR_CODE",{value:"E325",enumerable:!1,configurable:!0});h.renderOpts.fetchMetrics=c.fetchMetrics,m(),n&&(h.renderOpts.collectedTags=null==(p=n.tags)?void 0:p.join(","),h.renderOpts.collectedRevalidate=n.revalidate,h.renderOpts.collectedExpire=n.expire,h.renderOpts.collectedStale=n.stale);let q=new Headers(i.headers);return(0,V.IN)(q,e.mutableCookies)?new Response(i.body,{status:i.status,statusText:i.statusText,headers:q}):i}async handle(a,b){let c=this.resolve(a.method),d={page:this.definition.page,renderOpts:b.renderOpts,buildId:b.sharedContext.buildId,previouslyRevalidatedTags:[]};d.renderOpts.fetchCache=this.userland.fetchCache;let e={isAppRoute:!0,isAction:function(a){let b,c;a.headers instanceof Headers?(b=a.headers.get(am.ts)??null,c=a.headers.get("content-type")):(b=a.headers[am.ts]??null,c=a.headers["content-type"]??null);let d="POST"===a.method&&"application/x-www-form-urlencoded"===c,e=!!("POST"===a.method&&(null==c?void 0:c.startsWith("multipart/form-data"))),f=void 0!==b&&"string"==typeof b&&"POST"===a.method;return{actionId:b,isURLEncodedAction:d,isMultipartAction:e,isFetchAction:f,isPossibleServerAction:!!(f||d||e)}}(a).isPossibleServerAction},f=await (0,D.l)(this.definition.page,a.nextUrl,null),g=(0,A.q9)(a,a.nextUrl,f,void 0,b.prerenderManifest.preview),h=(0,B.X)(d),i=await this.actionAsyncStorage.run(e,()=>this.workUnitAsyncStorage.run(g,()=>this.workAsyncStorage.run(h,async()=>{if(this.hasNonStaticMethods&&h.isStaticGeneration){let a=Object.defineProperty(new Y.DynamicServerError("Route is configured with methods that cannot be statically generated."),"__NEXT_ERROR_CODE",{value:"E582",enumerable:!1,configurable:!0});throw h.dynamicUsageDescription=a.message,h.dynamicUsageStack=a.stack,a}let d=a;switch(this.dynamic){case"force-dynamic":if(h.forceDynamic=!0,h.isStaticGeneration){let a=Object.defineProperty(new Y.DynamicServerError("Route is configured with dynamic = error which cannot be statically generated."),"__NEXT_ERROR_CODE",{value:"E703",enumerable:!1,configurable:!0});throw h.dynamicUsageDescription=a.message,h.dynamicUsageStack=a.stack,a}break;case"force-static":h.forceStatic=!0,d=new Proxy(a,aR);break;case"error":h.dynamicShouldError=!0,h.isStaticGeneration&&(d=new Proxy(a,aT));break;case void 0:case"auto":d=function(a,b){let c={get(a,d,e){switch(d){case"search":case"searchParams":case"url":case"href":case"toJSON":case"toString":case"origin":return aW(b,ae.FP.getStore(),`nextUrl.${d}`),ap.l.get(a,d,e);case"clone":return a[aL]||(a[aL]=()=>new Proxy(a.clone(),c));default:return ap.l.get(a,d,e)}}},d={get(a,e){switch(e){case"nextUrl":return a[aJ]||(a[aJ]=new Proxy(a.nextUrl,c));case"headers":case"cookies":case"url":case"body":case"blob":case"json":case"text":case"arrayBuffer":case"formData":return aW(b,ae.FP.getStore(),`request.${e}`),ap.l.get(a,e,a);case"clone":return a[aK]||(a[aK]=()=>new Proxy(a.clone(),d));default:return ap.l.get(a,e,a)}}};return new Proxy(a,d)}(a,h);break;default:this.dynamic}let i=function(a){let b="/app/";a.includes(b)||(b="\\app\\");let[,...c]=a.split(b);return(b[0]+c.join(b)).split(".").slice(0,-1).join(".")}(this.resolvedPagePath),j=(0,F.EK)();return j.setRootSpanAttribute("next.route",i),j.trace(G.jM.runHandler,{spanName:`executing api route (app) ${i}`,attributes:{"next.route":i}},async()=>this.do(c,e,h,g,f,d,b))})));if(!(i instanceof Response))return new Response(null,{status:500});if(i.headers.has("x-middleware-rewrite"))throw Object.defineProperty(Error("NextResponse.rewrite() was used in a app route handler, this is not currently supported. Please remove the invocation to continue."),"__NEXT_ERROR_CODE",{value:"E374",enumerable:!1,configurable:!0});if("1"===i.headers.get("x-middleware-next"))throw Object.defineProperty(Error("NextResponse.next() was used in a app route handler, this is not supported. See here for more info: https://nextjs.org/docs/messages/next-response-next-in-app-route-handler"),"__NEXT_ERROR_CODE",{value:"E385",enumerable:!1,configurable:!0});return i}}let aJ=Symbol("nextUrl"),aK=Symbol("clone"),aL=Symbol("clone"),aM=Symbol("searchParams"),aN=Symbol("href"),aO=Symbol("toString"),aP=Symbol("headers"),aQ=Symbol("cookies"),aR={get(a,b,c){switch(b){case"headers":return a[aP]||(a[aP]=W.o.seal(new Headers({})));case"cookies":return a[aQ]||(a[aQ]=V.Ck.seal(new an.RequestCookies(new Headers({}))));case"nextUrl":return a[aJ]||(a[aJ]=new Proxy(a.nextUrl,aS));case"url":return c.nextUrl.href;case"geo":case"ip":return;case"clone":return a[aK]||(a[aK]=()=>new Proxy(a.clone(),aR));default:return ap.l.get(a,b,c)}}},aS={get(a,b,c){switch(b){case"search":return"";case"searchParams":return a[aM]||(a[aM]=new URLSearchParams);case"href":return a[aN]||(a[aN]=function(a){let b=new URL(a);return b.host="localhost:3000",b.search="",b.protocol="http",b}(a.href).href);case"toJSON":case"toString":return a[aO]||(a[aO]=()=>c.href);case"url":return;case"clone":return a[aL]||(a[aL]=()=>new Proxy(a.clone(),aS));default:return ap.l.get(a,b,c)}}},aT={get(a,b,c){switch(b){case"nextUrl":return a[aJ]||(a[aJ]=new Proxy(a.nextUrl,aU));case"headers":case"cookies":case"url":case"body":case"blob":case"json":case"text":case"arrayBuffer":case"formData":throw Object.defineProperty(new ao.f(`Route ${a.nextUrl.pathname} with \`dynamic = "error"\` couldn't be rendered statically because it used \`request.${b}\`.`),"__NEXT_ERROR_CODE",{value:"E611",enumerable:!1,configurable:!0});case"clone":return a[aK]||(a[aK]=()=>new Proxy(a.clone(),aT));default:return ap.l.get(a,b,c)}}},aU={get(a,b,c){switch(b){case"search":case"searchParams":case"url":case"href":case"toJSON":case"toString":case"origin":throw Object.defineProperty(new ao.f(`Route ${a.pathname} with \`dynamic = "error"\` couldn't be rendered statically because it used \`nextUrl.${b}\`.`),"__NEXT_ERROR_CODE",{value:"E575",enumerable:!1,configurable:!0});case"clone":return a[aL]||(a[aL]=()=>new Proxy(a.clone(),aU));default:return ap.l.get(a,b,c)}}};function aV(a){return Object.defineProperty(new Y.DynamicServerError(`Route ${a} couldn't be rendered statically because it used IO that was not cached. See more info here: https://nextjs.org/docs/messages/cache-components`),"__NEXT_ERROR_CODE",{value:"E609",enumerable:!1,configurable:!0})}function aW(a,b,c){if(a.dynamicShouldError)throw Object.defineProperty(new ao.f(`Route ${a.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${c}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(b)switch(b.type){case"cache":case"private-cache":throw Object.defineProperty(Error(`Route ${a.route} used "${c}" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "${c}" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E178",enumerable:!1,configurable:!0});case"unstable-cache":throw Object.defineProperty(Error(`Route ${a.route} used "${c}" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "${c}" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E133",enumerable:!1,configurable:!0});case"prerender":let d=Object.defineProperty(Error(`Route ${a.route} used ${c} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-request`),"__NEXT_ERROR_CODE",{value:"E261",enumerable:!1,configurable:!0});return(0,ab.t3)(a.route,c,d,b);case"prerender-client":throw Object.defineProperty(new aq.z("A client prerender store should not be used for a route handler."),"__NEXT_ERROR_CODE",{value:"E720",enumerable:!1,configurable:!0});case"prerender-runtime":throw Object.defineProperty(new aq.z("A runtime prerender store should not be used for a route handler."),"__NEXT_ERROR_CODE",{value:"E767",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,ab.Ui)(a.route,c,b.dynamicTracking);case"prerender-legacy":b.revalidate=0;let e=Object.defineProperty(new Y.DynamicServerError(`Route ${a.route} couldn't be rendered statically because it used \`${c}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw a.dynamicUsageDescription=c,a.dynamicUsageStack=e.stack,e}}},1969:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f={};function g(a){var b;let c=["path"in a&&a.path&&`Path=${a.path}`,"expires"in a&&(a.expires||0===a.expires)&&`Expires=${("number"==typeof a.expires?new Date(a.expires):a.expires).toUTCString()}`,"maxAge"in a&&"number"==typeof a.maxAge&&`Max-Age=${a.maxAge}`,"domain"in a&&a.domain&&`Domain=${a.domain}`,"secure"in a&&a.secure&&"Secure","httpOnly"in a&&a.httpOnly&&"HttpOnly","sameSite"in a&&a.sameSite&&`SameSite=${a.sameSite}`,"partitioned"in a&&a.partitioned&&"Partitioned","priority"in a&&a.priority&&`Priority=${a.priority}`].filter(Boolean),d=`${a.name}=${encodeURIComponent(null!=(b=a.value)?b:"")}`;return 0===c.length?d:`${d}; ${c.join("; ")}`}function h(a){let b=new Map;for(let c of a.split(/; */)){if(!c)continue;let a=c.indexOf("=");if(-1===a){b.set(c,"true");continue}let[d,e]=[c.slice(0,a),c.slice(a+1)];try{b.set(d,decodeURIComponent(null!=e?e:"true"))}catch{}}return b}function i(a){if(!a)return;let[[b,c],...d]=h(a),{domain:e,expires:f,httponly:g,maxage:i,path:l,samesite:m,secure:n,partitioned:o,priority:p}=Object.fromEntries(d.map(([a,b])=>[a.toLowerCase().replace(/-/g,""),b]));{var q,r,s={name:b,value:decodeURIComponent(c),domain:e,...f&&{expires:new Date(f)},...g&&{httpOnly:!0},..."string"==typeof i&&{maxAge:Number(i)},path:l,...m&&{sameSite:j.includes(q=(q=m).toLowerCase())?q:void 0},...n&&{secure:!0},...p&&{priority:k.includes(r=(r=p).toLowerCase())?r:void 0},...o&&{partitioned:!0}};let a={};for(let b in s)s[b]&&(a[b]=s[b]);return a}}((a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})})(f,{RequestCookies:()=>l,ResponseCookies:()=>m,parseCookie:()=>h,parseSetCookie:()=>i,stringifyCookie:()=>g}),a.exports=((a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a})(b({},"__esModule",{value:!0}),f);var j=["strict","lax","none"],k=["low","medium","high"],l=class{constructor(a){this._parsed=new Map,this._headers=a;let b=a.get("cookie");if(b)for(let[a,c]of h(b))this._parsed.set(a,{name:a,value:c})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...a){let b="string"==typeof a[0]?a[0]:a[0].name;return this._parsed.get(b)}getAll(...a){var b;let c=Array.from(this._parsed);if(!a.length)return c.map(([a,b])=>b);let d="string"==typeof a[0]?a[0]:null==(b=a[0])?void 0:b.name;return c.filter(([a])=>a===d).map(([a,b])=>b)}has(a){return this._parsed.has(a)}set(...a){let[b,c]=1===a.length?[a[0].name,a[0].value]:a,d=this._parsed;return d.set(b,{name:b,value:c}),this._headers.set("cookie",Array.from(d).map(([a,b])=>g(b)).join("; ")),this}delete(a){let b=this._parsed,c=Array.isArray(a)?a.map(a=>b.delete(a)):b.delete(a);return this._headers.set("cookie",Array.from(b).map(([a,b])=>g(b)).join("; ")),c}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(a=>`${a.name}=${encodeURIComponent(a.value)}`).join("; ")}},m=class{constructor(a){var b,c,d;this._parsed=new Map,this._headers=a;let e=null!=(d=null!=(c=null==(b=a.getSetCookie)?void 0:b.call(a))?c:a.get("set-cookie"))?d:[];for(let a of Array.isArray(e)?e:function(a){if(!a)return[];var b,c,d,e,f,g=[],h=0;function i(){for(;h<a.length&&/\s/.test(a.charAt(h));)h+=1;return h<a.length}for(;h<a.length;){for(b=h,f=!1;i();)if(","===(c=a.charAt(h))){for(d=h,h+=1,i(),e=h;h<a.length&&"="!==(c=a.charAt(h))&&";"!==c&&","!==c;)h+=1;h<a.length&&"="===a.charAt(h)?(f=!0,h=e,g.push(a.substring(b,d)),b=h):h=d+1}else h+=1;(!f||h>=a.length)&&g.push(a.substring(b,a.length))}return g}(e)){let b=i(a);b&&this._parsed.set(b.name,b)}}get(...a){let b="string"==typeof a[0]?a[0]:a[0].name;return this._parsed.get(b)}getAll(...a){var b;let c=Array.from(this._parsed.values());if(!a.length)return c;let d="string"==typeof a[0]?a[0]:null==(b=a[0])?void 0:b.name;return c.filter(a=>a.name===d)}has(a){return this._parsed.has(a)}set(...a){let[b,c,d]=1===a.length?[a[0].name,a[0].value,a[0]]:a,e=this._parsed;return e.set(b,function(a={name:"",value:""}){return"number"==typeof a.expires&&(a.expires=new Date(a.expires)),a.maxAge&&(a.expires=new Date(Date.now()+1e3*a.maxAge)),(null===a.path||void 0===a.path)&&(a.path="/"),a}({name:b,value:c,...d})),function(a,b){for(let[,c]of(b.delete("set-cookie"),a)){let a=g(c);b.append("set-cookie",a)}}(e,this._headers),this}delete(...a){let[b,c]="string"==typeof a[0]?[a[0]]:[a[0].name,a[0]];return this.set({...c,name:b,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(g).join("; ")}}},1988:a=>{(()=>{"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="//");var b={};({318:function(a,b){(function(a){"use strict";class b extends TypeError{constructor(a,b){let c,{message:d,explanation:e,...f}=a,{path:g}=a,h=0===g.length?d:`At path: ${g.join(".")} -- ${d}`;super(e??h),null!=e&&(this.cause=h),Object.assign(this,f),this.name=this.constructor.name,this.failures=()=>c??(c=[a,...b()])}}function c(a){return"object"==typeof a&&null!=a}function d(a){if("[object Object]"!==Object.prototype.toString.call(a))return!1;let b=Object.getPrototypeOf(a);return null===b||b===Object.prototype}function e(a){return"symbol"==typeof a?a.toString():"string"==typeof a?JSON.stringify(a):`${a}`}function*f(a,b,d,f){var g;for(let h of(c(g=a)&&"function"==typeof g[Symbol.iterator]||(a=[a]),a)){let a=function(a,b,c,d){if(!0===a)return;!1===a?a={}:"string"==typeof a&&(a={message:a});let{path:f,branch:g}=b,{type:h}=c,{refinement:i,message:j=`Expected a value of type \`${h}\`${i?` with refinement \`${i}\``:""}, but received: \`${e(d)}\``}=a;return{value:d,type:h,refinement:i,key:f[f.length-1],path:f,branch:g,...a,message:j}}(h,b,d,f);a&&(yield a)}}function*g(a,b,d={}){let{path:e=[],branch:f=[a],coerce:h=!1,mask:i=!1}=d,j={path:e,branch:f};if(h&&(a=b.coercer(a,j),i&&"type"!==b.type&&c(b.schema)&&c(a)&&!Array.isArray(a)))for(let c in a)void 0===b.schema[c]&&delete a[c];let k="valid";for(let c of b.validator(a,j))c.explanation=d.message,k="not_valid",yield[c,void 0];for(let[l,m,n]of b.entries(a,j))for(let b of g(m,n,{path:void 0===l?e:[...e,l],branch:void 0===l?f:[...f,m],coerce:h,mask:i,message:d.message}))b[0]?(k=null!=b[0].refinement?"not_refined":"not_valid",yield[b[0],void 0]):h&&(m=b[1],void 0===l?a=m:a instanceof Map?a.set(l,m):a instanceof Set?a.add(m):c(a)&&(void 0!==m||l in a)&&(a[l]=m));if("not_valid"!==k)for(let c of b.refiner(a,j))c.explanation=d.message,k="not_refined",yield[c,void 0];"valid"===k&&(yield[void 0,a])}class h{constructor(a){let{type:b,schema:c,validator:d,refiner:e,coercer:g=a=>a,entries:h=function*(){}}=a;this.type=b,this.schema=c,this.entries=h,this.coercer=g,d?this.validator=(a,b)=>f(d(a,b),b,this,a):this.validator=()=>[],e?this.refiner=(a,b)=>f(e(a,b),b,this,a):this.refiner=()=>[]}assert(a,b){return i(a,this,b)}create(a,b){return j(a,this,b)}is(a){return l(a,this)}mask(a,b){return k(a,this,b)}validate(a,b={}){return m(a,this,b)}}function i(a,b,c){let d=m(a,b,{message:c});if(d[0])throw d[0]}function j(a,b,c){let d=m(a,b,{coerce:!0,message:c});if(!d[0])return d[1];throw d[0]}function k(a,b,c){let d=m(a,b,{coerce:!0,mask:!0,message:c});if(!d[0])return d[1];throw d[0]}function l(a,b){return!m(a,b)[0]}function m(a,c,d={}){let e=g(a,c,d),f=function(a){let{done:b,value:c}=a.next();return b?void 0:c}(e);return f[0]?[new b(f[0],function*(){for(let a of e)a[0]&&(yield a[0])}),void 0]:[void 0,f[1]]}function n(a,b){return new h({type:a,schema:null,validator:b})}function o(){return n("never",()=>!1)}function p(a){let b=a?Object.keys(a):[],d=o();return new h({type:"object",schema:a||null,*entries(e){if(a&&c(e)){let c=new Set(Object.keys(e));for(let d of b)c.delete(d),yield[d,e[d],a[d]];for(let a of c)yield[a,e[a],d]}},validator:a=>c(a)||`Expected an object, but received: ${e(a)}`,coercer:a=>c(a)?{...a}:a})}function q(a){return new h({...a,validator:(b,c)=>void 0===b||a.validator(b,c),refiner:(b,c)=>void 0===b||a.refiner(b,c)})}function r(){return n("string",a=>"string"==typeof a||`Expected a string, but received: ${e(a)}`)}function s(a){let b=Object.keys(a);return new h({type:"type",schema:a,*entries(d){if(c(d))for(let c of b)yield[c,d[c],a[c]]},validator:a=>c(a)||`Expected an object, but received: ${e(a)}`,coercer:a=>c(a)?{...a}:a})}function t(){return n("unknown",()=>!0)}function u(a,b,c){return new h({...a,coercer:(d,e)=>l(d,b)?a.coercer(c(d,e),e):a.coercer(d,e)})}function v(a){return a instanceof Map||a instanceof Set?a.size:a.length}function w(a,b,c){return new h({...a,*refiner(d,e){for(let g of(yield*a.refiner(d,e),f(c(d,e),e,a,d)))yield{...g,refinement:b}}})}a.Struct=h,a.StructError=b,a.any=function(){return n("any",()=>!0)},a.array=function(a){return new h({type:"array",schema:a,*entries(b){if(a&&Array.isArray(b))for(let[c,d]of b.entries())yield[c,d,a]},coercer:a=>Array.isArray(a)?a.slice():a,validator:a=>Array.isArray(a)||`Expected an array value, but received: ${e(a)}`})},a.assert=i,a.assign=function(...a){let b="type"===a[0].type,c=Object.assign({},...a.map(a=>a.schema));return b?s(c):p(c)},a.bigint=function(){return n("bigint",a=>"bigint"==typeof a)},a.boolean=function(){return n("boolean",a=>"boolean"==typeof a)},a.coerce=u,a.create=j,a.date=function(){return n("date",a=>a instanceof Date&&!isNaN(a.getTime())||`Expected a valid \`Date\` object, but received: ${e(a)}`)},a.defaulted=function(a,b,c={}){return u(a,t(),a=>{let e="function"==typeof b?b():b;if(void 0===a)return e;if(!c.strict&&d(a)&&d(e)){let b={...a},c=!1;for(let a in e)void 0===b[a]&&(b[a]=e[a],c=!0);if(c)return b}return a})},a.define=n,a.deprecated=function(a,b){return new h({...a,refiner:(b,c)=>void 0===b||a.refiner(b,c),validator:(c,d)=>void 0===c||(b(c,d),a.validator(c,d))})},a.dynamic=function(a){return new h({type:"dynamic",schema:null,*entries(b,c){let d=a(b,c);yield*d.entries(b,c)},validator:(b,c)=>a(b,c).validator(b,c),coercer:(b,c)=>a(b,c).coercer(b,c),refiner:(b,c)=>a(b,c).refiner(b,c)})},a.empty=function(a){return w(a,"empty",b=>{let c=v(b);return 0===c||`Expected an empty ${a.type} but received one with a size of \`${c}\``})},a.enums=function(a){let b={},c=a.map(a=>e(a)).join();for(let c of a)b[c]=c;return new h({type:"enums",schema:b,validator:b=>a.includes(b)||`Expected one of \`${c}\`, but received: ${e(b)}`})},a.func=function(){return n("func",a=>"function"==typeof a||`Expected a function, but received: ${e(a)}`)},a.instance=function(a){return n("instance",b=>b instanceof a||`Expected a \`${a.name}\` instance, but received: ${e(b)}`)},a.integer=function(){return n("integer",a=>"number"==typeof a&&!isNaN(a)&&Number.isInteger(a)||`Expected an integer, but received: ${e(a)}`)},a.intersection=function(a){return new h({type:"intersection",schema:null,*entries(b,c){for(let d of a)yield*d.entries(b,c)},*validator(b,c){for(let d of a)yield*d.validator(b,c)},*refiner(b,c){for(let d of a)yield*d.refiner(b,c)}})},a.is=l,a.lazy=function(a){let b;return new h({type:"lazy",schema:null,*entries(c,d){b??(b=a()),yield*b.entries(c,d)},validator:(c,d)=>(b??(b=a()),b.validator(c,d)),coercer:(c,d)=>(b??(b=a()),b.coercer(c,d)),refiner:(c,d)=>(b??(b=a()),b.refiner(c,d))})},a.literal=function(a){let b=e(a),c=typeof a;return new h({type:"literal",schema:"string"===c||"number"===c||"boolean"===c?a:null,validator:c=>c===a||`Expected the literal \`${b}\`, but received: ${e(c)}`})},a.map=function(a,b){return new h({type:"map",schema:null,*entries(c){if(a&&b&&c instanceof Map)for(let[d,e]of c.entries())yield[d,d,a],yield[d,e,b]},coercer:a=>a instanceof Map?new Map(a):a,validator:a=>a instanceof Map||`Expected a \`Map\` object, but received: ${e(a)}`})},a.mask=k,a.max=function(a,b,c={}){let{exclusive:d}=c;return w(a,"max",c=>d?c<b:c<=b||`Expected a ${a.type} less than ${d?"":"or equal to "}${b} but received \`${c}\``)},a.min=function(a,b,c={}){let{exclusive:d}=c;return w(a,"min",c=>d?c>b:c>=b||`Expected a ${a.type} greater than ${d?"":"or equal to "}${b} but received \`${c}\``)},a.never=o,a.nonempty=function(a){return w(a,"nonempty",b=>v(b)>0||`Expected a nonempty ${a.type} but received an empty one`)},a.nullable=function(a){return new h({...a,validator:(b,c)=>null===b||a.validator(b,c),refiner:(b,c)=>null===b||a.refiner(b,c)})},a.number=function(){return n("number",a=>"number"==typeof a&&!isNaN(a)||`Expected a number, but received: ${e(a)}`)},a.object=p,a.omit=function(a,b){let{schema:c}=a,d={...c};for(let a of b)delete d[a];return"type"===a.type?s(d):p(d)},a.optional=q,a.partial=function(a){let b=a instanceof h?{...a.schema}:{...a};for(let a in b)b[a]=q(b[a]);return p(b)},a.pattern=function(a,b){return w(a,"pattern",c=>b.test(c)||`Expected a ${a.type} matching \`/${b.source}/\` but received "${c}"`)},a.pick=function(a,b){let{schema:c}=a,d={};for(let a of b)d[a]=c[a];return p(d)},a.record=function(a,b){return new h({type:"record",schema:null,*entries(d){if(c(d))for(let c in d){let e=d[c];yield[c,c,a],yield[c,e,b]}},validator:a=>c(a)||`Expected an object, but received: ${e(a)}`})},a.refine=w,a.regexp=function(){return n("regexp",a=>a instanceof RegExp)},a.set=function(a){return new h({type:"set",schema:null,*entries(b){if(a&&b instanceof Set)for(let c of b)yield[c,c,a]},coercer:a=>a instanceof Set?new Set(a):a,validator:a=>a instanceof Set||`Expected a \`Set\` object, but received: ${e(a)}`})},a.size=function(a,b,c=b){let d=`Expected a ${a.type}`,e=b===c?`of \`${b}\``:`between \`${b}\` and \`${c}\``;return w(a,"size",a=>{if("number"==typeof a||a instanceof Date)return b<=a&&a<=c||`${d} ${e} but received \`${a}\``;if(a instanceof Map||a instanceof Set){let{size:f}=a;return b<=f&&f<=c||`${d} with a size ${e} but received one with a size of \`${f}\``}{let{length:f}=a;return b<=f&&f<=c||`${d} with a length ${e} but received one with a length of \`${f}\``}})},a.string=r,a.struct=function(a,b){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),n(a,b)},a.trimmed=function(a){return u(a,r(),a=>a.trim())},a.tuple=function(a){let b=o();return new h({type:"tuple",schema:null,*entries(c){if(Array.isArray(c)){let d=Math.max(a.length,c.length);for(let e=0;e<d;e++)yield[e,c[e],a[e]||b]}},validator:a=>Array.isArray(a)||`Expected an array, but received: ${e(a)}`})},a.type=s,a.union=function(a){let b=a.map(a=>a.type).join(" | ");return new h({type:"union",schema:null,coercer(b){for(let c of a){let[a,d]=c.validate(b,{coerce:!0});if(!a)return d}return b},validator(c,d){let f=[];for(let b of a){let[...a]=g(c,b,d),[e]=a;if(!e[0])return[];for(let[b]of a)b&&f.push(b)}return[`Expected the value to satisfy a union of \`${b}\`, but received: ${e(c)}`,...f]}})},a.unknown=t,a.validate=m})(b)}})[318](0,b),a.exports=b})()},2155:(a,b,c)=>{"use strict";var d=c(5356).Buffer;Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{handleFetch:function(){return h},interceptFetch:function(){return i},reader:function(){return f}});let e=c(8939),f={url:a=>a.url,header:(a,b)=>a.headers.get(b)};async function g(a,b){let{url:c,method:e,headers:f,body:g,cache:h,credentials:i,integrity:j,mode:k,redirect:l,referrer:m,referrerPolicy:n}=b;return{testData:a,api:"fetch",request:{url:c,method:e,headers:[...Array.from(f),["next-test-stack",function(){let a=(Error().stack??"").split("\n");for(let b=1;b<a.length;b++)if(a[b].length>0){a=a.slice(b);break}return(a=(a=(a=a.filter(a=>!a.includes("/next/dist/"))).slice(0,5)).map(a=>a.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:g?d.from(await b.arrayBuffer()).toString("base64"):null,cache:h,credentials:i,integrity:j,mode:k,redirect:l,referrer:m,referrerPolicy:n}}}async function h(a,b){let c=(0,e.getTestReqInfo)(b,f);if(!c)return a(b);let{testData:h,proxyPort:i}=c,j=await g(h,b),k=await a(`http://localhost:${i}`,{method:"POST",body:JSON.stringify(j),next:{internal:!0}});if(!k.ok)throw Object.defineProperty(Error(`Proxy request failed: ${k.status}`),"__NEXT_ERROR_CODE",{value:"E146",enumerable:!1,configurable:!0});let l=await k.json(),{api:m}=l;switch(m){case"continue":return a(b);case"abort":case"unhandled":throw Object.defineProperty(Error(`Proxy request aborted [${b.method} ${b.url}]`),"__NEXT_ERROR_CODE",{value:"E145",enumerable:!1,configurable:!0});case"fetch":let{status:n,headers:o,body:p}=l.response;return new Response(p?d.from(p,"base64"):null,{status:n,headers:new Headers(o)});default:return m}}function i(a){return c.g.fetch=function(b,c){var d;return(null==c||null==(d=c.next)?void 0:d.internal)?a(b,c):h(a,new Request(b,c))},()=>{c.g.fetch=a}}},2205:(a,b,c)=>{"use strict";c.d(b,{AA:()=>e,AR:()=>v,EP:()=>n,RM:()=>l,VC:()=>o,c1:()=>q,gW:()=>t,h:()=>f,j9:()=>d,kz:()=>g,mH:()=>j,o7:()=>r,pu:()=>i,qF:()=>u,qq:()=>s,r4:()=>h,tz:()=>k,vS:()=>p,x3:()=>m});let d="text/html; charset=utf-8",e="nxtP",f="nxtI",g="x-prerender-revalidate",h="x-prerender-revalidate-if-generated",i=".prefetch.rsc",j=".segments",k=".segment.rsc",l=".rsc",m=".json",n=".meta",o="x-next-cache-tags",p="x-next-revalidated-tags",q="x-next-revalidate-tag-token",r=128,s=256,t="_N_T_",u=31536e3,v=0xfffffffe,w={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};({...w,GROUP:{builtinReact:[w.reactServerComponents,w.actionBrowser],serverOnly:[w.reactServerComponents,w.actionBrowser,w.instrument,w.middleware],neutralTarget:[w.apiNode,w.apiEdge],clientOnly:[w.serverSideRendering,w.appPagesBrowser],bundled:[w.reactServerComponents,w.actionBrowser,w.serverSideRendering,w.appPagesBrowser,w.shared,w.instrument,w.middleware],appPages:[w.reactServerComponents,w.serverSideRendering,w.appPagesBrowser,w.actionBrowser]}})},2509:(a,b,c)=>{"use strict";c.d(b,{_:()=>n});var d=c(2707),e=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},f=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},g=function(){function a(){}return a.prototype.active=function(){return d.l},a.prototype.with=function(a,b,c){for(var d=[],g=3;g<arguments.length;g++)d[g-3]=arguments[g];return b.call.apply(b,f([c],e(d),!1))},a.prototype.bind=function(a,b){return b},a.prototype.enable=function(){return this},a.prototype.disable=function(){return this},a}(),h=c(7437),i=c(6947),j=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},k=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},l="context",m=new g,n=function(){function a(){}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalContextManager=function(a){return(0,h.$G)(l,a,i.K.instance())},a.prototype.active=function(){return this._getContextManager().active()},a.prototype.with=function(a,b,c){for(var d,e=[],f=3;f<arguments.length;f++)e[f-3]=arguments[f];return(d=this._getContextManager()).with.apply(d,k([a,b,c],j(e),!1))},a.prototype.bind=function(a,b){return this._getContextManager().bind(a,b)},a.prototype._getContextManager=function(){return(0,h.mS)(l)||m},a.prototype.disable=function(){this._getContextManager().disable(),(0,h.kv)(l,i.K.instance())},a}()},2596:(a,b,c)=>{"use strict";c.d(b,{q9:()=>l});var d=c(3375),e=c(8498),f=c(9643),g=c(4148),h=c(4673);class i{constructor(a,b,c,d){var e;let f=a&&(0,h.Gx)(b,a).isOnDemandRevalidate,g=null==(e=c.get(h.Ic))?void 0:e.value;this._isEnabled=!!(!f&&g&&a&&g===a.previewModeId),this._previewModeId=null==a?void 0:a.previewModeId,this._mutableCookies=d}get isEnabled(){return this._isEnabled}enable(){if(!this._previewModeId)throw Object.defineProperty(Error("Invariant: previewProps missing previewModeId this should never happen"),"__NEXT_ERROR_CODE",{value:"E93",enumerable:!1,configurable:!0});this._mutableCookies.set({name:h.Ic,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"}),this._isEnabled=!0}disable(){this._mutableCookies.set({name:h.Ic,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)}),this._isEnabled=!1}}var j=c(1350);function k(a,b){if("x-middleware-set-cookie"in a.headers&&"string"==typeof a.headers["x-middleware-set-cookie"]){let c=a.headers["x-middleware-set-cookie"],d=new Headers;for(let a of(0,j.RD)(c))d.append("set-cookie",a);for(let a of new g.VO(d).getAll())b.set(a)}}function l(a,b,c,h,j){return function(a,b,c,h,j,l,m,n,o,p,q,r){function s(a){c&&c.setHeader("Set-Cookie",a)}let t={};return{type:"request",phase:a,implicitTags:l,url:{pathname:h.pathname,search:h.search??""},rootParams:j,get headers(){return t.headers||(t.headers=function(a){let b=e.o.from(a);for(let a of d.KD)b.delete(a);return e.o.seal(b)}(b.headers)),t.headers},get cookies(){if(!t.cookies){let a=new g.tm(e.o.from(b.headers));k(b,a),t.cookies=f.Ck.seal(a)}return t.cookies},set cookies(value){t.cookies=value},get mutableCookies(){if(!t.mutableCookies){let a=function(a,b){let c=new g.tm(e.o.from(a));return f.K8.wrap(c,b)}(b.headers,m||(c?s:void 0));k(b,a),t.mutableCookies=a}return t.mutableCookies},get userspaceMutableCookies(){return t.userspaceMutableCookies||(t.userspaceMutableCookies=(0,f.EJ)(this)),t.userspaceMutableCookies},get draftMode(){return t.draftMode||(t.draftMode=new i(o,b,this.cookies,this.mutableCookies)),t.draftMode},renderResumeDataCache:n??null,isHmrRefresh:p,serverComponentsHmrCache:q||globalThis.__serverComponentsHmrCache,devFallbackParams:null}}("action",a,void 0,b,{},c,h,void 0,j,!1,void 0,null)}},2620:(a,b,c)=>{"use strict";c.d(b,{s:()=>U});var d=c(4555),e=c(5221),f=c(1350);let g=Symbol("response"),h=Symbol("passThrough"),i=Symbol("waitUntil");class j{constructor(a,b){this[h]=!1,this[i]=b?{kind:"external",function:b}:{kind:"internal",promises:[]}}respondWith(a){this[g]||(this[g]=Promise.resolve(a))}passThroughOnException(){this[h]=!0}waitUntil(a){if("external"===this[i].kind)return(0,this[i].function)(a);this[i].promises.push(a)}}class k extends j{constructor(a){var b;super(a.request,null==(b=a.context)?void 0:b.waitUntil),this.sourcePage=a.page}get request(){throw Object.defineProperty(new e.CB({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new e.CB({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}var l=c(6486),m=c(4148),n=c(6093),o=c(4953);let p=Symbol("internal response"),q=new Set([301,302,303,307,308]);function r(a,b){var c;if(null==a||null==(c=a.request)?void 0:c.headers){if(!(a.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let c=[];for(let[d,e]of a.request.headers)b.set("x-middleware-request-"+d,e),c.push(d);b.set("x-middleware-override-headers",c.join(","))}}class s extends Response{constructor(a,b={}){super(a,b);let c=this.headers,d=new Proxy(new m.VO(c),{get(a,d,e){switch(d){case"delete":case"set":return(...e)=>{let f=Reflect.apply(a[d],a,e),g=new Headers(c);return f instanceof m.VO&&c.set("x-middleware-set-cookie",f.getAll().map(a=>(0,m.Ud)(a)).join(",")),r(b,g),f};default:return o.l.get(a,d,e)}}});this[p]={cookies:d,url:b.url?new n.X(b.url,{headers:(0,f.Cu)(c),nextConfig:b.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[p].cookies}static json(a,b){let c=Response.json(a,b);return new s(c.body,c)}static redirect(a,b){let c="number"==typeof b?b:(null==b?void 0:b.status)??307;if(!q.has(c))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let d="object"==typeof b?b:{},e=new Headers(null==d?void 0:d.headers);return e.set("Location",(0,f.qU)(a)),new s(null,{...d,headers:e,status:c})}static rewrite(a,b){let c=new Headers(null==b?void 0:b.headers);return c.set("x-middleware-rewrite",(0,f.qU)(a)),r(b,c),new s(null,{...b,headers:c})}static next(a){let b=new Headers(null==a?void 0:a.headers);return b.set("x-middleware-next","1"),r(a,b),new s(null,{...a,headers:b})}}function t(a,b){let c="string"==typeof b?new URL(b):b,d=new URL(a,b),e=d.origin===c.origin;return{url:e?d.toString().slice(c.origin.length):d.toString(),isRelative:e}}var u=c(3375);u._A;var v=c(9304),w=c(2596),x=c(5862),y=c(7078),z=c(1320),A=c(811),B=c(3321);class C{onClose(a){if(this.isClosed)throw Object.defineProperty(Error("Cannot subscribe to a closed CloseController"),"__NEXT_ERROR_CODE",{value:"E365",enumerable:!1,configurable:!0});this.target.addEventListener("close",a),this.listeners++}dispatchClose(){if(this.isClosed)throw Object.defineProperty(Error("Cannot close a CloseController multiple times"),"__NEXT_ERROR_CODE",{value:"E229",enumerable:!1,configurable:!0});this.listeners>0&&this.target.dispatchEvent(new Event("close")),this.isClosed=!0}constructor(){this.target=new EventTarget,this.listeners=0,this.isClosed=!1}}var D=c(6991);c(1619);let E=Symbol.for("@next/request-context");var F=c(4481);class G extends l.J{constructor(a){super(a.input,a.init),this.sourcePage=a.page}get request(){throw Object.defineProperty(new e.CB({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new e.CB({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}waitUntil(){throw Object.defineProperty(new e.CB({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}let H={keys:a=>Array.from(a.keys()),get:(a,b)=>a.get(b)??void 0},I=(a,b)=>(0,A.EK)().withPropagatedContext(a.headers,b,H),J=!1;async function K(a){var b;let e,g;if(!J&&(J=!0,"true"===process.env.NEXT_PRIVATE_TEST_PROXY)){let{interceptTestApis:a,wrapRequestHandler:b}=c(4568);a(),I=b(I)}await (0,d.p)();let h=void 0!==globalThis.__BUILD_MANIFEST;a.request.url=(0,v.P)(a.request.url);let j=a.bypassNextUrl?new URL(a.request.url):new n.X(a.request.url,{headers:a.request.headers,nextConfig:a.request.nextConfig});for(let a of[...j.searchParams.keys()]){let b=j.searchParams.getAll(a),c=(0,f.wN)(a);if(c){for(let a of(j.searchParams.delete(c),b))j.searchParams.append(c,a);j.searchParams.delete(a)}}let l=process.env.__NEXT_BUILD_ID||"";"buildId"in j&&(l=j.buildId||"",j.buildId="");let m=(0,f.p$)(a.request.headers),o=m.has("x-nextjs-data"),p="1"===m.get(u.hY);o&&"/index"===j.pathname&&(j.pathname="/");let q=new Map;if(!h)for(let a of u.KD){let b=m.get(a);null!==b&&(q.set(a,b),m.delete(a))}let r=j.searchParams.get(u._A),H=new G({page:a.page,input:(function(a){let b="string"==typeof a,c=b?new URL(a):a;return c.searchParams.delete(u._A),b?c.toString():c})(j).toString(),init:{body:a.request.body,headers:m,method:a.request.method,nextConfig:a.request.nextConfig,signal:a.request.signal}});o&&Object.defineProperty(H,"__isData",{enumerable:!1,value:!0}),!globalThis.__incrementalCacheShared&&a.IncrementalCache&&(globalThis.__incrementalCache=new a.IncrementalCache({CurCacheHandler:a.incrementalCacheHandler,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:a.request.headers,getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:(0,D.getEdgePreviewProps)()})}));let K=a.request.waitUntil??(null==(b=function(){let a=globalThis[E];return null==a?void 0:a.get()}())?void 0:b.waitUntil),L=new k({request:H,page:a.page,context:K?{waitUntil:K}:void 0});if((e=await I(H,()=>{if("/middleware"===a.page||"/src/middleware"===a.page){let b=L.waitUntil.bind(L),c=new C;return(0,A.EK)().trace(B.rd.execute,{spanName:`middleware ${H.method} ${H.nextUrl.pathname}`,attributes:{"http.target":H.nextUrl.pathname,"http.method":H.method}},async()=>{try{var d,e,f,h;let i=(0,D.getEdgePreviewProps)(),j=await (0,F.l)("/",H.nextUrl,null),k=(0,w.q9)(H,H.nextUrl,j,a=>{g=a},i),m=(0,y.X)({page:"/",renderOpts:{cacheLifeProfiles:null==(e=a.request.nextConfig)||null==(d=e.experimental)?void 0:d.cacheLife,experimental:{isRoutePPREnabled:!1,cacheComponents:!1,authInterrupts:!!(null==(h=a.request.nextConfig)||null==(f=h.experimental)?void 0:f.authInterrupts)},supportsDynamicResponse:!0,waitUntil:b,onClose:c.onClose.bind(c),onAfterTaskError:void 0},isPrefetchRequest:"1"===H.headers.get(u._V),buildId:l??"",previouslyRevalidatedTags:[]});return await z.J.run(m,()=>x.FP.run(k,a.handler,H,L))}finally{setTimeout(()=>{c.dispatchClose()},0)}})}return a.handler(H,L)}))&&!(e instanceof Response))throw Object.defineProperty(TypeError("Expected an instance of Response to be returned"),"__NEXT_ERROR_CODE",{value:"E567",enumerable:!1,configurable:!0});e&&g&&e.headers.set("set-cookie",g);let M=null==e?void 0:e.headers.get("x-middleware-rewrite");if(e&&M&&(p||!h)){let b=new n.X(M,{forceLocale:!0,headers:a.request.headers,nextConfig:a.request.nextConfig});h||b.host!==H.nextUrl.host||(b.buildId=l||b.buildId,e.headers.set("x-middleware-rewrite",String(b)));let{url:c,isRelative:d}=t(b.toString(),j.toString());!h&&o&&e.headers.set("x-nextjs-rewrite",c),p&&d&&(j.pathname!==b.pathname&&e.headers.set(u.j9,b.pathname),j.search!==b.search&&e.headers.set(u.Wc,b.search.slice(1)))}if(e&&M&&p&&r){let a=new URL(M);a.searchParams.has(u._A)||(a.searchParams.set(u._A,r),e.headers.set("x-middleware-rewrite",a.toString()))}let N=null==e?void 0:e.headers.get("Location");if(e&&N&&!h){let b=new n.X(N,{forceLocale:!1,headers:a.request.headers,nextConfig:a.request.nextConfig});e=new Response(e.body,e),b.host===j.host&&(b.buildId=l||b.buildId,e.headers.set("Location",b.toString())),o&&(e.headers.delete("Location"),e.headers.set("x-nextjs-redirect",t(b.toString(),j.toString()).url))}let O=e||s.next(),P=O.headers.get("x-middleware-override-headers"),Q=[];if(P){for(let[a,b]of q)O.headers.set(`x-middleware-request-${a}`,b),Q.push(a);Q.length>0&&O.headers.set("x-middleware-override-headers",P+","+Q.join(","))}return{response:O,waitUntil:("internal"===L[i].kind?Promise.all(L[i].promises).then(()=>{}):void 0)??Promise.resolve(),fetchMetrics:H.fetchMetrics}}var L=c(140),M=c(9968),N=c(6036),O=c(4644);class P{constructor(a){this.definition=a,(0,M.F)(a.pathname)&&(this.dynamic=(0,N.g)((0,O.jK)(a.pathname)))}get identity(){return this.definition.pathname}get isDynamic(){return void 0!==this.dynamic}match(a){let b=this.test(a);return b?{definition:this.definition,params:b.params}:null}test(a){if(this.dynamic){let b=this.dynamic(a);return b?{params:b}:null}return a===this.definition.pathname?{}:null}}let Q=Symbol.for("__next_internal_waitUntil__"),R=globalThis[Q]||(globalThis[Q]={waitUntilCounter:0,waitUntilResolve:void 0,waitUntilPromise:null});var S=c(9711),T=c(4479);class U{constructor(a,b){this.routeModule=a,this.nextConfig=b,this.matcher=new P(a.definition)}static wrap(a,b){let c=new U(a,b.nextConfig);return a=>K({...a,IncrementalCache:L.N,handler:c.handler.bind(c)})}async handler(a,b){let{params:c}=(0,S.VQ)({pageIsDynamic:this.matcher.isDynamic,page:this.matcher.definition.pathname,basePath:a.nextUrl.basePath,rewrites:{},caseSensitive:!1}).normalizeDynamicRouteParams((0,T.v1)(a.nextUrl.searchParams),!1),d=b.waitUntil.bind(b),e=new C,f={params:c,prerenderManifest:{version:4,routes:{},dynamicRoutes:{},preview:(0,D.getEdgePreviewProps)(),notFoundRoutes:[]},renderOpts:{supportsDynamicResponse:!0,waitUntil:d,onClose:e.onClose.bind(e),onAfterTaskError:void 0,experimental:{cacheComponents:!1,authInterrupts:!1},cacheLifeProfiles:this.nextConfig.experimental.cacheLife},sharedContext:{buildId:""}},g=await this.routeModule.handle(a,f),h=[R.waitUntilPromise];return f.renderOpts.pendingWaitUntil&&h.push(f.renderOpts.pendingWaitUntil),b.waitUntil(Promise.all(h)),g.body?g=new Response(function(a,b){let c=new TransformStream,d=()=>b();return a.pipeTo(c.writable).then(d,d),c.readable}(g.body,()=>e.dispatchClose()),{status:g.status,statusText:g.statusText,headers:g.headers}):setTimeout(()=>e.dispatchClose(),0),g}}},2669:(a,b,c)=>{a.exports=c(1966)},2707:(a,b,c)=>{"use strict";function d(a){return Symbol.for(a)}c.d(b,{l:()=>e,n:()=>d});var e=new function a(b){var c=this;c._currentContext=b?new Map(b):new Map,c.getValue=function(a){return c._currentContext.get(a)},c.setValue=function(b,d){var e=new a(c._currentContext);return e._currentContext.set(b,d),e},c.deleteValue=function(b){var d=new a(c._currentContext);return d._currentContext.delete(b),d}}},2849:(a,b,c)=>{"use strict";c.d(b,{i:()=>f});var d=c(6377),e=c(9968);function f(a){return/^\/index(\/|$)/.test(a)&&!(0,e.F)(a)?"/index"+a:"/"===a?"/index":(0,d.A)(a)}c(4885)},3070:(a,b,c)=>{"use strict";c.d(b,{Od:()=>i,Rb:()=>h,Tj:()=>g,bp:()=>l,wG:()=>k,xL:()=>j});var d=c(6478),e=c(1710),f=c(6805);let g=a=>(b,c,e,g)=>{let h=e?Object.assign(e,{async:!1}):{async:!1},i=b._zod.run({value:c,issues:[]},h);if(i instanceof Promise)throw new d.GT;if(i.issues.length){let b=new(g?.Err??a)(i.issues.map(a=>f.iR(a,h,d.$W())));throw f.gx(b,g?.callee),b}return i.value};e.Kd;let h=a=>async(b,c,e,g)=>{let h=e?Object.assign(e,{async:!0}):{async:!0},i=b._zod.run({value:c,issues:[]},h);if(i instanceof Promise&&(i=await i),i.issues.length){let b=new(g?.Err??a)(i.issues.map(a=>f.iR(a,h,d.$W())));throw f.gx(b,g?.callee),b}return i.value};e.Kd;let i=a=>(b,c,g)=>{let h=g?{...g,async:!1}:{async:!1},i=b._zod.run({value:c,issues:[]},h);if(i instanceof Promise)throw new d.GT;return i.issues.length?{success:!1,error:new(a??e.a$)(i.issues.map(a=>f.iR(a,h,d.$W())))}:{success:!0,data:i.value}},j=i(e.Kd),k=a=>async(b,c,e)=>{let g=e?Object.assign(e,{async:!0}):{async:!0},h=b._zod.run({value:c,issues:[]},g);return h instanceof Promise&&(h=await h),h.issues.length?{success:!1,error:new a(h.issues.map(a=>f.iR(a,g,d.$W())))}:{success:!0,data:h.value}},l=k(e.Kd)},3131:(a,b,c)=>{"use strict";c.d(b,{xl:()=>g});let d=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class e{disable(){throw d}getStore(){}run(){throw d}exit(){throw d}enterWith(){throw d}static bind(a){return a}}let f="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function g(){return f?new f:new e}},3321:(a,b,c)=>{"use strict";c.d(b,{EI:()=>q,Fx:()=>g,KK:()=>p,Li:()=>d,Wc:()=>j,jM:()=>m,rd:()=>o});var d=function(a){return a.handleRequest="BaseServer.handleRequest",a.run="BaseServer.run",a.pipe="BaseServer.pipe",a.getStaticHTML="BaseServer.getStaticHTML",a.render="BaseServer.render",a.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",a.renderToResponse="BaseServer.renderToResponse",a.renderToHTML="BaseServer.renderToHTML",a.renderError="BaseServer.renderError",a.renderErrorToResponse="BaseServer.renderErrorToResponse",a.renderErrorToHTML="BaseServer.renderErrorToHTML",a.render404="BaseServer.render404",a}(d||{}),e=function(a){return a.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",a.loadComponents="LoadComponents.loadComponents",a}(e||{}),f=function(a){return a.getRequestHandler="NextServer.getRequestHandler",a.getServer="NextServer.getServer",a.getServerRequestHandler="NextServer.getServerRequestHandler",a.createServer="createServer.createServer",a}(f||{}),g=function(a){return a.compression="NextNodeServer.compression",a.getBuildId="NextNodeServer.getBuildId",a.createComponentTree="NextNodeServer.createComponentTree",a.clientComponentLoading="NextNodeServer.clientComponentLoading",a.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",a.generateStaticRoutes="NextNodeServer.generateStaticRoutes",a.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",a.generatePublicRoutes="NextNodeServer.generatePublicRoutes",a.generateImageRoutes="NextNodeServer.generateImageRoutes.route",a.sendRenderResult="NextNodeServer.sendRenderResult",a.proxyRequest="NextNodeServer.proxyRequest",a.runApi="NextNodeServer.runApi",a.render="NextNodeServer.render",a.renderHTML="NextNodeServer.renderHTML",a.imageOptimizer="NextNodeServer.imageOptimizer",a.getPagePath="NextNodeServer.getPagePath",a.getRoutesManifest="NextNodeServer.getRoutesManifest",a.findPageComponents="NextNodeServer.findPageComponents",a.getFontManifest="NextNodeServer.getFontManifest",a.getServerComponentManifest="NextNodeServer.getServerComponentManifest",a.getRequestHandler="NextNodeServer.getRequestHandler",a.renderToHTML="NextNodeServer.renderToHTML",a.renderError="NextNodeServer.renderError",a.renderErrorToHTML="NextNodeServer.renderErrorToHTML",a.render404="NextNodeServer.render404",a.startResponse="NextNodeServer.startResponse",a.route="route",a.onProxyReq="onProxyReq",a.apiResolver="apiResolver",a.internalFetch="internalFetch",a}(g||{}),h=function(a){return a.startServer="startServer.startServer",a}(h||{}),i=function(a){return a.getServerSideProps="Render.getServerSideProps",a.getStaticProps="Render.getStaticProps",a.renderToString="Render.renderToString",a.renderDocument="Render.renderDocument",a.createBodyResult="Render.createBodyResult",a}(i||{}),j=function(a){return a.renderToString="AppRender.renderToString",a.renderToReadableStream="AppRender.renderToReadableStream",a.getBodyResult="AppRender.getBodyResult",a.fetch="AppRender.fetch",a}(j||{}),k=function(a){return a.executeRoute="Router.executeRoute",a}(k||{}),l=function(a){return a.runHandler="Node.runHandler",a}(l||{}),m=function(a){return a.runHandler="AppRouteRouteHandlers.runHandler",a}(m||{}),n=function(a){return a.generateMetadata="ResolveMetadata.generateMetadata",a.generateViewport="ResolveMetadata.generateViewport",a}(n||{}),o=function(a){return a.execute="Middleware.execute",a}(o||{});let p=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],q=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]},3375:(a,b,c)=>{"use strict";c.d(b,{B:()=>f,KD:()=>i,Wc:()=>l,_A:()=>j,_V:()=>g,hY:()=>d,j9:()=>k,kO:()=>h,ts:()=>e});let d="rsc",e="next-action",f="next-router-state-tree",g="next-router-prefetch",h="next-url",i=[d,f,g,"next-hmr-refresh","next-router-segment-prefetch"],j="_rsc",k="x-nextjs-rewritten-path",l="x-nextjs-rewritten-query"},3524:(a,b,c)=>{"use strict";function d(a,b){let c;if((null==b?void 0:b.host)&&!Array.isArray(b.host))c=b.host.toString().split(":",1)[0];else{if(!a.hostname)return;c=a.hostname}return c.toLowerCase()}c.d(b,{E:()=>d})},3621:a=>{(()=>{"use strict";var b={328:a=>{a.exports=function(a){for(var b=5381,c=a.length;c;)b=33*b^a.charCodeAt(--c);return b>>>0}}},c={};function d(a){var e=c[a];if(void 0!==e)return e.exports;var f=c[a]={exports:{}},g=!0;try{b[a](f,f.exports,d),g=!1}finally{g&&delete c[a]}return f.exports}d.ab="//",a.exports=d(328)})()},3660:(a,b,c)=>{"use strict";function d(a){return"object"==typeof a&&null!==a&&"digest"in a&&"BAILOUT_TO_CLIENT_SIDE_RENDERING"===a.digest}c.d(b,{C:()=>d})},3722:(a,b,c)=>{"use strict";function d(a){return a.isOnDemandRevalidate?"on-demand":a.isRevalidate?"stale":void 0}c.d(b,{c:()=>d})},3749:(a,b,c)=>{"use strict";c.r(b),c.d(b,{DynamicServerError:()=>e,isDynamicServerError:()=>f});let d="DYNAMIC_SERVER_USAGE";class e extends Error{constructor(a){super("Dynamic server usage: "+a),this.description=a,this.digest=d}}function f(a){return"object"==typeof a&&null!==a&&"digest"in a&&"string"==typeof a.digest&&a.digest===d}},3772:(a,b,c)=>{"use strict";async function d(a,b,c,d){}c.d(b,{I:()=>d}),c(8955),c(1350)},3891:(a,b,c)=>{"use strict";c.d(b,{q:()=>f});let d=/[|\\{}()[\]^$+*?.-]/,e=/[|\\{}()[\]^$+*?.-]/g;function f(a){return d.test(a)?a.replace(e,"\\$&"):a}},4132:a=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="//");var b={};(()=>{function a(a,b){void 0===b&&(b={});for(var c=function(a){for(var b=[],c=0;c<a.length;){var d=a[c];if("*"===d||"+"===d||"?"===d){b.push({type:"MODIFIER",index:c,value:a[c++]});continue}if("\\"===d){b.push({type:"ESCAPED_CHAR",index:c++,value:a[c++]});continue}if("{"===d){b.push({type:"OPEN",index:c,value:a[c++]});continue}if("}"===d){b.push({type:"CLOSE",index:c,value:a[c++]});continue}if(":"===d){for(var e="",f=c+1;f<a.length;){var g=a.charCodeAt(f);if(g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122||95===g){e+=a[f++];continue}break}if(!e)throw TypeError("Missing parameter name at ".concat(c));b.push({type:"NAME",index:c,value:e}),c=f;continue}if("("===d){var h=1,i="",f=c+1;if("?"===a[f])throw TypeError('Pattern cannot start with "?" at '.concat(f));for(;f<a.length;){if("\\"===a[f]){i+=a[f++]+a[f++];continue}if(")"===a[f]){if(0==--h){f++;break}}else if("("===a[f]&&(h++,"?"!==a[f+1]))throw TypeError("Capturing groups are not allowed at ".concat(f));i+=a[f++]}if(h)throw TypeError("Unbalanced pattern at ".concat(c));if(!i)throw TypeError("Missing pattern at ".concat(c));b.push({type:"PATTERN",index:c,value:i}),c=f;continue}b.push({type:"CHAR",index:c,value:a[c++]})}return b.push({type:"END",index:c,value:""}),b}(a),d=b.prefixes,f=void 0===d?"./":d,g=b.delimiter,h=void 0===g?"/#?":g,i=[],j=0,k=0,l="",m=function(a){if(k<c.length&&c[k].type===a)return c[k++].value},n=function(a){var b=m(a);if(void 0!==b)return b;var d=c[k],e=d.type,f=d.index;throw TypeError("Unexpected ".concat(e," at ").concat(f,", expected ").concat(a))},o=function(){for(var a,b="";a=m("CHAR")||m("ESCAPED_CHAR");)b+=a;return b},p=function(a){for(var b=0;b<h.length;b++){var c=h[b];if(a.indexOf(c)>-1)return!0}return!1},q=function(a){var b=i[i.length-1],c=a||(b&&"string"==typeof b?b:"");if(b&&!c)throw TypeError('Must have text between two parameters, missing text after "'.concat(b.name,'"'));return!c||p(c)?"[^".concat(e(h),"]+?"):"(?:(?!".concat(e(c),")[^").concat(e(h),"])+?")};k<c.length;){var r=m("CHAR"),s=m("NAME"),t=m("PATTERN");if(s||t){var u=r||"";-1===f.indexOf(u)&&(l+=u,u=""),l&&(i.push(l),l=""),i.push({name:s||j++,prefix:u,suffix:"",pattern:t||q(u),modifier:m("MODIFIER")||""});continue}var v=r||m("ESCAPED_CHAR");if(v){l+=v;continue}if(l&&(i.push(l),l=""),m("OPEN")){var u=o(),w=m("NAME")||"",x=m("PATTERN")||"",y=o();n("CLOSE"),i.push({name:w||(x?j++:""),pattern:w&&!x?q(u):x,prefix:u,suffix:y,modifier:m("MODIFIER")||""});continue}n("END")}return i}function c(a,b){void 0===b&&(b={});var c=f(b),d=b.encode,e=void 0===d?function(a){return a}:d,g=b.validate,h=void 0===g||g,i=a.map(function(a){if("object"==typeof a)return new RegExp("^(?:".concat(a.pattern,")$"),c)});return function(b){for(var c="",d=0;d<a.length;d++){var f=a[d];if("string"==typeof f){c+=f;continue}var g=b?b[f.name]:void 0,j="?"===f.modifier||"*"===f.modifier,k="*"===f.modifier||"+"===f.modifier;if(Array.isArray(g)){if(!k)throw TypeError('Expected "'.concat(f.name,'" to not repeat, but got an array'));if(0===g.length){if(j)continue;throw TypeError('Expected "'.concat(f.name,'" to not be empty'))}for(var l=0;l<g.length;l++){var m=e(g[l],f);if(h&&!i[d].test(m))throw TypeError('Expected all "'.concat(f.name,'" to match "').concat(f.pattern,'", but got "').concat(m,'"'));c+=f.prefix+m+f.suffix}continue}if("string"==typeof g||"number"==typeof g){var m=e(String(g),f);if(h&&!i[d].test(m))throw TypeError('Expected "'.concat(f.name,'" to match "').concat(f.pattern,'", but got "').concat(m,'"'));c+=f.prefix+m+f.suffix;continue}if(!j){var n=k?"an array":"a string";throw TypeError('Expected "'.concat(f.name,'" to be ').concat(n))}}return c}}function d(a,b,c){void 0===c&&(c={});var d=c.decode,e=void 0===d?function(a){return a}:d;return function(c){var d=a.exec(c);if(!d)return!1;for(var f=d[0],g=d.index,h=Object.create(null),i=1;i<d.length;i++)!function(a){if(void 0!==d[a]){var c=b[a-1];"*"===c.modifier||"+"===c.modifier?h[c.name]=d[a].split(c.prefix+c.suffix).map(function(a){return e(a,c)}):h[c.name]=e(d[a],c)}}(i);return{path:f,index:g,params:h}}}function e(a){return a.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function f(a){return a&&a.sensitive?"":"i"}function g(a,b,c){void 0===c&&(c={});for(var d=c.strict,g=void 0!==d&&d,h=c.start,i=c.end,j=c.encode,k=void 0===j?function(a){return a}:j,l=c.delimiter,m=c.endsWith,n="[".concat(e(void 0===m?"":m),"]|$"),o="[".concat(e(void 0===l?"/#?":l),"]"),p=void 0===h||h?"^":"",q=0;q<a.length;q++){var r=a[q];if("string"==typeof r)p+=e(k(r));else{var s=e(k(r.prefix)),t=e(k(r.suffix));if(r.pattern)if(b&&b.push(r),s||t)if("+"===r.modifier||"*"===r.modifier){var u="*"===r.modifier?"?":"";p+="(?:".concat(s,"((?:").concat(r.pattern,")(?:").concat(t).concat(s,"(?:").concat(r.pattern,"))*)").concat(t,")").concat(u)}else p+="(?:".concat(s,"(").concat(r.pattern,")").concat(t,")").concat(r.modifier);else{if("+"===r.modifier||"*"===r.modifier)throw TypeError('Can not repeat "'.concat(r.name,'" without a prefix and suffix'));p+="(".concat(r.pattern,")").concat(r.modifier)}else p+="(?:".concat(s).concat(t,")").concat(r.modifier)}}if(void 0===i||i)g||(p+="".concat(o,"?")),p+=c.endsWith?"(?=".concat(n,")"):"$";else{var v=a[a.length-1],w="string"==typeof v?o.indexOf(v[v.length-1])>-1:void 0===v;g||(p+="(?:".concat(o,"(?=").concat(n,"))?")),w||(p+="(?=".concat(o,"|").concat(n,")"))}return new RegExp(p,f(c))}function h(b,c,d){if(b instanceof RegExp){var e;if(!c)return b;for(var i=/\((?:\?<(.*?)>)?(?!\?)/g,j=0,k=i.exec(b.source);k;)c.push({name:k[1]||j++,prefix:"",suffix:"",modifier:"",pattern:""}),k=i.exec(b.source);return b}return Array.isArray(b)?(e=b.map(function(a){return h(a,c,d).source}),new RegExp("(?:".concat(e.join("|"),")"),f(d))):g(a(b,d),c,d)}Object.defineProperty(b,"__esModule",{value:!0}),b.pathToRegexp=b.tokensToRegexp=b.regexpToFunction=b.match=b.tokensToFunction=b.compile=b.parse=void 0,b.parse=a,b.compile=function(b,d){return c(a(b,d),d)},b.tokensToFunction=c,b.match=function(a,b){var c=[];return d(h(a,c,b),c,b)},b.regexpToFunction=d,b.tokensToRegexp=g,b.pathToRegexp=h})(),a.exports=b})()},4148:(a,b,c)=>{"use strict";c.d(b,{Ud:()=>d.stringifyCookie,VO:()=>d.ResponseCookies,tm:()=>d.RequestCookies});var d=c(1969)},4364:(a,b,c)=>{"use strict";c.d(b,{q:()=>f});class d{constructor(a,b,c){this.prev=null,this.next=null,this.key=a,this.data=b,this.size=c}}class e{constructor(){this.prev=null,this.next=null}}class f{constructor(a,b){this.cache=new Map,this.totalSize=0,this.maxSize=a,this.calculateSize=b,this.head=new e,this.tail=new e,this.head.next=this.tail,this.tail.prev=this.head}addToHead(a){a.prev=this.head,a.next=this.head.next,this.head.next.prev=a,this.head.next=a}removeNode(a){a.prev.next=a.next,a.next.prev=a.prev}moveToHead(a){this.removeNode(a),this.addToHead(a)}removeTail(){let a=this.tail.prev;return this.removeNode(a),a}set(a,b){let c=(null==this.calculateSize?void 0:this.calculateSize.call(this,b))??1;if(c>this.maxSize)return void console.warn("Single item size exceeds maxSize");let e=this.cache.get(a);if(e)e.data=b,this.totalSize=this.totalSize-e.size+c,e.size=c,this.moveToHead(e);else{let e=new d(a,b,c);this.cache.set(a,e),this.addToHead(e),this.totalSize+=c}for(;this.totalSize>this.maxSize&&this.cache.size>0;){let a=this.removeTail();this.cache.delete(a.key),this.totalSize-=a.size}}has(a){return this.cache.has(a)}get(a){let b=this.cache.get(a);if(b)return this.moveToHead(b),b.data}*[Symbol.iterator](){let a=this.head.next;for(;a&&a!==this.tail;){let b=a;yield[b.key,b.data],a=a.next}}remove(a){let b=this.cache.get(a);b&&(this.removeNode(b),this.cache.delete(a),this.totalSize-=b.size)}get size(){return this.cache.size}get currentSize(){return this.totalSize}}},4479:(a,b,c)=>{"use strict";function d(a){let b={};for(let[c,d]of a.entries()){let a=b[c];void 0===a?b[c]=d:Array.isArray(a)?a.push(d):b[c]=[a,d]}return b}function e(a){return"string"==typeof a?a:("number"!=typeof a||isNaN(a))&&"boolean"!=typeof a?"":String(a)}function f(a){let b=new URLSearchParams;for(let[c,d]of Object.entries(a))if(Array.isArray(d))for(let a of d)b.append(c,e(a));else b.set(c,e(d));return b}c.d(b,{Bw:()=>f,v1:()=>d})},4481:(a,b,c)=>{"use strict";c.d(b,{l:()=>g});var d=c(2205),e=c(9629),f=c(8646);async function g(a,b,c){let g=[],h=c&&c.size>0;for(let b of(a=>{let b=["/layout"];if(a.startsWith("/")){let c=a.split("/");for(let a=1;a<c.length+1;a++){let d=c.slice(0,a).join("/");d&&(d.endsWith("/page")||d.endsWith("/route")||(d=`${d}${!d.endsWith("/")?"/":""}layout`),b.push(d))}}return b})(a))b=`${d.gW}${b}`,g.push(b);if(b.pathname&&!h){let a=`${d.gW}${b.pathname}`;g.push(a)}return{tags:g,expirationsByCacheKind:function(a){let b=new Map,c=(0,e.fs)();if(c)for(let[d,e]of c)"getExpiration"in e&&b.set(d,(0,f.a)(async()=>e.getExpiration(...a)));return b}(g)}}},4515:(a,b,c)=>{"use strict";var d;(d=c(9522)).renderToReadableStream,d.decodeReply,d.decodeReplyFromAsyncIterable,d.decodeAction,d.decodeFormState,d.registerServerReference,b.YR=d.registerClientReference,d.createClientModuleProxy,d.createTemporaryReferenceSet},4555:(a,b,c)=>{"use strict";async function d(){return"_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&await _ENTRIES.middleware_instrumentation}c.d(b,{getEdgeInstrumentationModule:()=>d,p:()=>h});let e=null;async function f(){if("phase-production-build"===process.env.NEXT_PHASE)return;e||(e=d());let a=await e;if(null==a?void 0:a.register)try{await a.register()}catch(a){throw a.message=`An error occurred while loading instrumentation hook: ${a.message}`,a}}let g=null;function h(){return g||(g=f()),g}function i(a){return`The edge runtime does not support Node.js '${a}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}process!==c.g.process&&(process.env=c.g.process.env,c.g.process=process);try{Object.defineProperty(globalThis,"__import_unsupported",{value:function(a){let b=new Proxy(function(){},{get(b,c){if("then"===c)return{};throw Object.defineProperty(Error(i(a)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},construct(){throw Object.defineProperty(Error(i(a)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},apply(c,d,e){if("function"==typeof e[0])return e[0](b);throw Object.defineProperty(Error(i(a)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}});return new Proxy({},{get:()=>b})},enumerable:!1,configurable:!1})}catch{}h()},4563:(a,b,c)=>{"use strict";c.d(b,{jT:()=>i,FD:()=>h,nH:()=>j});var d=c(4132);let e="_NEXTSEP_";function f(a){return"string"==typeof a&&!!(/\/\(\.{1,3}\):[^/\s]+/.test(a)||/:[a-zA-Z_][a-zA-Z0-9_]*:[a-zA-Z_][a-zA-Z0-9_]*/.test(a))}function g(a){let b=a;return(b=b.replace(/(\([^)]*\)):([^/\s]+)/g,`$1${e}:$2`)).replace(/:([^:/\s)]+)(?=:)/g,`:$1${e}`)}function h(a,b,c){if("string"!=typeof a)return(0,d.pathToRegexp)(a,b,c);let e=f(a),h=e?g(a):a;try{return(0,d.pathToRegexp)(h,b,c)}catch(f){if(!e)try{let e=g(a);return(0,d.pathToRegexp)(e,b,c)}catch(a){}throw f}}function i(a,b){let c=f(a),e=c?g(a):a;try{return(0,d.compile)(e,b)}catch(e){if(!c)try{let c=g(a);return(0,d.compile)(c,b)}catch(a){}throw e}}function j(a){return b=>{let c=a(b);if(!c)return!1;let d={};for(let[a,b]of Object.entries(c))"string"==typeof b?d[a]=b.replace(RegExp(`^${e}`),""):Array.isArray(b)?d[a]=b.map(a=>"string"==typeof a?a.replace(RegExp(`^${e}`),""):a):d[a]=b;return d}}},4568:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{interceptTestApis:function(){return f},wrapRequestHandler:function(){return g}});let d=c(8939),e=c(2155);function f(){return(0,e.interceptFetch)(c.g.fetch)}function g(a){return(b,c)=>(0,d.withRequest)(b,e.reader,()=>a(b,c))}},4611:a=>{(()=>{"use strict";var b={993:a=>{var b=Object.prototype.hasOwnProperty,c="~";function d(){}function e(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function f(a,b,d,f,g){if("function"!=typeof d)throw TypeError("The listener must be a function");var h=new e(d,f||a,g),i=c?c+b:b;return a._events[i]?a._events[i].fn?a._events[i]=[a._events[i],h]:a._events[i].push(h):(a._events[i]=h,a._eventsCount++),a}function g(a,b){0==--a._eventsCount?a._events=new d:delete a._events[b]}function h(){this._events=new d,this._eventsCount=0}Object.create&&(d.prototype=Object.create(null),(new d).__proto__||(c=!1)),h.prototype.eventNames=function(){var a,d,e=[];if(0===this._eventsCount)return e;for(d in a=this._events)b.call(a,d)&&e.push(c?d.slice(1):d);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(a)):e},h.prototype.listeners=function(a){var b=c?c+a:a,d=this._events[b];if(!d)return[];if(d.fn)return[d.fn];for(var e=0,f=d.length,g=Array(f);e<f;e++)g[e]=d[e].fn;return g},h.prototype.listenerCount=function(a){var b=c?c+a:a,d=this._events[b];return d?d.fn?1:d.length:0},h.prototype.emit=function(a,b,d,e,f,g){var h=c?c+a:a;if(!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if(k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,d),!0;case 4:return k.fn.call(k.context,b,d,e),!0;case 5:return k.fn.call(k.context,b,d,e,f),!0;case 6:return k.fn.call(k.context,b,d,e,f,g),!0}for(j=1,i=Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,d);break;case 4:k[j].fn.call(k[j].context,b,d,e);break;default:if(!i)for(m=1,i=Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},h.prototype.on=function(a,b,c){return f(this,a,b,c,!1)},h.prototype.once=function(a,b,c){return f(this,a,b,c,!0)},h.prototype.removeListener=function(a,b,d,e){var f=c?c+a:a;if(!this._events[f])return this;if(!b)return g(this,f),this;var h=this._events[f];if(h.fn)h.fn!==b||e&&!h.once||d&&h.context!==d||g(this,f);else{for(var i=0,j=[],k=h.length;i<k;i++)(h[i].fn!==b||e&&!h[i].once||d&&h[i].context!==d)&&j.push(h[i]);j.length?this._events[f]=1===j.length?j[0]:j:g(this,f)}return this},h.prototype.removeAllListeners=function(a){var b;return a?(b=c?c+a:a,this._events[b]&&g(this,b)):(this._events=new d,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=c,h.EventEmitter=h,a.exports=h},213:a=>{a.exports=(a,b)=>(b=b||(()=>{}),a.then(a=>new Promise(a=>{a(b())}).then(()=>a),a=>new Promise(a=>{a(b())}).then(()=>{throw a})))},574:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(a,b,c){let d=0,e=a.length;for(;e>0;){let f=e/2|0,g=d+f;0>=c(a[g],b)?(d=++g,e-=f+1):e=f}return d}},821:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0});let d=c(574);class e{constructor(){this._queue=[]}enqueue(a,b){let c={priority:(b=Object.assign({priority:0},b)).priority,run:a};if(this.size&&this._queue[this.size-1].priority>=b.priority)return void this._queue.push(c);let e=d.default(this._queue,c,(a,b)=>b.priority-a.priority);this._queue.splice(e,0,c)}dequeue(){let a=this._queue.shift();return null==a?void 0:a.run}filter(a){return this._queue.filter(b=>b.priority===a.priority).map(a=>a.run)}get size(){return this._queue.length}}b.default=e},816:(a,b,c)=>{let d=c(213);class e extends Error{constructor(a){super(a),this.name="TimeoutError"}}let f=(a,b,c)=>new Promise((f,g)=>{if("number"!=typeof b||b<0)throw TypeError("Expected `milliseconds` to be a positive number");if(b===1/0)return void f(a);let h=setTimeout(()=>{if("function"==typeof c){try{f(c())}catch(a){g(a)}return}let d="string"==typeof c?c:`Promise timed out after ${b} milliseconds`,h=c instanceof Error?c:new e(d);"function"==typeof a.cancel&&a.cancel(),g(h)},b);d(a.then(f,g),()=>{clearTimeout(h)})});a.exports=f,a.exports.default=f,a.exports.TimeoutError=e}},c={};function d(a){var e=c[a];if(void 0!==e)return e.exports;var f=c[a]={exports:{}},g=!0;try{b[a](f,f.exports,d),g=!1}finally{g&&delete c[a]}return f.exports}d.ab="//";var e={};(()=>{Object.defineProperty(e,"__esModule",{value:!0});let a=d(993),b=d(816),c=d(821),f=()=>{},g=new b.TimeoutError;class h extends a{constructor(a){var b,d,e,g;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=f,this._resolveIdle=f,!("number"==typeof(a=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:c.default},a)).intervalCap&&a.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!=(d=null==(b=a.intervalCap)?void 0:b.toString())?d:""}\` (${typeof a.intervalCap})`);if(void 0===a.interval||!(Number.isFinite(a.interval)&&a.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!=(g=null==(e=a.interval)?void 0:e.toString())?g:""}\` (${typeof a.interval})`);this._carryoverConcurrencyCount=a.carryoverConcurrencyCount,this._isIntervalIgnored=a.intervalCap===1/0||0===a.interval,this._intervalCap=a.intervalCap,this._interval=a.interval,this._queue=new a.queueClass,this._queueClass=a.queueClass,this.concurrency=a.concurrency,this._timeout=a.timeout,this._throwOnTimeout=!0===a.throwOnTimeout,this._isPaused=!1===a.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=f,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=f,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let a=Date.now();if(void 0===this._intervalId){let b=this._intervalEnd-a;if(!(b<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},b)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let a=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let b=this._queue.dequeue();return!!b&&(this.emit("active"),b(),a&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(a){if(!("number"==typeof a&&a>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${a}\` (${typeof a})`);this._concurrency=a,this._processQueue()}async add(a,c={}){return new Promise((d,e)=>{let f=async()=>{this._pendingCount++,this._intervalCount++;try{let f=void 0===this._timeout&&void 0===c.timeout?a():b.default(Promise.resolve(a()),void 0===c.timeout?this._timeout:c.timeout,()=>{(void 0===c.throwOnTimeout?this._throwOnTimeout:c.throwOnTimeout)&&e(g)});d(await f)}catch(a){e(a)}this._next()};this._queue.enqueue(f,c),this._tryToStartAnother(),this.emit("add")})}async addAll(a,b){return Promise.all(a.map(async a=>this.add(a,b)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(a=>{let b=this._resolveEmpty;this._resolveEmpty=()=>{b(),a()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(a=>{let b=this._resolveIdle;this._resolveIdle=()=>{b(),a()}})}get size(){return this._queue.size}sizeBy(a){return this._queue.filter(a).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(a){this._timeout=a}}e.default=h})(),a.exports=e})()},4644:(a,b,c)=>{"use strict";c.d(b,{_s:()=>l,jK:()=>j});var d=c(2205),e=c(8711),f=c(3891),g=c(6425);let h=/^([^[]*)\[((?:\[[^\]]*\])|[^\]]+)\](.*)$/;function i(a){let b=a.startsWith("[")&&a.endsWith("]");b&&(a=a.slice(1,-1));let c=a.startsWith("...");return c&&(a=a.slice(3)),{key:a,repeat:c,optional:b}}function j(a,b){let{includeSuffix:c=!1,includePrefix:d=!1,excludeOptionalTrailingSlash:j=!1}=void 0===b?{}:b,{parameterizedRoute:k,groups:l}=function(a,b,c){let d={},j=1,k=[];for(let l of(0,g.U)(a).slice(1).split("/")){let a=e.VB.find(a=>l.startsWith(a)),g=l.match(h);if(a&&g&&g[2]){let{key:b,optional:c,repeat:e}=i(g[2]);d[b]={pos:j++,repeat:e,optional:c},k.push("/"+(0,f.q)(a)+"([^/]+?)")}else if(g&&g[2]){let{key:a,repeat:b,optional:e}=i(g[2]);d[a]={pos:j++,repeat:b,optional:e},c&&g[1]&&k.push("/"+(0,f.q)(g[1]));let h=b?e?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)";c&&g[1]&&(h=h.substring(1)),k.push(h)}else k.push("/"+(0,f.q)(l));b&&g&&g[3]&&k.push((0,f.q)(g[3]))}return{parameterizedRoute:k.join(""),groups:d}}(a,c,d),m=k;return j||(m+="(?:/)?"),{re:RegExp("^"+m+"$"),groups:l}}function k(a){let b,{interceptionMarker:c,getSafeRouteKey:d,segment:e,routeKeys:g,keyPrefix:h,backreferenceDuplicateKeys:j}=a,{key:k,optional:l,repeat:m}=i(e),n=k.replace(/\W/g,"");h&&(n=""+h+n);let o=!1;(0===n.length||n.length>30)&&(o=!0),isNaN(parseInt(n.slice(0,1)))||(o=!0),o&&(n=d());let p=n in g;h?g[n]=""+h+k:g[n]=k;let q=c?(0,f.q)(c):"";return b=p&&j?"\\k<"+n+">":m?"(?<"+n+">.+?)":"(?<"+n+">[^/]+?)",l?"(?:/"+q+b+")?":"/"+q+b}function l(a,b){var c,i,l;let m=function(a,b,c,i,j){let l,m=(l=0,()=>{let a="",b=++l;for(;b>0;)a+=String.fromCharCode(97+(b-1)%26),b=Math.floor((b-1)/26);return a}),n={},o=[];for(let l of(0,g.U)(a).slice(1).split("/")){let a=e.VB.some(a=>l.startsWith(a)),g=l.match(h);if(a&&g&&g[2])o.push(k({getSafeRouteKey:m,interceptionMarker:g[1],segment:g[2],routeKeys:n,keyPrefix:b?d.h:void 0,backreferenceDuplicateKeys:j}));else if(g&&g[2]){i&&g[1]&&o.push("/"+(0,f.q)(g[1]));let a=k({getSafeRouteKey:m,segment:g[2],routeKeys:n,keyPrefix:b?d.AA:void 0,backreferenceDuplicateKeys:j});i&&g[1]&&(a=a.substring(1)),o.push(a)}else o.push("/"+(0,f.q)(l));c&&g&&g[3]&&o.push((0,f.q)(g[3]))}return{namedParameterizedRoute:o.join(""),routeKeys:n}}(a,b.prefixRouteKeys,null!=(c=b.includeSuffix)&&c,null!=(i=b.includePrefix)&&i,null!=(l=b.backreferenceDuplicateKeys)&&l),n=m.namedParameterizedRoute;return b.excludeOptionalTrailingSlash||(n+="(?:/)?"),{...j(a,b),namedRegex:"^"+n+"$",routeKeys:m.routeKeys}}},4673:(a,b,c)=>{"use strict";c.d(b,{Gx:()=>f,Ic:()=>g,M_:()=>h});var d=c(8498),e=c(2205);function f(a,b){let c=d.o.from(a.headers);return{isOnDemandRevalidate:c.get(e.kz)===b.previewModeId,revalidateOnlyGenerated:c.has(e.r4)}}c(811),c(3321);let g="__prerender_bypass";Symbol("__next_preview_data");let h=Symbol(g)},4885:(a,b,c)=>{"use strict";c.d(b,{Xc:()=>d}),"undefined"!=typeof performance&&["mark","measure","getEntriesByName"].every(a=>"function"==typeof performance[a]);class d extends Error{}},4953:(a,b,c)=>{"use strict";c.d(b,{l:()=>d});class d{static get(a,b,c){let d=Reflect.get(a,b,c);return"function"==typeof d?d.bind(a):d}static set(a,b,c,d){return Reflect.set(a,b,c,d)}static has(a,b){return Reflect.has(a,b)}static deleteProperty(a,b){return Reflect.deleteProperty(a,b)}}},4983:(a,b,c)=>{"use strict";c.d(b,{z:()=>d});class d extends Error{constructor(a,b){super("Invariant: "+(a.endsWith(".")?a:a+".")+" This is a bug in Next.js.",b),this.name="InvariantError"}}},5104:(a,b,c)=>{"use strict";c.d(b,{yD:()=>g.y,Bs:()=>g.B,Ay:()=>u});var d=c(9408);class e{constructor(a,b=a=>a()){this.cacheKeyFn=a,this.schedulerFn=b,this.pending=new Map}static create(a){return new e(null==a?void 0:a.cacheKeyFn,null==a?void 0:a.schedulerFn)}async batch(a,b){let c=this.cacheKeyFn?await this.cacheKeyFn(a):a;if(null===c)return b(c,Promise.resolve);let e=this.pending.get(c);if(e)return e;let{promise:f,resolve:g,reject:h}=new d.q;return this.pending.set(c,f),this.schedulerFn(async()=>{try{let a=await b(c,g);g(a)}catch(a){h(a)}finally{this.pending.delete(c)}}),f}}var f=c(1173),g=c(7986);function h(){}c(811),c(3321),new Uint8Array([60,104,116,109,108]),new Uint8Array([60,98,111,100,121]),new Uint8Array([60,47,104,101,97,100,62]),new Uint8Array([60,47,98,111,100,121,62]),new Uint8Array([60,47,104,116,109,108,62]),new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62]),new Uint8Array([60,109,101,116,97,32,110,97,109,101,61,34,194,171,110,120,116,45,105,99,111,110,194,187,34]),c(5356).Buffer;let i=new TextEncoder;function j(a){return new ReadableStream({start(b){b.enqueue(i.encode(a)),b.close()}})}function k(a){return new ReadableStream({start(b){b.enqueue(a),b.close()}})}async function l(a,b){let c=new TextDecoder("utf-8",{fatal:!0}),d="";for await(let e of a){if(null==b?void 0:b.aborted)return d;d+=c.decode(e,{stream:!0})}return d+c.decode()}var m=c(8955),n=c(4983),o=c(5356).Buffer;class p{static #a=this.EMPTY=new p(null,{metadata:{},contentType:null});static fromStatic(a,b){return new p(a,{metadata:{},contentType:b})}constructor(a,{contentType:b,waitUntil:c,metadata:d}){this.response=a,this.contentType=b,this.metadata=d,this.waitUntil=c}assignMetadata(a){Object.assign(this.metadata,a)}get isNull(){return null===this.response}get isDynamic(){return"string"!=typeof this.response}toUnchunkedString(a=!1){if(null===this.response)return"";if("string"!=typeof this.response){if(!a)throw Object.defineProperty(new n.z("dynamic responses cannot be unchunked. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E732",enumerable:!1,configurable:!0});return l(this.readable)}return this.response}get readable(){return null===this.response?new ReadableStream({start(a){a.close()}}):"string"==typeof this.response?j(this.response):o.isBuffer(this.response)?k(this.response):Array.isArray(this.response)?function(...a){if(0===a.length)return new ReadableStream({start(a){a.close()}});if(1===a.length)return a[0];let{readable:b,writable:c}=new TransformStream,d=a[0].pipeTo(c,{preventClose:!0}),e=1;for(;e<a.length-1;e++){let b=a[e];d=d.then(()=>b.pipeTo(c,{preventClose:!0}))}let f=a[e];return(d=d.then(()=>f.pipeTo(c))).catch(h),b}(...this.response):this.response}coerce(){return null===this.response?[]:"string"==typeof this.response?[j(this.response)]:Array.isArray(this.response)?this.response:o.isBuffer(this.response)?[k(this.response)]:[this.response]}unshift(a){this.response=this.coerce(),this.response.unshift(a)}push(a){this.response=this.coerce(),this.response.push(a)}async pipeTo(a){try{await this.readable.pipeTo(a,{preventClose:!0}),this.waitUntil&&await this.waitUntil,await a.close()}catch(b){if((0,m.z)(b))return void await a.abort(b);throw b}}async pipeToNodeResponse(a){await (0,m.p)(this.readable,a,this.waitUntil)}}var q=c(1786),r=c(2205);async function s(a){var b,c;return{...a,value:(null==(b=a.value)?void 0:b.kind)===g.y.PAGES?{kind:g.y.PAGES,html:await a.value.html.toUnchunkedString(!0),pageData:a.value.pageData,headers:a.value.headers,status:a.value.status}:(null==(c=a.value)?void 0:c.kind)===g.y.APP_PAGE?{kind:g.y.APP_PAGE,html:await a.value.html.toUnchunkedString(!0),postponed:a.value.postponed,rscData:a.value.rscData,headers:a.value.headers,status:a.value.status,segmentData:a.value.segmentData}:a.value}}async function t(a){var b,c;return a?{isMiss:a.isMiss,isStale:a.isStale,cacheControl:a.cacheControl,value:(null==(b=a.value)?void 0:b.kind)===g.y.PAGES?{kind:g.y.PAGES,html:p.fromStatic(a.value.html,r.j9),pageData:a.value.pageData,headers:a.value.headers,status:a.value.status}:(null==(c=a.value)?void 0:c.kind)===g.y.APP_PAGE?{kind:g.y.APP_PAGE,html:p.fromStatic(a.value.html,r.j9),rscData:a.value.rscData,headers:a.value.headers,status:a.value.status,postponed:a.value.postponed,segmentData:a.value.segmentData}:a.value}:null}class u{constructor(a){this.batcher=e.create({cacheKeyFn:({key:a,isOnDemandRevalidate:b})=>`${a}-${b?"1":"0"}`,schedulerFn:f.x8}),this.minimal_mode=a}async get(a,b,c){if(!a)return b({hasResolved:!1,previousCacheEntry:null});let{incrementalCache:d,isOnDemandRevalidate:e=!1,isFallback:f=!1,isRoutePPREnabled:h=!1,waitUntil:i}=c,j=await this.batcher.batch({key:a,isOnDemandRevalidate:e},(j,k)=>{let l=(async()=>{var i;if(this.minimal_mode&&(null==(i=this.previousCacheItem)?void 0:i.key)===j&&this.previousCacheItem.expiresAt>Date.now())return this.previousCacheItem.entry;let l=function(a){switch(a){case q.A.PAGES:return g.B.PAGES;case q.A.APP_PAGE:return g.B.APP_PAGE;case q.A.IMAGE:return g.B.IMAGE;case q.A.APP_ROUTE:return g.B.APP_ROUTE;case q.A.PAGES_API:throw Object.defineProperty(Error(`Unexpected route kind ${a}`),"__NEXT_ERROR_CODE",{value:"E64",enumerable:!1,configurable:!0});default:return a}}(c.routeKind),m=!1,n=null;try{if((n=this.minimal_mode?null:await d.get(a,{kind:l,isRoutePPREnabled:c.isRoutePPREnabled,isFallback:f}))&&!e&&(k(n),m=!0,!n.isStale||c.isPrefetch))return null;let g=await b({hasResolved:m,previousCacheEntry:n,isRevalidating:!0});if(!g)return this.minimal_mode&&(this.previousCacheItem=void 0),null;let i=await s({...g,isMiss:!n});if(!i)return this.minimal_mode&&(this.previousCacheItem=void 0),null;return e||m||(k(i),m=!0),i.cacheControl&&(this.minimal_mode?this.previousCacheItem={key:j,entry:i,expiresAt:Date.now()+1e3}:await d.set(a,i.value,{cacheControl:i.cacheControl,isRoutePPREnabled:h,isFallback:f})),i}catch(b){if(null==n?void 0:n.cacheControl){let b=Math.min(Math.max(n.cacheControl.revalidate||3,3),30),c=void 0===n.cacheControl.expire?void 0:Math.max(b+3,n.cacheControl.expire);await d.set(a,n.value,{cacheControl:{revalidate:b,expire:c},isRoutePPREnabled:h,isFallback:f})}if(m)return console.error(b),null;throw b}})();return i&&i(l),l});return t(j)}}},5218:(a,b,c)=>{"use strict";c.d(b,{W5:()=>f});class d extends Error{constructor(a,b){super(`During prerendering, ${b} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${b} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${a}".`),this.route=a,this.expression=b,this.digest="HANGING_PROMISE_REJECTION"}}let e=new WeakMap;function f(a,b,c){if(a.aborted)return Promise.reject(new d(b,c));{let f=new Promise((f,g)=>{let h=g.bind(null,new d(b,c)),i=e.get(a);if(i)i.push(h);else{let b=[h];e.set(a,b),a.addEventListener("abort",()=>{for(let a=0;a<b.length;a++)b[a]()},{once:!0})}});return f.catch(g),f}}function g(){}},5221:(a,b,c)=>{"use strict";c.d(b,{CB:()=>d,Yq:()=>e,l_:()=>f});class d extends Error{constructor({page:a}){super(`The middleware "${a}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class e extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class f extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},5361:a=>{!function(){"use strict";var b={114:function(a){function b(a){if("string"!=typeof a)throw TypeError("Path must be a string. Received "+JSON.stringify(a))}function c(a,b){for(var c,d="",e=0,f=-1,g=0,h=0;h<=a.length;++h){if(h<a.length)c=a.charCodeAt(h);else if(47===c)break;else c=47;if(47===c){if(f===h-1||1===g);else if(f!==h-1&&2===g){if(d.length<2||2!==e||46!==d.charCodeAt(d.length-1)||46!==d.charCodeAt(d.length-2)){if(d.length>2){var i=d.lastIndexOf("/");if(i!==d.length-1){-1===i?(d="",e=0):e=(d=d.slice(0,i)).length-1-d.lastIndexOf("/"),f=h,g=0;continue}}else if(2===d.length||1===d.length){d="",e=0,f=h,g=0;continue}}b&&(d.length>0?d+="/..":d="..",e=2)}else d.length>0?d+="/"+a.slice(f+1,h):d=a.slice(f+1,h),e=h-f-1;f=h,g=0}else 46===c&&-1!==g?++g:g=-1}return d}var d={resolve:function(){for(var a,d,e="",f=!1,g=arguments.length-1;g>=-1&&!f;g--)g>=0?d=arguments[g]:(void 0===a&&(a=""),d=a),b(d),0!==d.length&&(e=d+"/"+e,f=47===d.charCodeAt(0));if(e=c(e,!f),f)if(e.length>0)return"/"+e;else return"/";return e.length>0?e:"."},normalize:function(a){if(b(a),0===a.length)return".";var d=47===a.charCodeAt(0),e=47===a.charCodeAt(a.length-1);return(0!==(a=c(a,!d)).length||d||(a="."),a.length>0&&e&&(a+="/"),d)?"/"+a:a},isAbsolute:function(a){return b(a),a.length>0&&47===a.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var a,c=0;c<arguments.length;++c){var e=arguments[c];b(e),e.length>0&&(void 0===a?a=e:a+="/"+e)}return void 0===a?".":d.normalize(a)},relative:function(a,c){if(b(a),b(c),a===c||(a=d.resolve(a))===(c=d.resolve(c)))return"";for(var e=1;e<a.length&&47===a.charCodeAt(e);++e);for(var f=a.length,g=f-e,h=1;h<c.length&&47===c.charCodeAt(h);++h);for(var i=c.length-h,j=g<i?g:i,k=-1,l=0;l<=j;++l){if(l===j){if(i>j){if(47===c.charCodeAt(h+l))return c.slice(h+l+1);else if(0===l)return c.slice(h+l)}else g>j&&(47===a.charCodeAt(e+l)?k=l:0===l&&(k=0));break}var m=a.charCodeAt(e+l);if(m!==c.charCodeAt(h+l))break;47===m&&(k=l)}var n="";for(l=e+k+1;l<=f;++l)(l===f||47===a.charCodeAt(l))&&(0===n.length?n+="..":n+="/..");return n.length>0?n+c.slice(h+k):(h+=k,47===c.charCodeAt(h)&&++h,c.slice(h))},_makeLong:function(a){return a},dirname:function(a){if(b(a),0===a.length)return".";for(var c=a.charCodeAt(0),d=47===c,e=-1,f=!0,g=a.length-1;g>=1;--g)if(47===(c=a.charCodeAt(g))){if(!f){e=g;break}}else f=!1;return -1===e?d?"/":".":d&&1===e?"//":a.slice(0,e)},basename:function(a,c){if(void 0!==c&&"string"!=typeof c)throw TypeError('"ext" argument must be a string');b(a);var d,e=0,f=-1,g=!0;if(void 0!==c&&c.length>0&&c.length<=a.length){if(c.length===a.length&&c===a)return"";var h=c.length-1,i=-1;for(d=a.length-1;d>=0;--d){var j=a.charCodeAt(d);if(47===j){if(!g){e=d+1;break}}else -1===i&&(g=!1,i=d+1),h>=0&&(j===c.charCodeAt(h)?-1==--h&&(f=d):(h=-1,f=i))}return e===f?f=i:-1===f&&(f=a.length),a.slice(e,f)}for(d=a.length-1;d>=0;--d)if(47===a.charCodeAt(d)){if(!g){e=d+1;break}}else -1===f&&(g=!1,f=d+1);return -1===f?"":a.slice(e,f)},extname:function(a){b(a);for(var c=-1,d=0,e=-1,f=!0,g=0,h=a.length-1;h>=0;--h){var i=a.charCodeAt(h);if(47===i){if(!f){d=h+1;break}continue}-1===e&&(f=!1,e=h+1),46===i?-1===c?c=h:1!==g&&(g=1):-1!==c&&(g=-1)}return -1===c||-1===e||0===g||1===g&&c===e-1&&c===d+1?"":a.slice(c,e)},format:function(a){var b,c;if(null===a||"object"!=typeof a)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return b=a.dir||a.root,c=a.base||(a.name||"")+(a.ext||""),b?b===a.root?b+c:b+"/"+c:c},parse:function(a){b(a);var c,d={root:"",dir:"",base:"",ext:"",name:""};if(0===a.length)return d;var e=a.charCodeAt(0),f=47===e;f?(d.root="/",c=1):c=0;for(var g=-1,h=0,i=-1,j=!0,k=a.length-1,l=0;k>=c;--k){if(47===(e=a.charCodeAt(k))){if(!j){h=k+1;break}continue}-1===i&&(j=!1,i=k+1),46===e?-1===g?g=k:1!==l&&(l=1):-1!==g&&(l=-1)}return -1===g||-1===i||0===l||1===l&&g===i-1&&g===h+1?-1!==i&&(0===h&&f?d.base=d.name=a.slice(1,i):d.base=d.name=a.slice(h,i)):(0===h&&f?(d.name=a.slice(1,g),d.base=a.slice(1,i)):(d.name=a.slice(h,g),d.base=a.slice(h,i)),d.ext=a.slice(g,i)),h>0?d.dir=a.slice(0,h-1):f&&(d.dir="/"),d},sep:"/",delimiter:":",win32:null,posix:null};d.posix=d,a.exports=d}},c={};function d(a){var e=c[a];if(void 0!==e)return e.exports;var f=c[a]={exports:{}},g=!0;try{b[a](f,f.exports,d),g=!1}finally{g&&delete c[a]}return f.exports}d.ab="//",a.exports=d(114)}()},5447:(a,b,c)=>{"use strict";c.d(b,{j:()=>k,p:()=>l});var d,e=c(4673),f=c(1113),g=c(7554),h=c(8522);class i{constructor(a,b,c){this.method=a,this.url=b,this.body=c}get cookies(){return this._cookies?this._cookies:this._cookies=(0,h.i)(this.headers)()}}class j{constructor(a){this.destination=a}redirect(a,b){return this.setHeader("Location",a),this.statusCode=b,b===g.Q.PermanentRedirect&&this.setHeader("Refresh",`0;url=${a}`),this}}class k extends i{static #a=d=f.WT;constructor(a){var b;super(a.method.toUpperCase(),a.url,a),this._req=a,this.headers=this._req.headers,this.fetchMetrics=null==(b=this._req)?void 0:b.fetchMetrics,this[d]=this._req[f.WT]||{},this.streaming=!1}get originalRequest(){return this._req[f.WT]=this[f.WT],this._req.url=this.url,this._req.cookies=this.cookies,this._req}set originalRequest(a){this._req=a}stream(){if(this.streaming)throw Object.defineProperty(Error("Invariant: NodeNextRequest.stream() can only be called once"),"__NEXT_ERROR_CODE",{value:"E467",enumerable:!1,configurable:!0});return this.streaming=!0,new ReadableStream({start:a=>{this._req.on("data",b=>{a.enqueue(new Uint8Array(b))}),this._req.on("end",()=>{a.close()}),this._req.on("error",b=>{a.error(b)})}})}}class l extends j{get originalResponse(){return e.M_ in this&&(this._res[e.M_]=this[e.M_]),this._res}constructor(a){super(a),this._res=a,this.textBody=void 0}get sent(){return this._res.finished||this._res.headersSent}get statusCode(){return this._res.statusCode}set statusCode(a){this._res.statusCode=a}get statusMessage(){return this._res.statusMessage}set statusMessage(a){this._res.statusMessage=a}setHeader(a,b){return this._res.setHeader(a,b),this}removeHeader(a){return this._res.removeHeader(a),this}getHeaderValues(a){let b=this._res.getHeader(a);if(void 0!==b)return(Array.isArray(b)?b:[b]).map(a=>a.toString())}hasHeader(a){return this._res.hasHeader(a)}getHeader(a){let b=this.getHeaderValues(a);return Array.isArray(b)?b.join(","):void 0}getHeaders(){return this._res.getHeaders()}appendHeader(a,b){let c=this.getHeaderValues(a)??[];return c.includes(b)||this._res.setHeader(a,[...c,b]),this}body(a){return this.textBody=a,this}send(){this._res.end(this.textBody)}onClose(a){this.originalResponse.on("close",a)}}},5582:(a,b,c)=>{"use strict";c.d(b,{fd:()=>e,rs:()=>d}),Symbol("ZodOutput"),Symbol("ZodInput");class d{constructor(){this._map=new Map,this._idmap=new Map}add(a,...b){let c=b[0];if(this._map.set(a,c),c&&"object"==typeof c&&"id"in c){if(this._idmap.has(c.id))throw Error(`ID ${c.id} already exists in the registry`);this._idmap.set(c.id,a)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(a){let b=this._map.get(a);return b&&"object"==typeof b&&"id"in b&&this._idmap.delete(b.id),this._map.delete(a),this}get(a){let b=a._zod.parent;if(b){let c={...this.get(b)??{}};return delete c.id,{...c,...this._map.get(a)}}return this._map.get(a)}has(a){return this._map.has(a)}}let e=new d},5600:(a,b,c)=>{"use strict";c.d(b,{Ch:()=>ai,Di:()=>O,Kq:()=>_,M3:()=>S,Tt:()=>J,b8:()=>aq,bD:()=>B,eM:()=>ae,hL:()=>F,iM:()=>am,u1:()=>K,u6:()=>X});var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z="vercel.ai.error",A=Symbol.for(z),B=class a extends(e=Error,d=A,e){constructor({name:a,message:b,cause:c}){super(b),this[d]=!0,this.name=a,this.cause=c}static isInstance(b){return a.hasMarker(b,z)}static hasMarker(a,b){let c=Symbol.for(b);return null!=a&&"object"==typeof a&&c in a&&"boolean"==typeof a[c]&&!0===a[c]}},C="AI_APICallError",D=`vercel.ai.error.${C}`,E=Symbol.for(D),F=class extends(g=B,f=E,g){constructor({message:a,url:b,requestBodyValues:c,statusCode:d,responseHeaders:e,responseBody:g,cause:h,isRetryable:i=null!=d&&(408===d||409===d||429===d||d>=500),data:j}){super({name:C,message:a,cause:h}),this[f]=!0,this.url=b,this.requestBodyValues=c,this.statusCode=d,this.responseHeaders=e,this.responseBody=g,this.isRetryable=i,this.data=j}static isInstance(a){return B.hasMarker(a,D)}},G="AI_EmptyResponseBodyError",H=`vercel.ai.error.${G}`,I=Symbol.for(H),J=class extends(i=B,h=I,i){constructor({message:a="Empty response body"}={}){super({name:G,message:a}),this[h]=!0}static isInstance(a){return B.hasMarker(a,H)}};function K(a){return null==a?"unknown error":"string"==typeof a?a:a instanceof Error?a.message:JSON.stringify(a)}var L="AI_InvalidArgumentError",M=`vercel.ai.error.${L}`,N=Symbol.for(M),O=class extends(k=B,j=N,k){constructor({message:a,cause:b,argument:c}){super({name:L,message:a,cause:b}),this[j]=!0,this.argument=c}static isInstance(a){return B.hasMarker(a,M)}},P="AI_InvalidPromptError",Q=`vercel.ai.error.${P}`,R=Symbol.for(Q),S=class extends(m=B,l=R,m){constructor({prompt:a,message:b,cause:c}){super({name:P,message:`Invalid prompt: ${b}`,cause:c}),this[l]=!0,this.prompt=a}static isInstance(a){return B.hasMarker(a,Q)}},T=Symbol.for("vercel.ai.error.AI_InvalidResponseDataError"),U="AI_JSONParseError",V=`vercel.ai.error.${U}`,W=Symbol.for(V),X=class extends(o=B,n=W,o){constructor({text:a,cause:b}){super({name:U,message:`JSON parsing failed: Text: ${a}.
Error message: ${K(b)}`,cause:b}),this[n]=!0,this.text=a}static isInstance(a){return B.hasMarker(a,V)}},Y="AI_LoadAPIKeyError",Z=`vercel.ai.error.${Y}`,$=Symbol.for(Z),_=class extends(q=B,p=$,q){constructor({message:a}){super({name:Y,message:a}),this[p]=!0}static isInstance(a){return B.hasMarker(a,Z)}},aa=Symbol.for("vercel.ai.error.AI_LoadSettingError");Symbol.for("vercel.ai.error.AI_NoContentGeneratedError");var ab="AI_NoSuchModelError",ac=`vercel.ai.error.${ab}`,ad=Symbol.for(ac),ae=class extends(s=B,r=ad,s){constructor({errorName:a=ab,modelId:b,modelType:c,message:d=`No such ${c}: ${b}`}){super({name:a,message:d}),this[r]=!0,this.modelId=b,this.modelType=c}static isInstance(a){return B.hasMarker(a,ac)}},af="AI_TooManyEmbeddingValuesForCallError",ag=`vercel.ai.error.${af}`,ah=Symbol.for(ag),ai=class extends(u=B,t=ah,u){constructor(a){super({name:af,message:`Too many values for a single embedding call. The ${a.provider} model "${a.modelId}" can only embed up to ${a.maxEmbeddingsPerCall} values per call, but ${a.values.length} values were provided.`}),this[t]=!0,this.provider=a.provider,this.modelId=a.modelId,this.maxEmbeddingsPerCall=a.maxEmbeddingsPerCall,this.values=a.values}static isInstance(a){return B.hasMarker(a,ag)}},aj="AI_TypeValidationError",ak=`vercel.ai.error.${aj}`,al=Symbol.for(ak),am=class a extends(w=B,v=al,w){constructor({value:a,cause:b}){super({name:aj,message:`Type validation failed: Value: ${JSON.stringify(a)}.
Error message: ${K(b)}`,cause:b}),this[v]=!0,this.value=a}static isInstance(a){return B.hasMarker(a,ak)}static wrap({value:b,cause:c}){return a.isInstance(c)&&c.value===b?c:new a({value:b,cause:c})}},an="AI_UnsupportedFunctionalityError",ao=`vercel.ai.error.${an}`,ap=Symbol.for(ao),aq=class extends(y=B,x=ap,y){constructor({functionality:a,message:b=`'${a}' functionality not supported.`}){super({name:an,message:b}),this[x]=!0,this.functionality=a}static isInstance(a){return B.hasMarker(a,ao)}}},5775:(a,b,c)=>{"use strict";var d;c.d(b,{X:()=>d}),function(a){a[a.NONE=0]="NONE",a[a.SAMPLED=1]="SAMPLED"}(d||(d={}))},5823:(a,b,c)=>{"use strict";c.d(b,{t3:()=>l,uO:()=>h,wi:()=>r,gz:()=>i,AA:()=>q,ag:()=>j,Ui:()=>m,xI:()=>k});var d=c(8798),e=c(3749),f=c(1577);c(5862),c(1320),c(5218),c(3660),c(4983);let g="function"==typeof d.unstable_postpone;function h(a){return{isDebugDynamicAccesses:a,dynamicAccesses:[],syncDynamicErrorWithStack:null}}function i(a){var b;return null==(b=a.dynamicAccesses[0])?void 0:b.expression}function j(a,b,c){if(b)switch(b.type){case"cache":case"unstable-cache":case"private-cache":return}if(!a.forceDynamic&&!a.forceStatic){if(a.dynamicShouldError)throw Object.defineProperty(new f.f(`Route ${a.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${c}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(b)switch(b.type){case"prerender-ppr":return m(a.route,c,b.dynamicTracking);case"prerender-legacy":b.revalidate=0;let d=Object.defineProperty(new e.DynamicServerError(`Route ${a.route} couldn't be rendered statically because it used ${c}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw a.dynamicUsageDescription=c,a.dynamicUsageStack=d.stack,d}}}function k(a,b,c){let d=Object.defineProperty(new e.DynamicServerError(`Route ${b.route} couldn't be rendered statically because it used \`${a}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw c.revalidate=0,b.dynamicUsageDescription=a,b.dynamicUsageStack=d.stack,d}function l(a,b,c,d){if(!1===d.controller.signal.aborted){let e=p(`Route ${a} needs to bail out of prerendering at this point because it used ${b}.`);d.controller.abort(e);let f=d.dynamicTracking;f&&f.dynamicAccesses.push({stack:f.isDebugDynamicAccesses?Error().stack:void 0,expression:b});let g=d.dynamicTracking;g&&null===g.syncDynamicErrorWithStack&&(g.syncDynamicErrorWithStack=c)}throw p(`Route ${a} needs to bail out of prerendering at this point because it used ${b}.`)}function m(a,b,c){(function(){if(!g)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),c&&c.dynamicAccesses.push({stack:c.isDebugDynamicAccesses?Error().stack:void 0,expression:b}),d.unstable_postpone(n(a,b))}function n(a,b){return`Route ${a} needs to bail out of prerendering at this point because it used ${b}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}if(!1===function(a){return a.includes("needs to bail out of prerendering at this point because it used")&&a.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}(n("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let o="NEXT_PRERENDER_INTERRUPTED";function p(a){let b=Object.defineProperty(Error(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return b.digest=o,b}function q(a){return"object"==typeof a&&null!==a&&a.digest===o&&"name"in a&&"message"in a&&a instanceof Error}function r(a,b){return a.runtimeStagePromise?a.runtimeStagePromise.then(()=>b):b}RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at __next_root_layout_boundary__ \\([^\\n]*\\)`),RegExp(`\\n\\s+at __next_metadata_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_viewport_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_outlet_boundary__[\\n\\s]`)},5862:(a,b,c)=>{"use strict";c.d(b,{Br:()=>i,fm:()=>g,E0:()=>h,bR:()=>f,FP:()=>d});let d=(0,c(3131).xl)();class e extends Error{constructor(a,b){super("Invariant: "+(a.endsWith(".")?a:a+".")+" This is a bug in Next.js.",b),this.name="InvariantError"}}function f(){throw Object.defineProperty(new e("Expected workUnitAsyncStorage to have a store."),"__NEXT_ERROR_CODE",{value:"E696",enumerable:!1,configurable:!0})}function g(a){switch(a.type){case"prerender":case"prerender-runtime":case"prerender-ppr":case"prerender-client":return a.prerenderResumeDataCache;case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":return null;default:return a}}function h(a){switch(a.type){case"request":return a.renderResumeDataCache;case"prerender":case"prerender-runtime":case"prerender-client":if(a.renderResumeDataCache)return a.renderResumeDataCache;case"prerender-ppr":return a.prerenderResumeDataCache;case"cache":case"private-cache":case"unstable-cache":case"prerender-legacy":return null;default:return a}}function i(a){switch(a.type){case"prerender":case"prerender-client":case"prerender-runtime":return a.cacheSignal;case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":return null;default:return a}}},5890:(a,b,c)=>{"use strict";a.exports=c(1160)},5925:(a,b,c)=>{"use strict";a.exports=c(5361)},6036:(a,b,c)=>{"use strict";c.d(b,{g:()=>f});var d=c(4885),e=c(4563);function f(a){let{re:b,groups:c}=a;return(0,e.nH)(a=>{let e=b.exec(a);if(!e)return!1;let f=a=>{try{return decodeURIComponent(a)}catch(a){throw Object.defineProperty(new d.Xc("failed to decode param"),"__NEXT_ERROR_CODE",{value:"E528",enumerable:!1,configurable:!0})}},g={};for(let[a,b]of Object.entries(c)){let c=e[b.pos];void 0!==c&&(b.repeat?g[a]=c.split("/").map(a=>f(a)):g[a]=f(c))}return g})}},6060:(a,b,c)=>{"use strict";c.d(b,{B:()=>e});var d=c(2205);function e({revalidate:a,expire:b}){let c="number"==typeof a&&void 0!==b&&a<b?`, stale-while-revalidate=${b-a}`:"";return 0===a?"private, no-cache, no-store, max-age=0, must-revalidate":"number"==typeof a?`s-maxage=${a}${c}`:`s-maxage=${d.qF}${c}`}},6093:(a,b,c)=>{"use strict";c.d(b,{X:()=>p});var d=c(278),e=c(6425),f=c(757);function g(a,b){if(!a.startsWith("/")||!b)return a;let{pathname:c,query:d,hash:e}=(0,f.R)(a);return""+b+c+d+e}function h(a,b){if(!a.startsWith("/")||!b)return a;let{pathname:c,query:d,hash:e}=(0,f.R)(a);return""+c+b+d+e}var i=c(7859),j=c(3524),k=c(9817),l=c(47);let m=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function n(a,b){return new URL(String(a).replace(m,"localhost"),b&&String(b).replace(m,"localhost"))}let o=Symbol("NextURLInternal");class p{constructor(a,b,c){let d,e;"object"==typeof b&&"pathname"in b||"string"==typeof b?(d=b,e=c||{}):e=c||b||{},this[o]={url:n(a,d??e.base),options:e,basePath:""},this.analyze()}analyze(){var a,b,c,e,f;let g=function(a,b){var c,d;let{basePath:e,i18n:f,trailingSlash:g}=null!=(c=b.nextConfig)?c:{},h={pathname:a,trailingSlash:"/"!==a?a.endsWith("/"):g};e&&(0,i.m)(h.pathname,e)&&(h.pathname=(0,l.y)(h.pathname,e),h.basePath=e);let j=h.pathname;if(h.pathname.startsWith("/_next/data/")&&h.pathname.endsWith(".json")){let a=h.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");h.buildId=a[0],j="index"!==a[1]?"/"+a.slice(1).join("/"):"/",!0===b.parseData&&(h.pathname=j)}if(f){let a=b.i18nProvider?b.i18nProvider.analyze(h.pathname):(0,k.d)(h.pathname,f.locales);h.locale=a.detectedLocale,h.pathname=null!=(d=a.pathname)?d:h.pathname,!a.detectedLocale&&h.buildId&&(a=b.i18nProvider?b.i18nProvider.analyze(j):(0,k.d)(j,f.locales)).detectedLocale&&(h.locale=a.detectedLocale)}return h}(this[o].url.pathname,{nextConfig:this[o].options.nextConfig,parseData:!0,i18nProvider:this[o].options.i18nProvider}),h=(0,j.E)(this[o].url,this[o].options.headers);this[o].domainLocale=this[o].options.i18nProvider?this[o].options.i18nProvider.detectDomainLocale(h):(0,d.C)(null==(b=this[o].options.nextConfig)||null==(a=b.i18n)?void 0:a.domains,h);let m=(null==(c=this[o].domainLocale)?void 0:c.defaultLocale)||(null==(f=this[o].options.nextConfig)||null==(e=f.i18n)?void 0:e.defaultLocale);this[o].url.pathname=g.pathname,this[o].defaultLocale=m,this[o].basePath=g.basePath??"",this[o].buildId=g.buildId,this[o].locale=g.locale??m,this[o].trailingSlash=g.trailingSlash}formatPathname(){var a;let b;return b=function(a,b,c,d){if(!b||b===c)return a;let e=a.toLowerCase();return!d&&((0,i.m)(e,"/api")||(0,i.m)(e,"/"+b.toLowerCase()))?a:g(a,"/"+b)}((a={basePath:this[o].basePath,buildId:this[o].buildId,defaultLocale:this[o].options.forceLocale?void 0:this[o].defaultLocale,locale:this[o].locale,pathname:this[o].url.pathname,trailingSlash:this[o].trailingSlash}).pathname,a.locale,a.buildId?void 0:a.defaultLocale,a.ignorePrefix),(a.buildId||!a.trailingSlash)&&(b=(0,e.U)(b)),a.buildId&&(b=h(g(b,"/_next/data/"+a.buildId),"/"===a.pathname?"index.json":".json")),b=g(b,a.basePath),!a.buildId&&a.trailingSlash?b.endsWith("/")?b:h(b,"/"):(0,e.U)(b)}formatSearch(){return this[o].url.search}get buildId(){return this[o].buildId}set buildId(a){this[o].buildId=a}get locale(){return this[o].locale??""}set locale(a){var b,c;if(!this[o].locale||!(null==(c=this[o].options.nextConfig)||null==(b=c.i18n)?void 0:b.locales.includes(a)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${a}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[o].locale=a}get defaultLocale(){return this[o].defaultLocale}get domainLocale(){return this[o].domainLocale}get searchParams(){return this[o].url.searchParams}get host(){return this[o].url.host}set host(a){this[o].url.host=a}get hostname(){return this[o].url.hostname}set hostname(a){this[o].url.hostname=a}get port(){return this[o].url.port}set port(a){this[o].url.port=a}get protocol(){return this[o].url.protocol}set protocol(a){this[o].url.protocol=a}get href(){let a=this.formatPathname(),b=this.formatSearch();return`${this.protocol}//${this.host}${a}${b}${this.hash}`}set href(a){this[o].url=n(a),this.analyze()}get origin(){return this[o].url.origin}get pathname(){return this[o].url.pathname}set pathname(a){this[o].url.pathname=a}get hash(){return this[o].url.hash}set hash(a){this[o].url.hash=a}get search(){return this[o].url.search}set search(a){this[o].url.search=a}get password(){return this[o].url.password}set password(a){this[o].url.password=a}get username(){return this[o].url.username}set username(a){this[o].url.username=a}get basePath(){return this[o].basePath}set basePath(a){this[o].basePath=a.startsWith("/")?a:`/${a}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new p(String(this),this[o].options)}}},6240:(a,b,c)=>{"use strict";c.r(b),c.d(b,{DiagConsoleLogger:()=>q,DiagLogLevel:()=>r.u,INVALID_SPANID:()=>Z.w9,INVALID_SPAN_CONTEXT:()=>Z.dM,INVALID_TRACEID:()=>Z.RH,ProxyTracer:()=>O.y,ProxyTracerProvider:()=>P.n,ROOT_CONTEXT:()=>o.l,SamplingDecision:()=>e,SpanKind:()=>f,SpanStatusCode:()=>Q.s,TraceFlags:()=>R.X,ValueType:()=>d,baggageEntryMetadataFromString:()=>n,context:()=>$._,createContextKey:()=>o.n,createNoopMeter:()=>L,createTraceState:()=>X,default:()=>ap,defaultTextMapGetter:()=>M,defaultTextMapSetter:()=>N,diag:()=>_,isSpanContextValid:()=>Y.YA,isValidSpanId:()=>Y.wN,isValidTraceId:()=>Y.hX,metrics:()=>ad,propagation:()=>an,trace:()=>ao.u});var d,e,f,g=c(6947),h=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},i=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},j=function(){function a(a){this._entries=a?new Map(a):new Map}return a.prototype.getEntry=function(a){var b=this._entries.get(a);if(b)return Object.assign({},b)},a.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(a){var b=h(a,2);return[b[0],b[1]]})},a.prototype.setEntry=function(b,c){var d=new a(this._entries);return d._entries.set(b,c),d},a.prototype.removeEntry=function(b){var c=new a(this._entries);return c._entries.delete(b),c},a.prototype.removeEntries=function(){for(var b,c,d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];var f=new a(this._entries);try{for(var g=i(d),h=g.next();!h.done;h=g.next()){var j=h.value;f._entries.delete(j)}}catch(a){b={error:a}}finally{try{h&&!h.done&&(c=g.return)&&c.call(g)}finally{if(b)throw b.error}}return f},a.prototype.clear=function(){return new a},a}(),k=Symbol("BaggageEntryMetadata"),l=g.K.instance();function m(a){return void 0===a&&(a={}),new j(new Map(Object.entries(a)))}function n(a){return"string"!=typeof a&&(l.error("Cannot create baggage metadata from unknown type: "+typeof a),a=""),{__TYPE__:k,toString:function(){return a}}}var o=c(2707),p=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],q=function(){for(var a=0;a<p.length;a++)this[p[a].n]=function(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];if(console){var d=console[a];if("function"!=typeof d&&(d=console.log),"function"==typeof d)return d.apply(console,b)}}}(p[a].c)},r=c(7459),s=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),t=function(){function a(){}return a.prototype.createGauge=function(a,b){return F},a.prototype.createHistogram=function(a,b){return G},a.prototype.createCounter=function(a,b){return E},a.prototype.createUpDownCounter=function(a,b){return H},a.prototype.createObservableGauge=function(a,b){return J},a.prototype.createObservableCounter=function(a,b){return I},a.prototype.createObservableUpDownCounter=function(a,b){return K},a.prototype.addBatchObservableCallback=function(a,b){},a.prototype.removeBatchObservableCallback=function(a){},a}(),u=function(){},v=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return s(b,a),b.prototype.add=function(a,b){},b}(u),w=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return s(b,a),b.prototype.add=function(a,b){},b}(u),x=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return s(b,a),b.prototype.record=function(a,b){},b}(u),y=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return s(b,a),b.prototype.record=function(a,b){},b}(u),z=function(){function a(){}return a.prototype.addCallback=function(a){},a.prototype.removeCallback=function(a){},a}(),A=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return s(b,a),b}(z),B=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return s(b,a),b}(z),C=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return s(b,a),b}(z),D=new t,E=new v,F=new x,G=new y,H=new w,I=new A,J=new B,K=new C;function L(){return D}!function(a){a[a.INT=0]="INT",a[a.DOUBLE=1]="DOUBLE"}(d||(d={}));var M={get:function(a,b){if(null!=a)return a[b]},keys:function(a){return null==a?[]:Object.keys(a)}},N={set:function(a,b,c){null!=a&&(a[b]=c)}},O=c(9639),P=c(9879);!function(a){a[a.NOT_RECORD=0]="NOT_RECORD",a[a.RECORD=1]="RECORD",a[a.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(e||(e={})),function(a){a[a.INTERNAL=0]="INTERNAL",a[a.SERVER=1]="SERVER",a[a.CLIENT=2]="CLIENT",a[a.PRODUCER=3]="PRODUCER",a[a.CONSUMER=4]="CONSUMER"}(f||(f={}));var Q=c(546),R=c(5775),S="[_0-9a-z-*/]",T=RegExp("^(?:[a-z]"+S+"{0,255}|"+("[a-z0-9]"+S+"{0,240}@[a-z]")+S+"{0,13})$"),U=/^[ -~]{0,255}[!-~]$/,V=/,|=/,W=function(){function a(a){this._internalState=new Map,a&&this._parse(a)}return a.prototype.set=function(a,b){var c=this._clone();return c._internalState.has(a)&&c._internalState.delete(a),c._internalState.set(a,b),c},a.prototype.unset=function(a){var b=this._clone();return b._internalState.delete(a),b},a.prototype.get=function(a){return this._internalState.get(a)},a.prototype.serialize=function(){var a=this;return this._keys().reduce(function(b,c){return b.push(c+"="+a.get(c)),b},[]).join(",")},a.prototype._parse=function(a){!(a.length>512)&&(this._internalState=a.split(",").reverse().reduce(function(a,b){var c=b.trim(),d=c.indexOf("=");if(-1!==d){var e=c.slice(0,d),f=c.slice(d+1,b.length);T.test(e)&&U.test(f)&&!V.test(f)&&a.set(e,f)}return a},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},a.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},a.prototype._clone=function(){var b=new a;return b._internalState=new Map(this._internalState),b},a}();function X(a){return new W(a)}var Y=c(9605),Z=c(8742),$=c(7014),_=g.K.instance(),aa=new(function(){function a(){}return a.prototype.getMeter=function(a,b,c){return D},a}()),ab=c(7437),ac="metrics",ad=(function(){function a(){}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalMeterProvider=function(a){return(0,ab.$G)(ac,a,g.K.instance())},a.prototype.getMeterProvider=function(){return(0,ab.mS)(ac)||aa},a.prototype.getMeter=function(a,b,c){return this.getMeterProvider().getMeter(a,b,c)},a.prototype.disable=function(){(0,ab.kv)(ac,g.K.instance())},a})().getInstance(),ae=function(){function a(){}return a.prototype.inject=function(a,b){},a.prototype.extract=function(a,b){return a},a.prototype.fields=function(){return[]},a}(),af=c(2509),ag=(0,o.n)("OpenTelemetry Baggage Key");function ah(a){return a.getValue(ag)||void 0}function ai(){return ah(af._.getInstance().active())}function aj(a,b){return a.setValue(ag,b)}function ak(a){return a.deleteValue(ag)}var al="propagation",am=new ae,an=(function(){function a(){this.createBaggage=m,this.getBaggage=ah,this.getActiveBaggage=ai,this.setBaggage=aj,this.deleteBaggage=ak}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalPropagator=function(a){return(0,ab.$G)(al,a,g.K.instance())},a.prototype.inject=function(a,b,c){return void 0===c&&(c=N),this._getGlobalPropagator().inject(a,b,c)},a.prototype.extract=function(a,b,c){return void 0===c&&(c=M),this._getGlobalPropagator().extract(a,b,c)},a.prototype.fields=function(){return this._getGlobalPropagator().fields()},a.prototype.disable=function(){(0,ab.kv)(al,g.K.instance())},a.prototype._getGlobalPropagator=function(){return(0,ab.mS)(al)||am},a})().getInstance(),ao=c(9228);let ap={context:$._,diag:_,metrics:ad,propagation:an,trace:ao.u}},6377:(a,b,c)=>{"use strict";function d(a){return a.startsWith("/")?a:"/"+a}c.d(b,{A:()=>d})},6425:(a,b,c)=>{"use strict";function d(a){return a.replace(/\/$/,"")||"/"}c.d(b,{U:()=>d})},6478:(a,b,c)=>{"use strict";function d(a,b,c){function d(c,d){var e;for(let f in Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(e=c._zod).traits??(e.traits=new Set),c._zod.traits.add(a),b(c,d),g.prototype)f in c||Object.defineProperty(c,f,{value:g.prototype[f].bind(c)});c._zod.constr=g,c._zod.def=d}let e=c?.Parent??Object;class f extends e{}function g(a){var b;let e=c?.Parent?new f:this;for(let c of(d(e,a),(b=e._zod).deferred??(b.deferred=[]),e._zod.deferred))c();return e}return Object.defineProperty(f,"name",{value:a}),Object.defineProperty(g,"init",{value:d}),Object.defineProperty(g,Symbol.hasInstance,{value:b=>!!c?.Parent&&b instanceof c.Parent||b?._zod?.traits?.has(a)}),Object.defineProperty(g,"name",{value:a}),g}c.d(b,{$W:()=>g,GT:()=>e,cr:()=>f,xI:()=>d}),Object.freeze({status:"aborted"}),Symbol("zod_brand");class e extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}let f={};function g(a){return a&&Object.assign(f,a),f}},6486:(a,b,c)=>{"use strict";c.d(b,{J:()=>i});var d=c(6093),e=c(1350),f=c(5221),g=c(4148);let h=Symbol("internal request");class i extends Request{constructor(a,b={}){let c="string"!=typeof a&&"url"in a?a.url:String(a);(0,e.qU)(c),a instanceof Request?super(a,b):super(c,b);let f=new d.X(c,{headers:(0,e.Cu)(this.headers),nextConfig:b.nextConfig});this[h]={cookies:new g.tm(this.headers),nextUrl:f,url:f.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[h].cookies}get nextUrl(){return this[h].nextUrl}get page(){throw new f.Yq}get ua(){throw new f.l_}get url(){return this[h].url}}},6601:(a,b,c)=>{"use strict";c.d(b,{Bk:()=>i,Bx:()=>j,EW:()=>k,fU:()=>h,g_:()=>l,w8:()=>m});var d=c(2707),e=c(7106),f=c(2509),g=(0,d.n)("OpenTelemetry Context Key SPAN");function h(a){return a.getValue(g)||void 0}function i(){return h(f._.getInstance().active())}function j(a,b){return a.setValue(g,b)}function k(a){return a.deleteValue(g)}function l(a,b){return j(a,new e.d(b))}function m(a){var b;return null==(b=h(a))?void 0:b.spanContext()}},6805:(a,b,c)=>{"use strict";function d(a){let b=Object.values(a).filter(a=>"number"==typeof a);return Object.entries(a).filter(([a,c])=>-1===b.indexOf(+a)).map(([a,b])=>b)}function e(a,b){return"bigint"==typeof b?b.toString():b}function f(a){return{get value(){{let b=a();return Object.defineProperty(this,"value",{value:b}),b}}}}function g(a){return null==a}function h(a){let b=+!!a.startsWith("^"),c=a.endsWith("$")?a.length-1:a.length;return a.slice(b,c)}function i(a,b){let c=(a.toString().split(".")[1]||"").length,d=(b.toString().split(".")[1]||"").length,e=c>d?c:d;return Number.parseInt(a.toFixed(e).replace(".",""))%Number.parseInt(b.toFixed(e).replace(".",""))/10**e}function j(a,b,c){Object.defineProperty(a,b,{get(){{let d=c();return a[b]=d,d}},set(c){Object.defineProperty(a,b,{value:c})},configurable:!0})}function k(a,b,c){Object.defineProperty(a,b,{value:c,writable:!0,enumerable:!0,configurable:!0})}function l(a){return JSON.stringify(a)}c.d(b,{$f:()=>r,A2:()=>t,Gv:()=>n,LG:()=>i,NM:()=>u,OH:()=>A,PO:()=>f,QH:()=>C,Qd:()=>p,Rc:()=>G,UQ:()=>l,Up:()=>w,Vy:()=>k,X$:()=>y,cJ:()=>x,cl:()=>g,gJ:()=>j,gx:()=>m,h1:()=>z,hI:()=>o,iR:()=>F,k8:()=>e,lQ:()=>D,mw:()=>B,o8:()=>s,p6:()=>h,qQ:()=>q,sn:()=>H,w5:()=>d,zH:()=>v});let m=Error.captureStackTrace?Error.captureStackTrace:(...a)=>{};function n(a){return"object"==typeof a&&null!==a&&!Array.isArray(a)}let o=f(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(a){return!1}});function p(a){if(!1===n(a))return!1;let b=a.constructor;if(void 0===b)return!0;let c=b.prototype;return!1!==n(c)&&!1!==Object.prototype.hasOwnProperty.call(c,"isPrototypeOf")}let q=new Set(["string","number","symbol"]);function r(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function s(a,b,c){let d=new a._zod.constr(b??a._zod.def);return(!b||c?.parent)&&(d._zod.parent=a),d}function t(a){if(!a)return{};if("string"==typeof a)return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");a.error=a.message}return(delete a.message,"string"==typeof a.error)?{...a,error:()=>a.error}:a}function u(a){return Object.keys(a).filter(b=>"optional"===a[b]._zod.optin&&"optional"===a[b]._zod.optout)}let v={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function w(a,b){let c={},d=a._zod.def;for(let a in b){if(!(a in d.shape))throw Error(`Unrecognized key: "${a}"`);b[a]&&(c[a]=d.shape[a])}return s(a,{...a._zod.def,shape:c,checks:[]})}function x(a,b){let c={...a._zod.def.shape},d=a._zod.def;for(let a in b){if(!(a in d.shape))throw Error(`Unrecognized key: "${a}"`);b[a]&&delete c[a]}return s(a,{...a._zod.def,shape:c,checks:[]})}function y(a,b){if(!p(b))throw Error("Invalid input to extend: expected a plain object");let c={...a._zod.def,get shape(){let c={...a._zod.def.shape,...b};return k(this,"shape",c),c},checks:[]};return s(a,c)}function z(a,b){return s(a,{...a._zod.def,get shape(){let c={...a._zod.def.shape,...b._zod.def.shape};return k(this,"shape",c),c},catchall:b._zod.def.catchall,checks:[]})}function A(a,b,c){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in d))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=a?new a({type:"optional",innerType:d[b]}):d[b])}else for(let b in d)e[b]=a?new a({type:"optional",innerType:d[b]}):d[b];return s(b,{...b._zod.def,shape:e,checks:[]})}function B(a,b,c){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in e))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=new a({type:"nonoptional",innerType:d[b]}))}else for(let b in d)e[b]=new a({type:"nonoptional",innerType:d[b]});return s(b,{...b._zod.def,shape:e,checks:[]})}function C(a,b=0){for(let c=b;c<a.issues.length;c++)if(a.issues[c]?.continue!==!0)return!0;return!1}function D(a,b){return b.map(b=>(b.path??(b.path=[]),b.path.unshift(a),b))}function E(a){return"string"==typeof a?a:a?.message}function F(a,b,c){let d={...a,path:a.path??[]};return a.message||(d.message=E(a.inst?._zod.def?.error?.(a))??E(b?.error?.(a))??E(c.customError?.(a))??E(c.localeError?.(a))??"Invalid input"),delete d.inst,delete d.continue,b?.reportInput||delete d.input,d}function G(a){return Array.isArray(a)?"array":"string"==typeof a?"string":"unknown"}function H(...a){let[b,c,d]=a;return"string"==typeof b?{message:b,code:"custom",input:c,inst:d}:{...b}}},6831:(a,b,c)=>{"use strict";c.d(b,{Q:()=>e});var d=c(3375);function e(a){var b,c;return(null==(c=a.has)||null==(b=c[0])?void 0:b.key)===d.kO}c(4563)},6947:(a,b,c)=>{"use strict";c.d(b,{K:()=>l});var d=c(7437),e=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},f=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},g=function(){function a(a){this._namespace=a.namespace||"DiagComponentLogger"}return a.prototype.debug=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return h("debug",this._namespace,a)},a.prototype.error=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return h("error",this._namespace,a)},a.prototype.info=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return h("info",this._namespace,a)},a.prototype.warn=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return h("warn",this._namespace,a)},a.prototype.verbose=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return h("verbose",this._namespace,a)},a}();function h(a,b,c){var g=(0,d.mS)("diag");if(g)return c.unshift(b),g[a].apply(g,f([],e(c),!1))}var i=c(7459),j=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},k=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},l=function(){function a(){function a(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var e=(0,d.mS)("diag");if(e)return e[a].apply(e,k([],j(b),!1))}}var b=this;b.setLogger=function(a,c){if(void 0===c&&(c={logLevel:i.u.INFO}),a===b){var e,f,g,h=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return b.error(null!=(e=h.stack)?e:h.message),!1}"number"==typeof c&&(c={logLevel:c});var j=(0,d.mS)("diag"),k=function(a,b){function c(c,d){var e=b[c];return"function"==typeof e&&a>=d?e.bind(b):function(){}}return a<i.u.NONE?a=i.u.NONE:a>i.u.ALL&&(a=i.u.ALL),b=b||{},{error:c("error",i.u.ERROR),warn:c("warn",i.u.WARN),info:c("info",i.u.INFO),debug:c("debug",i.u.DEBUG),verbose:c("verbose",i.u.VERBOSE)}}(null!=(f=c.logLevel)?f:i.u.INFO,a);if(j&&!c.suppressOverrideMessage){var l=null!=(g=Error().stack)?g:"<failed to generate stacktrace>";j.warn("Current logger will be overwritten from "+l),k.warn("Current logger will overwrite one already registered from "+l)}return(0,d.$G)("diag",k,b,!0)},b.disable=function(){(0,d.kv)("diag",b)},b.createComponentLogger=function(a){return new g(a)},b.verbose=a("verbose"),b.debug=a("debug"),b.info=a("info"),b.warn=a("warn"),b.error=a("error")}return a.instance=function(){return this._instance||(this._instance=new a),this._instance},a}()},6991:(a,b,c)=>{"use strict";function d(){return{previewModeId:process.env.__NEXT_PREVIEW_MODE_ID||"",previewModeSigningKey:process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY||"",previewModeEncryptionKey:process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY||""}}c.r(b),c.d(b,{getEdgePreviewProps:()=>d})},7014:(a,b,c)=>{"use strict";c.d(b,{_:()=>d});var d=c(2509)._.getInstance()},7021:(a,b,c)=>{"use strict";c.d(b,{o:()=>i});var d=c(2509),e=c(6601),f=c(7106),g=c(9605),h=d._.getInstance(),i=function(){function a(){}return a.prototype.startSpan=function(a,b,c){if(void 0===c&&(c=h.active()),null==b?void 0:b.root)return new f.d;var d,i=c&&(0,e.w8)(c);return"object"==typeof(d=i)&&"string"==typeof d.spanId&&"string"==typeof d.traceId&&"number"==typeof d.traceFlags&&(0,g.YA)(i)?new f.d(i):new f.d},a.prototype.startActiveSpan=function(a,b,c,d){if(!(arguments.length<2)){2==arguments.length?i=b:3==arguments.length?(f=b,i=c):(f=b,g=c,i=d);var f,g,i,j=null!=g?g:h.active(),k=this.startSpan(a,f,j),l=(0,e.Bx)(j,k);return h.with(l,i,void 0,k)}},a}()},7034:(a,b,c)=>{"use strict";var d,e,f,g;let h;c.d(b,{kY:()=>g,YO:()=>aC,zM:()=>aB,k5:()=>aF,ai:()=>aA,Ik:()=>aD,Yj:()=>az,KC:()=>aE}),function(a){a.assertEqual=a=>{},a.assertIs=function(a){},a.assertNever=function(a){throw Error()},a.arrayToEnum=a=>{let b={};for(let c of a)b[c]=c;return b},a.getValidEnumValues=b=>{let c=a.objectKeys(b).filter(a=>"number"!=typeof b[b[a]]),d={};for(let a of c)d[a]=b[a];return a.objectValues(d)},a.objectValues=b=>a.objectKeys(b).map(function(a){return b[a]}),a.objectKeys="function"==typeof Object.keys?a=>Object.keys(a):a=>{let b=[];for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b},a.find=(a,b)=>{for(let c of a)if(b(c))return c},a.isInteger="function"==typeof Number.isInteger?a=>Number.isInteger(a):a=>"number"==typeof a&&Number.isFinite(a)&&Math.floor(a)===a,a.joinValues=function(a,b=" | "){return a.map(a=>"string"==typeof a?`'${a}'`:a).join(b)},a.jsonStringifyReplacer=(a,b)=>"bigint"==typeof b?b.toString():b}(d||(d={})),(e||(e={})).mergeShapes=(a,b)=>({...a,...b});let i=d.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),j=a=>{switch(typeof a){case"undefined":return i.undefined;case"string":return i.string;case"number":return Number.isNaN(a)?i.nan:i.number;case"boolean":return i.boolean;case"function":return i.function;case"bigint":return i.bigint;case"symbol":return i.symbol;case"object":if(Array.isArray(a))return i.array;if(null===a)return i.null;if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return i.promise;if("undefined"!=typeof Map&&a instanceof Map)return i.map;if("undefined"!=typeof Set&&a instanceof Set)return i.set;if("undefined"!=typeof Date&&a instanceof Date)return i.date;return i.object;default:return i.unknown}},k=d.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class l extends Error{get errors(){return this.issues}constructor(a){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};let b=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,b):this.__proto__=b,this.name="ZodError",this.issues=a}format(a){let b=a||function(a){return a.message},c={_errors:[]},d=a=>{for(let e of a.issues)if("invalid_union"===e.code)e.unionErrors.map(d);else if("invalid_return_type"===e.code)d(e.returnTypeError);else if("invalid_arguments"===e.code)d(e.argumentsError);else if(0===e.path.length)c._errors.push(b(e));else{let a=c,d=0;for(;d<e.path.length;){let c=e.path[d];d===e.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(b(e))):a[c]=a[c]||{_errors:[]},a=a[c],d++}}};return d(this),c}static assert(a){if(!(a instanceof l))throw Error(`Not a ZodError: ${a}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,d.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(a=a=>a.message){let b={},c=[];for(let d of this.issues)if(d.path.length>0){let c=d.path[0];b[c]=b[c]||[],b[c].push(a(d))}else c.push(a(d));return{formErrors:c,fieldErrors:b}}get formErrors(){return this.flatten()}}l.create=a=>new l(a);let m=(a,b)=>{let c;switch(a.code){case k.invalid_type:c=a.received===i.undefined?"Required":`Expected ${a.expected}, received ${a.received}`;break;case k.invalid_literal:c=`Invalid literal value, expected ${JSON.stringify(a.expected,d.jsonStringifyReplacer)}`;break;case k.unrecognized_keys:c=`Unrecognized key(s) in object: ${d.joinValues(a.keys,", ")}`;break;case k.invalid_union:c="Invalid input";break;case k.invalid_union_discriminator:c=`Invalid discriminator value. Expected ${d.joinValues(a.options)}`;break;case k.invalid_enum_value:c=`Invalid enum value. Expected ${d.joinValues(a.options)}, received '${a.received}'`;break;case k.invalid_arguments:c="Invalid function arguments";break;case k.invalid_return_type:c="Invalid function return type";break;case k.invalid_date:c="Invalid date";break;case k.invalid_string:"object"==typeof a.validation?"includes"in a.validation?(c=`Invalid input: must include "${a.validation.includes}"`,"number"==typeof a.validation.position&&(c=`${c} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?c=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?c=`Invalid input: must end with "${a.validation.endsWith}"`:d.assertNever(a.validation):c="regex"!==a.validation?`Invalid ${a.validation}`:"Invalid";break;case k.too_small:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:"number"===a.type||"bigint"===a.type?`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:"date"===a.type?`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:"Invalid input";break;case k.too_big:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:"number"===a.type?`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"bigint"===a.type?`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"date"===a.type?`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:"Invalid input";break;case k.custom:c="Invalid input";break;case k.invalid_intersection_types:c="Intersection results could not be merged";break;case k.not_multiple_of:c=`Number must be a multiple of ${a.multipleOf}`;break;case k.not_finite:c="Number must be finite";break;default:c=b.defaultError,d.assertNever(a)}return{message:c}};!function(a){a.errToObj=a=>"string"==typeof a?{message:a}:a||{},a.toString=a=>"string"==typeof a?a:a?.message}(f||(f={}));let n=a=>{let{data:b,path:c,errorMaps:d,issueData:e}=a,f=[...c,...e.path||[]],g={...e,path:f};if(void 0!==e.message)return{...e,path:f,message:e.message};let h="";for(let a of d.filter(a=>!!a).slice().reverse())h=a(g,{data:b,defaultError:h}).message;return{...e,path:f,message:h}};function o(a,b){let c=n({issueData:b,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,m,void 0].filter(a=>!!a)});a.common.issues.push(c)}class p{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(a,b){let c=[];for(let d of b){if("aborted"===d.status)return q;"dirty"===d.status&&a.dirty(),c.push(d.value)}return{status:a.value,value:c}}static async mergeObjectAsync(a,b){let c=[];for(let a of b){let b=await a.key,d=await a.value;c.push({key:b,value:d})}return p.mergeObjectSync(a,c)}static mergeObjectSync(a,b){let c={};for(let d of b){let{key:b,value:e}=d;if("aborted"===b.status||"aborted"===e.status)return q;"dirty"===b.status&&a.dirty(),"dirty"===e.status&&a.dirty(),"__proto__"!==b.value&&(void 0!==e.value||d.alwaysSet)&&(c[b.value]=e.value)}return{status:a.value,value:c}}}let q=Object.freeze({status:"aborted"}),r=a=>({status:"dirty",value:a}),s=a=>({status:"valid",value:a}),t=a=>"undefined"!=typeof Promise&&a instanceof Promise;class u{constructor(a,b,c,d){this._cachedPath=[],this.parent=a,this.data=b,this._path=c,this._key=d}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let v=(a,b)=>{if("valid"===b.status)return{success:!0,data:b.value};if(!a.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let b=new l(a.common.issues);return this._error=b,this._error}}};function w(a){if(!a)return{};let{errorMap:b,invalid_type_error:c,required_error:d,description:e}=a;if(b&&(c||d))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return b?{errorMap:b,description:e}:{errorMap:(b,e)=>{let{message:f}=a;return"invalid_enum_value"===b.code?{message:f??e.defaultError}:void 0===e.data?{message:f??d??e.defaultError}:"invalid_type"!==b.code?{message:e.defaultError}:{message:f??c??e.defaultError}},description:e}}class x{get description(){return this._def.description}_getType(a){return j(a.data)}_getOrReturnCtx(a,b){return b||{common:a.parent.common,data:a.data,parsedType:j(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}_processInputParams(a){return{status:new p,ctx:{common:a.parent.common,data:a.data,parsedType:j(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}}_parseSync(a){let b=this._parse(a);if(t(b))throw Error("Synchronous parse encountered promise.");return b}_parseAsync(a){return Promise.resolve(this._parse(a))}parse(a,b){let c=this.safeParse(a,b);if(c.success)return c.data;throw c.error}safeParse(a,b){let c={common:{issues:[],async:b?.async??!1,contextualErrorMap:b?.errorMap},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:j(a)},d=this._parseSync({data:a,path:c.path,parent:c});return v(c,d)}"~validate"(a){let b={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:j(a)};if(!this["~standard"].async)try{let c=this._parseSync({data:a,path:[],parent:b});return"valid"===c.status?{value:c.value}:{issues:b.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),b.common={issues:[],async:!0}}return this._parseAsync({data:a,path:[],parent:b}).then(a=>"valid"===a.status?{value:a.value}:{issues:b.common.issues})}async parseAsync(a,b){let c=await this.safeParseAsync(a,b);if(c.success)return c.data;throw c.error}async safeParseAsync(a,b){let c={common:{issues:[],contextualErrorMap:b?.errorMap,async:!0},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:j(a)},d=this._parse({data:a,path:c.path,parent:c});return v(c,await (t(d)?d:Promise.resolve(d)))}refine(a,b){return this._refinement((c,d)=>{let e=a(c),f=()=>d.addIssue({code:k.custom,..."string"==typeof b||void 0===b?{message:b}:"function"==typeof b?b(c):b});return"undefined"!=typeof Promise&&e instanceof Promise?e.then(a=>!!a||(f(),!1)):!!e||(f(),!1)})}refinement(a,b){return this._refinement((c,d)=>!!a(c)||(d.addIssue("function"==typeof b?b(c,d):b),!1))}_refinement(a){return new aq({schema:this,typeName:g.ZodEffects,effect:{type:"refinement",refinement:a}})}superRefine(a){return this._refinement(a)}constructor(a){this.spa=this.safeParseAsync,this._def=a,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return ar.create(this,this._def)}nullable(){return as.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _.create(this)}promise(){return ap.create(this,this._def)}or(a){return ab.create([this,a],this._def)}and(a){return ae.create(this,a,this._def)}transform(a){return new aq({...w(this._def),schema:this,typeName:g.ZodEffects,effect:{type:"transform",transform:a}})}default(a){return new at({...w(this._def),innerType:this,defaultValue:"function"==typeof a?a:()=>a,typeName:g.ZodDefault})}brand(){return new aw({typeName:g.ZodBranded,type:this,...w(this._def)})}catch(a){return new au({...w(this._def),innerType:this,catchValue:"function"==typeof a?a:()=>a,typeName:g.ZodCatch})}describe(a){return new this.constructor({...this._def,description:a})}pipe(a){return ax.create(this,a)}readonly(){return ay.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let y=/^c[^\s-]{8,}$/i,z=/^[0-9a-z]+$/,A=/^[0-9A-HJKMNP-TV-Z]{26}$/i,B=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,C=/^[a-z0-9_-]{21}$/i,D=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,E=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,F=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,G=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,H=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,I=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,J=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,K=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,L=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,M="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",N=RegExp(`^${M}$`);function O(a){let b="[0-5]\\d";a.precision?b=`${b}\\.\\d{${a.precision}}`:null==a.precision&&(b=`${b}(\\.\\d+)?`);let c=a.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${b})${c}`}class P extends x{_parse(a){var b,c,e,f;let g;if(this._def.coerce&&(a.data=String(a.data)),this._getType(a)!==i.string){let b=this._getOrReturnCtx(a);return o(b,{code:k.invalid_type,expected:i.string,received:b.parsedType}),q}let j=new p;for(let i of this._def.checks)if("min"===i.kind)a.data.length<i.value&&(o(g=this._getOrReturnCtx(a,g),{code:k.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),j.dirty());else if("max"===i.kind)a.data.length>i.value&&(o(g=this._getOrReturnCtx(a,g),{code:k.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),j.dirty());else if("length"===i.kind){let b=a.data.length>i.value,c=a.data.length<i.value;(b||c)&&(g=this._getOrReturnCtx(a,g),b?o(g,{code:k.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&o(g,{code:k.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),j.dirty())}else if("email"===i.kind)F.test(a.data)||(o(g=this._getOrReturnCtx(a,g),{validation:"email",code:k.invalid_string,message:i.message}),j.dirty());else if("emoji"===i.kind)h||(h=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),h.test(a.data)||(o(g=this._getOrReturnCtx(a,g),{validation:"emoji",code:k.invalid_string,message:i.message}),j.dirty());else if("uuid"===i.kind)B.test(a.data)||(o(g=this._getOrReturnCtx(a,g),{validation:"uuid",code:k.invalid_string,message:i.message}),j.dirty());else if("nanoid"===i.kind)C.test(a.data)||(o(g=this._getOrReturnCtx(a,g),{validation:"nanoid",code:k.invalid_string,message:i.message}),j.dirty());else if("cuid"===i.kind)y.test(a.data)||(o(g=this._getOrReturnCtx(a,g),{validation:"cuid",code:k.invalid_string,message:i.message}),j.dirty());else if("cuid2"===i.kind)z.test(a.data)||(o(g=this._getOrReturnCtx(a,g),{validation:"cuid2",code:k.invalid_string,message:i.message}),j.dirty());else if("ulid"===i.kind)A.test(a.data)||(o(g=this._getOrReturnCtx(a,g),{validation:"ulid",code:k.invalid_string,message:i.message}),j.dirty());else if("url"===i.kind)try{new URL(a.data)}catch{o(g=this._getOrReturnCtx(a,g),{validation:"url",code:k.invalid_string,message:i.message}),j.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(a.data)||(o(g=this._getOrReturnCtx(a,g),{validation:"regex",code:k.invalid_string,message:i.message}),j.dirty())):"trim"===i.kind?a.data=a.data.trim():"includes"===i.kind?a.data.includes(i.value,i.position)||(o(g=this._getOrReturnCtx(a,g),{code:k.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),j.dirty()):"toLowerCase"===i.kind?a.data=a.data.toLowerCase():"toUpperCase"===i.kind?a.data=a.data.toUpperCase():"startsWith"===i.kind?a.data.startsWith(i.value)||(o(g=this._getOrReturnCtx(a,g),{code:k.invalid_string,validation:{startsWith:i.value},message:i.message}),j.dirty()):"endsWith"===i.kind?a.data.endsWith(i.value)||(o(g=this._getOrReturnCtx(a,g),{code:k.invalid_string,validation:{endsWith:i.value},message:i.message}),j.dirty()):"datetime"===i.kind?(function(a){let b=`${M}T${O(a)}`,c=[];return c.push(a.local?"Z?":"Z"),a.offset&&c.push("([+-]\\d{2}:?\\d{2})"),b=`${b}(${c.join("|")})`,RegExp(`^${b}$`)})(i).test(a.data)||(o(g=this._getOrReturnCtx(a,g),{code:k.invalid_string,validation:"datetime",message:i.message}),j.dirty()):"date"===i.kind?N.test(a.data)||(o(g=this._getOrReturnCtx(a,g),{code:k.invalid_string,validation:"date",message:i.message}),j.dirty()):"time"===i.kind?RegExp(`^${O(i)}$`).test(a.data)||(o(g=this._getOrReturnCtx(a,g),{code:k.invalid_string,validation:"time",message:i.message}),j.dirty()):"duration"===i.kind?E.test(a.data)||(o(g=this._getOrReturnCtx(a,g),{validation:"duration",code:k.invalid_string,message:i.message}),j.dirty()):"ip"===i.kind?(b=a.data,!(("v4"===(c=i.version)||!c)&&G.test(b)||("v6"===c||!c)&&I.test(b))&&1&&(o(g=this._getOrReturnCtx(a,g),{validation:"ip",code:k.invalid_string,message:i.message}),j.dirty())):"jwt"===i.kind?!function(a,b){if(!D.test(a))return!1;try{let[c]=a.split(".");if(!c)return!1;let d=c.replace(/-/g,"+").replace(/_/g,"/").padEnd(c.length+(4-c.length%4)%4,"="),e=JSON.parse(atob(d));if("object"!=typeof e||null===e||"typ"in e&&e?.typ!=="JWT"||!e.alg||b&&e.alg!==b)return!1;return!0}catch{return!1}}(a.data,i.alg)&&(o(g=this._getOrReturnCtx(a,g),{validation:"jwt",code:k.invalid_string,message:i.message}),j.dirty()):"cidr"===i.kind?(e=a.data,!(("v4"===(f=i.version)||!f)&&H.test(e)||("v6"===f||!f)&&J.test(e))&&1&&(o(g=this._getOrReturnCtx(a,g),{validation:"cidr",code:k.invalid_string,message:i.message}),j.dirty())):"base64"===i.kind?K.test(a.data)||(o(g=this._getOrReturnCtx(a,g),{validation:"base64",code:k.invalid_string,message:i.message}),j.dirty()):"base64url"===i.kind?L.test(a.data)||(o(g=this._getOrReturnCtx(a,g),{validation:"base64url",code:k.invalid_string,message:i.message}),j.dirty()):d.assertNever(i);return{status:j.value,value:a.data}}_regex(a,b,c){return this.refinement(b=>a.test(b),{validation:b,code:k.invalid_string,...f.errToObj(c)})}_addCheck(a){return new P({...this._def,checks:[...this._def.checks,a]})}email(a){return this._addCheck({kind:"email",...f.errToObj(a)})}url(a){return this._addCheck({kind:"url",...f.errToObj(a)})}emoji(a){return this._addCheck({kind:"emoji",...f.errToObj(a)})}uuid(a){return this._addCheck({kind:"uuid",...f.errToObj(a)})}nanoid(a){return this._addCheck({kind:"nanoid",...f.errToObj(a)})}cuid(a){return this._addCheck({kind:"cuid",...f.errToObj(a)})}cuid2(a){return this._addCheck({kind:"cuid2",...f.errToObj(a)})}ulid(a){return this._addCheck({kind:"ulid",...f.errToObj(a)})}base64(a){return this._addCheck({kind:"base64",...f.errToObj(a)})}base64url(a){return this._addCheck({kind:"base64url",...f.errToObj(a)})}jwt(a){return this._addCheck({kind:"jwt",...f.errToObj(a)})}ip(a){return this._addCheck({kind:"ip",...f.errToObj(a)})}cidr(a){return this._addCheck({kind:"cidr",...f.errToObj(a)})}datetime(a){return"string"==typeof a?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:a}):this._addCheck({kind:"datetime",precision:void 0===a?.precision?null:a?.precision,offset:a?.offset??!1,local:a?.local??!1,...f.errToObj(a?.message)})}date(a){return this._addCheck({kind:"date",message:a})}time(a){return"string"==typeof a?this._addCheck({kind:"time",precision:null,message:a}):this._addCheck({kind:"time",precision:void 0===a?.precision?null:a?.precision,...f.errToObj(a?.message)})}duration(a){return this._addCheck({kind:"duration",...f.errToObj(a)})}regex(a,b){return this._addCheck({kind:"regex",regex:a,...f.errToObj(b)})}includes(a,b){return this._addCheck({kind:"includes",value:a,position:b?.position,...f.errToObj(b?.message)})}startsWith(a,b){return this._addCheck({kind:"startsWith",value:a,...f.errToObj(b)})}endsWith(a,b){return this._addCheck({kind:"endsWith",value:a,...f.errToObj(b)})}min(a,b){return this._addCheck({kind:"min",value:a,...f.errToObj(b)})}max(a,b){return this._addCheck({kind:"max",value:a,...f.errToObj(b)})}length(a,b){return this._addCheck({kind:"length",value:a,...f.errToObj(b)})}nonempty(a){return this.min(1,f.errToObj(a))}trim(){return new P({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new P({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new P({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(a=>"datetime"===a.kind)}get isDate(){return!!this._def.checks.find(a=>"date"===a.kind)}get isTime(){return!!this._def.checks.find(a=>"time"===a.kind)}get isDuration(){return!!this._def.checks.find(a=>"duration"===a.kind)}get isEmail(){return!!this._def.checks.find(a=>"email"===a.kind)}get isURL(){return!!this._def.checks.find(a=>"url"===a.kind)}get isEmoji(){return!!this._def.checks.find(a=>"emoji"===a.kind)}get isUUID(){return!!this._def.checks.find(a=>"uuid"===a.kind)}get isNANOID(){return!!this._def.checks.find(a=>"nanoid"===a.kind)}get isCUID(){return!!this._def.checks.find(a=>"cuid"===a.kind)}get isCUID2(){return!!this._def.checks.find(a=>"cuid2"===a.kind)}get isULID(){return!!this._def.checks.find(a=>"ulid"===a.kind)}get isIP(){return!!this._def.checks.find(a=>"ip"===a.kind)}get isCIDR(){return!!this._def.checks.find(a=>"cidr"===a.kind)}get isBase64(){return!!this._def.checks.find(a=>"base64"===a.kind)}get isBase64url(){return!!this._def.checks.find(a=>"base64url"===a.kind)}get minLength(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxLength(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}P.create=a=>new P({checks:[],typeName:g.ZodString,coerce:a?.coerce??!1,...w(a)});class Q extends x{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(a){let b;if(this._def.coerce&&(a.data=Number(a.data)),this._getType(a)!==i.number){let b=this._getOrReturnCtx(a);return o(b,{code:k.invalid_type,expected:i.number,received:b.parsedType}),q}let c=new p;for(let e of this._def.checks)"int"===e.kind?d.isInteger(a.data)||(o(b=this._getOrReturnCtx(a,b),{code:k.invalid_type,expected:"integer",received:"float",message:e.message}),c.dirty()):"min"===e.kind?(e.inclusive?a.data<e.value:a.data<=e.value)&&(o(b=this._getOrReturnCtx(a,b),{code:k.too_small,minimum:e.value,type:"number",inclusive:e.inclusive,exact:!1,message:e.message}),c.dirty()):"max"===e.kind?(e.inclusive?a.data>e.value:a.data>=e.value)&&(o(b=this._getOrReturnCtx(a,b),{code:k.too_big,maximum:e.value,type:"number",inclusive:e.inclusive,exact:!1,message:e.message}),c.dirty()):"multipleOf"===e.kind?0!==function(a,b){let c=(a.toString().split(".")[1]||"").length,d=(b.toString().split(".")[1]||"").length,e=c>d?c:d;return Number.parseInt(a.toFixed(e).replace(".",""))%Number.parseInt(b.toFixed(e).replace(".",""))/10**e}(a.data,e.value)&&(o(b=this._getOrReturnCtx(a,b),{code:k.not_multiple_of,multipleOf:e.value,message:e.message}),c.dirty()):"finite"===e.kind?Number.isFinite(a.data)||(o(b=this._getOrReturnCtx(a,b),{code:k.not_finite,message:e.message}),c.dirty()):d.assertNever(e);return{status:c.value,value:a.data}}gte(a,b){return this.setLimit("min",a,!0,f.toString(b))}gt(a,b){return this.setLimit("min",a,!1,f.toString(b))}lte(a,b){return this.setLimit("max",a,!0,f.toString(b))}lt(a,b){return this.setLimit("max",a,!1,f.toString(b))}setLimit(a,b,c,d){return new Q({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:f.toString(d)}]})}_addCheck(a){return new Q({...this._def,checks:[...this._def.checks,a]})}int(a){return this._addCheck({kind:"int",message:f.toString(a)})}positive(a){return this._addCheck({kind:"min",value:0,inclusive:!1,message:f.toString(a)})}negative(a){return this._addCheck({kind:"max",value:0,inclusive:!1,message:f.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:0,inclusive:!0,message:f.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:0,inclusive:!0,message:f.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:f.toString(b)})}finite(a){return this._addCheck({kind:"finite",message:f.toString(a)})}safe(a){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:f.toString(a)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:f.toString(a)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}get isInt(){return!!this._def.checks.find(a=>"int"===a.kind||"multipleOf"===a.kind&&d.isInteger(a.value))}get isFinite(){let a=null,b=null;for(let c of this._def.checks)if("finite"===c.kind||"int"===c.kind||"multipleOf"===c.kind)return!0;else"min"===c.kind?(null===b||c.value>b)&&(b=c.value):"max"===c.kind&&(null===a||c.value<a)&&(a=c.value);return Number.isFinite(b)&&Number.isFinite(a)}}Q.create=a=>new Q({checks:[],typeName:g.ZodNumber,coerce:a?.coerce||!1,...w(a)});class R extends x{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(a){let b;if(this._def.coerce)try{a.data=BigInt(a.data)}catch{return this._getInvalidInput(a)}if(this._getType(a)!==i.bigint)return this._getInvalidInput(a);let c=new p;for(let e of this._def.checks)"min"===e.kind?(e.inclusive?a.data<e.value:a.data<=e.value)&&(o(b=this._getOrReturnCtx(a,b),{code:k.too_small,type:"bigint",minimum:e.value,inclusive:e.inclusive,message:e.message}),c.dirty()):"max"===e.kind?(e.inclusive?a.data>e.value:a.data>=e.value)&&(o(b=this._getOrReturnCtx(a,b),{code:k.too_big,type:"bigint",maximum:e.value,inclusive:e.inclusive,message:e.message}),c.dirty()):"multipleOf"===e.kind?a.data%e.value!==BigInt(0)&&(o(b=this._getOrReturnCtx(a,b),{code:k.not_multiple_of,multipleOf:e.value,message:e.message}),c.dirty()):d.assertNever(e);return{status:c.value,value:a.data}}_getInvalidInput(a){let b=this._getOrReturnCtx(a);return o(b,{code:k.invalid_type,expected:i.bigint,received:b.parsedType}),q}gte(a,b){return this.setLimit("min",a,!0,f.toString(b))}gt(a,b){return this.setLimit("min",a,!1,f.toString(b))}lte(a,b){return this.setLimit("max",a,!0,f.toString(b))}lt(a,b){return this.setLimit("max",a,!1,f.toString(b))}setLimit(a,b,c,d){return new R({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:f.toString(d)}]})}_addCheck(a){return new R({...this._def,checks:[...this._def.checks,a]})}positive(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:f.toString(a)})}negative(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:f.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:f.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:f.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:f.toString(b)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}R.create=a=>new R({checks:[],typeName:g.ZodBigInt,coerce:a?.coerce??!1,...w(a)});class S extends x{_parse(a){if(this._def.coerce&&(a.data=!!a.data),this._getType(a)!==i.boolean){let b=this._getOrReturnCtx(a);return o(b,{code:k.invalid_type,expected:i.boolean,received:b.parsedType}),q}return s(a.data)}}S.create=a=>new S({typeName:g.ZodBoolean,coerce:a?.coerce||!1,...w(a)});class T extends x{_parse(a){let b;if(this._def.coerce&&(a.data=new Date(a.data)),this._getType(a)!==i.date){let b=this._getOrReturnCtx(a);return o(b,{code:k.invalid_type,expected:i.date,received:b.parsedType}),q}if(Number.isNaN(a.data.getTime()))return o(this._getOrReturnCtx(a),{code:k.invalid_date}),q;let c=new p;for(let e of this._def.checks)"min"===e.kind?a.data.getTime()<e.value&&(o(b=this._getOrReturnCtx(a,b),{code:k.too_small,message:e.message,inclusive:!0,exact:!1,minimum:e.value,type:"date"}),c.dirty()):"max"===e.kind?a.data.getTime()>e.value&&(o(b=this._getOrReturnCtx(a,b),{code:k.too_big,message:e.message,inclusive:!0,exact:!1,maximum:e.value,type:"date"}),c.dirty()):d.assertNever(e);return{status:c.value,value:new Date(a.data.getTime())}}_addCheck(a){return new T({...this._def,checks:[...this._def.checks,a]})}min(a,b){return this._addCheck({kind:"min",value:a.getTime(),message:f.toString(b)})}max(a,b){return this._addCheck({kind:"max",value:a.getTime(),message:f.toString(b)})}get minDate(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return null!=a?new Date(a):null}get maxDate(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return null!=a?new Date(a):null}}T.create=a=>new T({checks:[],coerce:a?.coerce||!1,typeName:g.ZodDate,...w(a)});class U extends x{_parse(a){if(this._getType(a)!==i.symbol){let b=this._getOrReturnCtx(a);return o(b,{code:k.invalid_type,expected:i.symbol,received:b.parsedType}),q}return s(a.data)}}U.create=a=>new U({typeName:g.ZodSymbol,...w(a)});class V extends x{_parse(a){if(this._getType(a)!==i.undefined){let b=this._getOrReturnCtx(a);return o(b,{code:k.invalid_type,expected:i.undefined,received:b.parsedType}),q}return s(a.data)}}V.create=a=>new V({typeName:g.ZodUndefined,...w(a)});class W extends x{_parse(a){if(this._getType(a)!==i.null){let b=this._getOrReturnCtx(a);return o(b,{code:k.invalid_type,expected:i.null,received:b.parsedType}),q}return s(a.data)}}W.create=a=>new W({typeName:g.ZodNull,...w(a)});class X extends x{constructor(){super(...arguments),this._any=!0}_parse(a){return s(a.data)}}X.create=a=>new X({typeName:g.ZodAny,...w(a)});class Y extends x{constructor(){super(...arguments),this._unknown=!0}_parse(a){return s(a.data)}}Y.create=a=>new Y({typeName:g.ZodUnknown,...w(a)});class Z extends x{_parse(a){let b=this._getOrReturnCtx(a);return o(b,{code:k.invalid_type,expected:i.never,received:b.parsedType}),q}}Z.create=a=>new Z({typeName:g.ZodNever,...w(a)});class $ extends x{_parse(a){if(this._getType(a)!==i.undefined){let b=this._getOrReturnCtx(a);return o(b,{code:k.invalid_type,expected:i.void,received:b.parsedType}),q}return s(a.data)}}$.create=a=>new $({typeName:g.ZodVoid,...w(a)});class _ extends x{_parse(a){let{ctx:b,status:c}=this._processInputParams(a),d=this._def;if(b.parsedType!==i.array)return o(b,{code:k.invalid_type,expected:i.array,received:b.parsedType}),q;if(null!==d.exactLength){let a=b.data.length>d.exactLength.value,e=b.data.length<d.exactLength.value;(a||e)&&(o(b,{code:a?k.too_big:k.too_small,minimum:e?d.exactLength.value:void 0,maximum:a?d.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:d.exactLength.message}),c.dirty())}if(null!==d.minLength&&b.data.length<d.minLength.value&&(o(b,{code:k.too_small,minimum:d.minLength.value,type:"array",inclusive:!0,exact:!1,message:d.minLength.message}),c.dirty()),null!==d.maxLength&&b.data.length>d.maxLength.value&&(o(b,{code:k.too_big,maximum:d.maxLength.value,type:"array",inclusive:!0,exact:!1,message:d.maxLength.message}),c.dirty()),b.common.async)return Promise.all([...b.data].map((a,c)=>d.type._parseAsync(new u(b,a,b.path,c)))).then(a=>p.mergeArray(c,a));let e=[...b.data].map((a,c)=>d.type._parseSync(new u(b,a,b.path,c)));return p.mergeArray(c,e)}get element(){return this._def.type}min(a,b){return new _({...this._def,minLength:{value:a,message:f.toString(b)}})}max(a,b){return new _({...this._def,maxLength:{value:a,message:f.toString(b)}})}length(a,b){return new _({...this._def,exactLength:{value:a,message:f.toString(b)}})}nonempty(a){return this.min(1,a)}}_.create=(a,b)=>new _({type:a,minLength:null,maxLength:null,exactLength:null,typeName:g.ZodArray,...w(b)});class aa extends x{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let a=this._def.shape(),b=d.objectKeys(a);return this._cached={shape:a,keys:b},this._cached}_parse(a){if(this._getType(a)!==i.object){let b=this._getOrReturnCtx(a);return o(b,{code:k.invalid_type,expected:i.object,received:b.parsedType}),q}let{status:b,ctx:c}=this._processInputParams(a),{shape:d,keys:e}=this._getCached(),f=[];if(!(this._def.catchall instanceof Z&&"strip"===this._def.unknownKeys))for(let a in c.data)e.includes(a)||f.push(a);let g=[];for(let a of e){let b=d[a],e=c.data[a];g.push({key:{status:"valid",value:a},value:b._parse(new u(c,e,c.path,a)),alwaysSet:a in c.data})}if(this._def.catchall instanceof Z){let a=this._def.unknownKeys;if("passthrough"===a)for(let a of f)g.push({key:{status:"valid",value:a},value:{status:"valid",value:c.data[a]}});else if("strict"===a)f.length>0&&(o(c,{code:k.unrecognized_keys,keys:f}),b.dirty());else if("strip"===a);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let a=this._def.catchall;for(let b of f){let d=c.data[b];g.push({key:{status:"valid",value:b},value:a._parse(new u(c,d,c.path,b)),alwaysSet:b in c.data})}}return c.common.async?Promise.resolve().then(async()=>{let a=[];for(let b of g){let c=await b.key,d=await b.value;a.push({key:c,value:d,alwaysSet:b.alwaysSet})}return a}).then(a=>p.mergeObjectSync(b,a)):p.mergeObjectSync(b,g)}get shape(){return this._def.shape()}strict(a){return f.errToObj,new aa({...this._def,unknownKeys:"strict",...void 0!==a?{errorMap:(b,c)=>{let d=this._def.errorMap?.(b,c).message??c.defaultError;return"unrecognized_keys"===b.code?{message:f.errToObj(a).message??d}:{message:d}}}:{}})}strip(){return new aa({...this._def,unknownKeys:"strip"})}passthrough(){return new aa({...this._def,unknownKeys:"passthrough"})}extend(a){return new aa({...this._def,shape:()=>({...this._def.shape(),...a})})}merge(a){return new aa({unknownKeys:a._def.unknownKeys,catchall:a._def.catchall,shape:()=>({...this._def.shape(),...a._def.shape()}),typeName:g.ZodObject})}setKey(a,b){return this.augment({[a]:b})}catchall(a){return new aa({...this._def,catchall:a})}pick(a){let b={};for(let c of d.objectKeys(a))a[c]&&this.shape[c]&&(b[c]=this.shape[c]);return new aa({...this._def,shape:()=>b})}omit(a){let b={};for(let c of d.objectKeys(this.shape))a[c]||(b[c]=this.shape[c]);return new aa({...this._def,shape:()=>b})}deepPartial(){return function a(b){if(b instanceof aa){let c={};for(let d in b.shape){let e=b.shape[d];c[d]=ar.create(a(e))}return new aa({...b._def,shape:()=>c})}if(b instanceof _)return new _({...b._def,type:a(b.element)});if(b instanceof ar)return ar.create(a(b.unwrap()));if(b instanceof as)return as.create(a(b.unwrap()));if(b instanceof af)return af.create(b.items.map(b=>a(b)));else return b}(this)}partial(a){let b={};for(let c of d.objectKeys(this.shape)){let d=this.shape[c];a&&!a[c]?b[c]=d:b[c]=d.optional()}return new aa({...this._def,shape:()=>b})}required(a){let b={};for(let c of d.objectKeys(this.shape))if(a&&!a[c])b[c]=this.shape[c];else{let a=this.shape[c];for(;a instanceof ar;)a=a._def.innerType;b[c]=a}return new aa({...this._def,shape:()=>b})}keyof(){return am(d.objectKeys(this.shape))}}aa.create=(a,b)=>new aa({shape:()=>a,unknownKeys:"strip",catchall:Z.create(),typeName:g.ZodObject,...w(b)}),aa.strictCreate=(a,b)=>new aa({shape:()=>a,unknownKeys:"strict",catchall:Z.create(),typeName:g.ZodObject,...w(b)}),aa.lazycreate=(a,b)=>new aa({shape:a,unknownKeys:"strip",catchall:Z.create(),typeName:g.ZodObject,...w(b)});class ab extends x{_parse(a){let{ctx:b}=this._processInputParams(a),c=this._def.options;if(b.common.async)return Promise.all(c.map(async a=>{let c={...b,common:{...b.common,issues:[]},parent:null};return{result:await a._parseAsync({data:b.data,path:b.path,parent:c}),ctx:c}})).then(function(a){for(let b of a)if("valid"===b.result.status)return b.result;for(let c of a)if("dirty"===c.result.status)return b.common.issues.push(...c.ctx.common.issues),c.result;let c=a.map(a=>new l(a.ctx.common.issues));return o(b,{code:k.invalid_union,unionErrors:c}),q});{let a,d=[];for(let e of c){let c={...b,common:{...b.common,issues:[]},parent:null},f=e._parseSync({data:b.data,path:b.path,parent:c});if("valid"===f.status)return f;"dirty"!==f.status||a||(a={result:f,ctx:c}),c.common.issues.length&&d.push(c.common.issues)}if(a)return b.common.issues.push(...a.ctx.common.issues),a.result;let e=d.map(a=>new l(a));return o(b,{code:k.invalid_union,unionErrors:e}),q}}get options(){return this._def.options}}ab.create=(a,b)=>new ab({options:a,typeName:g.ZodUnion,...w(b)});let ac=a=>{if(a instanceof ak)return ac(a.schema);if(a instanceof aq)return ac(a.innerType());if(a instanceof al)return[a.value];if(a instanceof an)return a.options;if(a instanceof ao)return d.objectValues(a.enum);else if(a instanceof at)return ac(a._def.innerType);else if(a instanceof V)return[void 0];else if(a instanceof W)return[null];else if(a instanceof ar)return[void 0,...ac(a.unwrap())];else if(a instanceof as)return[null,...ac(a.unwrap())];else if(a instanceof aw)return ac(a.unwrap());else if(a instanceof ay)return ac(a.unwrap());else if(a instanceof au)return ac(a._def.innerType);else return[]};class ad extends x{_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==i.object)return o(b,{code:k.invalid_type,expected:i.object,received:b.parsedType}),q;let c=this.discriminator,d=b.data[c],e=this.optionsMap.get(d);return e?b.common.async?e._parseAsync({data:b.data,path:b.path,parent:b}):e._parseSync({data:b.data,path:b.path,parent:b}):(o(b,{code:k.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[c]}),q)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(a,b,c){let d=new Map;for(let c of b){let b=ac(c.shape[a]);if(!b.length)throw Error(`A discriminator value for key \`${a}\` could not be extracted from all schema options`);for(let e of b){if(d.has(e))throw Error(`Discriminator property ${String(a)} has duplicate value ${String(e)}`);d.set(e,c)}}return new ad({typeName:g.ZodDiscriminatedUnion,discriminator:a,options:b,optionsMap:d,...w(c)})}}class ae extends x{_parse(a){let{status:b,ctx:c}=this._processInputParams(a),e=(a,e)=>{if("aborted"===a.status||"aborted"===e.status)return q;let f=function a(b,c){let e=j(b),f=j(c);if(b===c)return{valid:!0,data:b};if(e===i.object&&f===i.object){let e=d.objectKeys(c),f=d.objectKeys(b).filter(a=>-1!==e.indexOf(a)),g={...b,...c};for(let d of f){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1};g[d]=e.data}return{valid:!0,data:g}}if(e===i.array&&f===i.array){if(b.length!==c.length)return{valid:!1};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1};d.push(f.data)}return{valid:!0,data:d}}if(e===i.date&&f===i.date&&+b==+c)return{valid:!0,data:b};return{valid:!1}}(a.value,e.value);return f.valid?(("dirty"===a.status||"dirty"===e.status)&&b.dirty(),{status:b.value,value:f.data}):(o(c,{code:k.invalid_intersection_types}),q)};return c.common.async?Promise.all([this._def.left._parseAsync({data:c.data,path:c.path,parent:c}),this._def.right._parseAsync({data:c.data,path:c.path,parent:c})]).then(([a,b])=>e(a,b)):e(this._def.left._parseSync({data:c.data,path:c.path,parent:c}),this._def.right._parseSync({data:c.data,path:c.path,parent:c}))}}ae.create=(a,b,c)=>new ae({left:a,right:b,typeName:g.ZodIntersection,...w(c)});class af extends x{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==i.array)return o(c,{code:k.invalid_type,expected:i.array,received:c.parsedType}),q;if(c.data.length<this._def.items.length)return o(c,{code:k.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),q;!this._def.rest&&c.data.length>this._def.items.length&&(o(c,{code:k.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),b.dirty());let d=[...c.data].map((a,b)=>{let d=this._def.items[b]||this._def.rest;return d?d._parse(new u(c,a,c.path,b)):null}).filter(a=>!!a);return c.common.async?Promise.all(d).then(a=>p.mergeArray(b,a)):p.mergeArray(b,d)}get items(){return this._def.items}rest(a){return new af({...this._def,rest:a})}}af.create=(a,b)=>{if(!Array.isArray(a))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new af({items:a,typeName:g.ZodTuple,rest:null,...w(b)})};class ag extends x{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==i.object)return o(c,{code:k.invalid_type,expected:i.object,received:c.parsedType}),q;let d=[],e=this._def.keyType,f=this._def.valueType;for(let a in c.data)d.push({key:e._parse(new u(c,a,c.path,a)),value:f._parse(new u(c,c.data[a],c.path,a)),alwaysSet:a in c.data});return c.common.async?p.mergeObjectAsync(b,d):p.mergeObjectSync(b,d)}get element(){return this._def.valueType}static create(a,b,c){return new ag(b instanceof x?{keyType:a,valueType:b,typeName:g.ZodRecord,...w(c)}:{keyType:P.create(),valueType:a,typeName:g.ZodRecord,...w(b)})}}class ah extends x{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==i.map)return o(c,{code:k.invalid_type,expected:i.map,received:c.parsedType}),q;let d=this._def.keyType,e=this._def.valueType,f=[...c.data.entries()].map(([a,b],f)=>({key:d._parse(new u(c,a,c.path,[f,"key"])),value:e._parse(new u(c,b,c.path,[f,"value"]))}));if(c.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of f){let d=await c.key,e=await c.value;if("aborted"===d.status||"aborted"===e.status)return q;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}})}{let a=new Map;for(let c of f){let d=c.key,e=c.value;if("aborted"===d.status||"aborted"===e.status)return q;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}}}}ah.create=(a,b,c)=>new ah({valueType:b,keyType:a,typeName:g.ZodMap,...w(c)});class ai extends x{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==i.set)return o(c,{code:k.invalid_type,expected:i.set,received:c.parsedType}),q;let d=this._def;null!==d.minSize&&c.data.size<d.minSize.value&&(o(c,{code:k.too_small,minimum:d.minSize.value,type:"set",inclusive:!0,exact:!1,message:d.minSize.message}),b.dirty()),null!==d.maxSize&&c.data.size>d.maxSize.value&&(o(c,{code:k.too_big,maximum:d.maxSize.value,type:"set",inclusive:!0,exact:!1,message:d.maxSize.message}),b.dirty());let e=this._def.valueType;function f(a){let c=new Set;for(let d of a){if("aborted"===d.status)return q;"dirty"===d.status&&b.dirty(),c.add(d.value)}return{status:b.value,value:c}}let g=[...c.data.values()].map((a,b)=>e._parse(new u(c,a,c.path,b)));return c.common.async?Promise.all(g).then(a=>f(a)):f(g)}min(a,b){return new ai({...this._def,minSize:{value:a,message:f.toString(b)}})}max(a,b){return new ai({...this._def,maxSize:{value:a,message:f.toString(b)}})}size(a,b){return this.min(a,b).max(a,b)}nonempty(a){return this.min(1,a)}}ai.create=(a,b)=>new ai({valueType:a,minSize:null,maxSize:null,typeName:g.ZodSet,...w(b)});class aj extends x{constructor(){super(...arguments),this.validate=this.implement}_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==i.function)return o(b,{code:k.invalid_type,expected:i.function,received:b.parsedType}),q;function c(a,c){return n({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,m,m].filter(a=>!!a),issueData:{code:k.invalid_arguments,argumentsError:c}})}function d(a,c){return n({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,m,m].filter(a=>!!a),issueData:{code:k.invalid_return_type,returnTypeError:c}})}let e={errorMap:b.common.contextualErrorMap},f=b.data;if(this._def.returns instanceof ap){let a=this;return s(async function(...b){let g=new l([]),h=await a._def.args.parseAsync(b,e).catch(a=>{throw g.addIssue(c(b,a)),g}),i=await Reflect.apply(f,this,h);return await a._def.returns._def.type.parseAsync(i,e).catch(a=>{throw g.addIssue(d(i,a)),g})})}{let a=this;return s(function(...b){let g=a._def.args.safeParse(b,e);if(!g.success)throw new l([c(b,g.error)]);let h=Reflect.apply(f,this,g.data),i=a._def.returns.safeParse(h,e);if(!i.success)throw new l([d(h,i.error)]);return i.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...a){return new aj({...this._def,args:af.create(a).rest(Y.create())})}returns(a){return new aj({...this._def,returns:a})}implement(a){return this.parse(a)}strictImplement(a){return this.parse(a)}static create(a,b,c){return new aj({args:a||af.create([]).rest(Y.create()),returns:b||Y.create(),typeName:g.ZodFunction,...w(c)})}}class ak extends x{get schema(){return this._def.getter()}_parse(a){let{ctx:b}=this._processInputParams(a);return this._def.getter()._parse({data:b.data,path:b.path,parent:b})}}ak.create=(a,b)=>new ak({getter:a,typeName:g.ZodLazy,...w(b)});class al extends x{_parse(a){if(a.data!==this._def.value){let b=this._getOrReturnCtx(a);return o(b,{received:b.data,code:k.invalid_literal,expected:this._def.value}),q}return{status:"valid",value:a.data}}get value(){return this._def.value}}function am(a,b){return new an({values:a,typeName:g.ZodEnum,...w(b)})}al.create=(a,b)=>new al({value:a,typeName:g.ZodLiteral,...w(b)});class an extends x{_parse(a){if("string"!=typeof a.data){let b=this._getOrReturnCtx(a),c=this._def.values;return o(b,{expected:d.joinValues(c),received:b.parsedType,code:k.invalid_type}),q}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(a.data)){let b=this._getOrReturnCtx(a),c=this._def.values;return o(b,{received:b.data,code:k.invalid_enum_value,options:c}),q}return s(a.data)}get options(){return this._def.values}get enum(){let a={};for(let b of this._def.values)a[b]=b;return a}get Values(){let a={};for(let b of this._def.values)a[b]=b;return a}get Enum(){let a={};for(let b of this._def.values)a[b]=b;return a}extract(a,b=this._def){return an.create(a,{...this._def,...b})}exclude(a,b=this._def){return an.create(this.options.filter(b=>!a.includes(b)),{...this._def,...b})}}an.create=am;class ao extends x{_parse(a){let b=d.getValidEnumValues(this._def.values),c=this._getOrReturnCtx(a);if(c.parsedType!==i.string&&c.parsedType!==i.number){let a=d.objectValues(b);return o(c,{expected:d.joinValues(a),received:c.parsedType,code:k.invalid_type}),q}if(this._cache||(this._cache=new Set(d.getValidEnumValues(this._def.values))),!this._cache.has(a.data)){let a=d.objectValues(b);return o(c,{received:c.data,code:k.invalid_enum_value,options:a}),q}return s(a.data)}get enum(){return this._def.values}}ao.create=(a,b)=>new ao({values:a,typeName:g.ZodNativeEnum,...w(b)});class ap extends x{unwrap(){return this._def.type}_parse(a){let{ctx:b}=this._processInputParams(a);return b.parsedType!==i.promise&&!1===b.common.async?(o(b,{code:k.invalid_type,expected:i.promise,received:b.parsedType}),q):s((b.parsedType===i.promise?b.data:Promise.resolve(b.data)).then(a=>this._def.type.parseAsync(a,{path:b.path,errorMap:b.common.contextualErrorMap})))}}ap.create=(a,b)=>new ap({type:a,typeName:g.ZodPromise,...w(b)});class aq extends x{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===g.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(a){let{status:b,ctx:c}=this._processInputParams(a),e=this._def.effect||null,f={addIssue:a=>{o(c,a),a.fatal?b.abort():b.dirty()},get path(){return c.path}};if(f.addIssue=f.addIssue.bind(f),"preprocess"===e.type){let a=e.transform(c.data,f);if(c.common.async)return Promise.resolve(a).then(async a=>{if("aborted"===b.value)return q;let d=await this._def.schema._parseAsync({data:a,path:c.path,parent:c});return"aborted"===d.status?q:"dirty"===d.status||"dirty"===b.value?r(d.value):d});{if("aborted"===b.value)return q;let d=this._def.schema._parseSync({data:a,path:c.path,parent:c});return"aborted"===d.status?q:"dirty"===d.status||"dirty"===b.value?r(d.value):d}}if("refinement"===e.type){let a=a=>{let b=e.refinement(a,f);if(c.common.async)return Promise.resolve(b);if(b instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(c=>"aborted"===c.status?q:("dirty"===c.status&&b.dirty(),a(c.value).then(()=>({status:b.value,value:c.value}))));{let d=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===d.status?q:("dirty"===d.status&&b.dirty(),a(d.value),{status:b.value,value:d.value})}}if("transform"===e.type)if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(a=>"valid"!==a.status?q:Promise.resolve(e.transform(a.value,f)).then(a=>({status:b.value,value:a})));else{let a=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});if("valid"!==a.status)return q;let d=e.transform(a.value,f);if(d instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:b.value,value:d}}d.assertNever(e)}}aq.create=(a,b,c)=>new aq({schema:a,typeName:g.ZodEffects,effect:b,...w(c)}),aq.createWithPreprocess=(a,b,c)=>new aq({schema:b,effect:{type:"preprocess",transform:a},typeName:g.ZodEffects,...w(c)});class ar extends x{_parse(a){return this._getType(a)===i.undefined?s(void 0):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}ar.create=(a,b)=>new ar({innerType:a,typeName:g.ZodOptional,...w(b)});class as extends x{_parse(a){return this._getType(a)===i.null?s(null):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}as.create=(a,b)=>new as({innerType:a,typeName:g.ZodNullable,...w(b)});class at extends x{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return b.parsedType===i.undefined&&(c=this._def.defaultValue()),this._def.innerType._parse({data:c,path:b.path,parent:b})}removeDefault(){return this._def.innerType}}at.create=(a,b)=>new at({innerType:a,typeName:g.ZodDefault,defaultValue:"function"==typeof b.default?b.default:()=>b.default,...w(b)});class au extends x{_parse(a){let{ctx:b}=this._processInputParams(a),c={...b,common:{...b.common,issues:[]}},d=this._def.innerType._parse({data:c.data,path:c.path,parent:{...c}});return t(d)?d.then(a=>({status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new l(c.common.issues)},input:c.data})})):{status:"valid",value:"valid"===d.status?d.value:this._def.catchValue({get error(){return new l(c.common.issues)},input:c.data})}}removeCatch(){return this._def.innerType}}au.create=(a,b)=>new au({innerType:a,typeName:g.ZodCatch,catchValue:"function"==typeof b.catch?b.catch:()=>b.catch,...w(b)});class av extends x{_parse(a){if(this._getType(a)!==i.nan){let b=this._getOrReturnCtx(a);return o(b,{code:k.invalid_type,expected:i.nan,received:b.parsedType}),q}return{status:"valid",value:a.data}}}av.create=a=>new av({typeName:g.ZodNaN,...w(a)}),Symbol("zod_brand");class aw extends x{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return this._def.type._parse({data:c,path:b.path,parent:b})}unwrap(){return this._def.type}}class ax extends x{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?q:"dirty"===a.status?(b.dirty(),r(a.value)):this._def.out._parseAsync({data:a.value,path:c.path,parent:c})})();{let a=this._def.in._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?q:"dirty"===a.status?(b.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:c.path,parent:c})}}static create(a,b){return new ax({in:a,out:b,typeName:g.ZodPipeline})}}class ay extends x{_parse(a){let b=this._def.innerType._parse(a),c=a=>("valid"===a.status&&(a.value=Object.freeze(a.value)),a);return t(b)?b.then(a=>c(a)):c(b)}unwrap(){return this._def.innerType}}ay.create=(a,b)=>new ay({innerType:a,typeName:g.ZodReadonly,...w(b)}),aa.lazycreate,function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly"}(g||(g={}));let az=P.create,aA=Q.create;av.create,R.create;let aB=S.create;T.create,U.create,V.create,W.create,X.create,Y.create,Z.create,$.create;let aC=_.create,aD=aa.create;aa.strictCreate;let aE=ab.create;ad.create,ae.create,af.create,ag.create,ah.create,ai.create,aj.create,ak.create,al.create;let aF=an.create;ao.create,ap.create,aq.create,ar.create,as.create,aq.createWithPreprocess,ax.create},7078:(a,b,c)=>{"use strict";c.d(b,{X:()=>r});var d=c(4611),e=c.n(d),f=c(4983),g=c(8476),h=c(1320),i=c(9646),j=c(1619),k=c(5862);let l=(0,j.xl)();class m{constructor({waitUntil:a,onClose:b,onTaskError:c}){this.workUnitStores=new Set,this.waitUntil=a,this.onClose=b,this.onTaskError=c,this.callbackQueue=new(e()),this.callbackQueue.pause()}after(a){if((0,g.Q)(a))this.waitUntil||n(),this.waitUntil(a.catch(a=>this.reportTaskError("promise",a)));else if("function"==typeof a)this.addCallback(a);else throw Object.defineProperty(Error("`after()`: Argument must be a promise or a function"),"__NEXT_ERROR_CODE",{value:"E50",enumerable:!1,configurable:!0})}addCallback(a){this.waitUntil||n();let b=k.FP.getStore();b&&this.workUnitStores.add(b);let c=l.getStore(),d=c?c.rootTaskSpawnPhase:null==b?void 0:b.phase;this.runCallbacksOnClosePromise||(this.runCallbacksOnClosePromise=this.runCallbacksOnClose(),this.waitUntil(this.runCallbacksOnClosePromise));let e=(0,j.cg)(async()=>{try{await l.run({rootTaskSpawnPhase:d},()=>a())}catch(a){this.reportTaskError("function",a)}});this.callbackQueue.add(e)}async runCallbacksOnClose(){return await new Promise(a=>this.onClose(a)),this.runCallbacks()}async runCallbacks(){if(0===this.callbackQueue.size)return;for(let a of this.workUnitStores)a.phase="after";let a=h.J.getStore();if(!a)throw Object.defineProperty(new f.z("Missing workStore in AfterContext.runCallbacks"),"__NEXT_ERROR_CODE",{value:"E547",enumerable:!1,configurable:!0});return(0,i.Y)(a,()=>(this.callbackQueue.start(),this.callbackQueue.onIdle()))}reportTaskError(a,b){if(console.error("promise"===a?"A promise passed to `after()` rejected:":"An error occurred in a function passed to `after()`:",b),this.onTaskError)try{null==this.onTaskError||this.onTaskError.call(this,b)}catch(a){console.error(Object.defineProperty(new f.z("`onTaskError` threw while handling an error thrown from an `after` task",{cause:a}),"__NEXT_ERROR_CODE",{value:"E569",enumerable:!1,configurable:!0}))}}}function n(){throw Object.defineProperty(Error("`after()` will not work correctly, because `waitUntil` is not available in the current environment."),"__NEXT_ERROR_CODE",{value:"E91",enumerable:!1,configurable:!0})}var o=c(9304),p=c(8646),q=c(9629);function r({page:a,renderOpts:b,isPrefetchRequest:c,buildId:d,previouslyRevalidatedTags:e}){let f=!b.shouldWaitOnAllReady&&!b.supportsDynamicResponse&&!b.isDraftMode&&!b.isPossibleServerAction,g=b.dev??!1,h=g||f&&(!!process.env.NEXT_DEBUG_BUILD||"1"===process.env.NEXT_SSG_FETCH_METRICS),i={isStaticGeneration:f,page:a,route:(0,o.Y)(a),incrementalCache:b.incrementalCache||globalThis.__incrementalCache,cacheLifeProfiles:b.cacheLifeProfiles,isRevalidate:b.isRevalidate,isBuildTimePrerendering:b.nextExport,hasReadableErrorStacks:b.hasReadableErrorStacks,fetchCache:b.fetchCache,isOnDemandRevalidate:b.isOnDemandRevalidate,isDraftMode:b.isDraftMode,isPrefetchRequest:c,buildId:d,reactLoadableManifest:(null==b?void 0:b.reactLoadableManifest)||{},assetPrefix:(null==b?void 0:b.assetPrefix)||"",afterContext:function(a){let{waitUntil:b,onClose:c,onAfterTaskError:d}=a;return new m({waitUntil:b,onClose:c,onTaskError:d})}(b),cacheComponentsEnabled:b.experimental.cacheComponents,dev:g,previouslyRevalidatedTags:e,refreshTagsByCacheKind:function(){let a=new Map,b=(0,q.fs)();if(b)for(let[c,d]of b)"refreshTags"in d&&a.set(c,(0,p.a)(async()=>d.refreshTags()));return a}(),runInCleanSnapshot:(0,j.$p)(),shouldTrackFetchMetrics:h};return b.store=i,i}},7106:(a,b,c)=>{"use strict";c.d(b,{d:()=>e});var d=c(8742),e=function(){function a(a){void 0===a&&(a=d.dM),this._spanContext=a}return a.prototype.spanContext=function(){return this._spanContext},a.prototype.setAttribute=function(a,b){return this},a.prototype.setAttributes=function(a){return this},a.prototype.addEvent=function(a,b){return this},a.prototype.addLink=function(a){return this},a.prototype.addLinks=function(a){return this},a.prototype.setStatus=function(a){return this},a.prototype.updateName=function(a){return this},a.prototype.end=function(a){},a.prototype.isRecording=function(){return!1},a.prototype.recordException=function(a,b){},a}()},7291:(a,b,c)=>{"use strict";c.d(b,{e:()=>f});var d=c(7859),e=c(1320);function f({serverActionsManifest:a}){return new Proxy({},{get:(b,c)=>{var f,g,h;let i,j=null==(g=a.edge)||null==(f=g[c])?void 0:f.workers;if(!j)return;let k=e.J.getStore();if(!(i=k?j[h=k.page,(0,d.m)(h,"app")?h:"app"+h]:Object.values(j).at(0)))return;let{moduleId:l,async:m}=i;return{id:l,name:c,chunks:[],async:m}}})}},7437:(a,b,c)=>{"use strict";c.d(b,{mS:()=>j,$G:()=>i,kv:()=>k});var d="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof c.g?c.g:{},e="1.9.0",f=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,g=function(a){var b=new Set([a]),c=new Set,d=a.match(f);if(!d)return function(){return!1};var e={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};if(null!=e.prerelease)return function(b){return b===a};function g(a){return c.add(a),!1}return function(a){if(b.has(a))return!0;if(c.has(a))return!1;var d=a.match(f);if(!d)return g(a);var h={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};if(null!=h.prerelease||e.major!==h.major)return g(a);if(0===e.major)return e.minor===h.minor&&e.patch<=h.patch?(b.add(a),!0):g(a);return e.minor<=h.minor?(b.add(a),!0):g(a)}}(e),h=Symbol.for("opentelemetry.js.api."+e.split(".")[0]);function i(a,b,c,f){void 0===f&&(f=!1);var g,i=d[h]=null!=(g=d[h])?g:{version:e};if(!f&&i[a]){var j=Error("@opentelemetry/api: Attempted duplicate registration of API: "+a);return c.error(j.stack||j.message),!1}if(i.version!==e){var j=Error("@opentelemetry/api: Registration of version v"+i.version+" for "+a+" does not match previously registered API v"+e);return c.error(j.stack||j.message),!1}return i[a]=b,c.debug("@opentelemetry/api: Registered a global for "+a+" v"+e+"."),!0}function j(a){var b,c,e=null==(b=d[h])?void 0:b.version;if(e&&g(e))return null==(c=d[h])?void 0:c[a]}function k(a,b){b.debug("@opentelemetry/api: Unregistering a global for "+a+" v"+e+".");var c=d[h];c&&delete c[a]}},7459:(a,b,c)=>{"use strict";var d;c.d(b,{u:()=>d}),function(a){a[a.NONE=0]="NONE",a[a.ERROR=30]="ERROR",a[a.WARN=50]="WARN",a[a.INFO=60]="INFO",a[a.DEBUG=70]="DEBUG",a[a.VERBOSE=80]="VERBOSE",a[a.ALL=9999]="ALL"}(d||(d={}))},7554:(a,b,c)=>{"use strict";c.d(b,{Q:()=>d});var d=function(a){return a[a.SeeOther=303]="SeeOther",a[a.TemporaryRedirect=307]="TemporaryRedirect",a[a.PermanentRedirect=308]="PermanentRedirect",a}({})},7574:(a,b,c)=>{"use strict";c.d(b,{Q:()=>e,n:()=>d});let d=new Map,e=(a,b)=>{for(let c of a){let a=d.get(c);if("number"==typeof a&&a>=b)return!0}return!1}},7859:(a,b,c)=>{"use strict";c.d(b,{m:()=>e});var d=c(757);function e(a,b){if("string"!=typeof a)return!1;let{pathname:c}=(0,d.R)(a);return c===b||c.startsWith(b+"/")}},7986:(a,b,c)=>{"use strict";c.d(b,{B:()=>e,y:()=>d});var d=function(a){return a.APP_PAGE="APP_PAGE",a.APP_ROUTE="APP_ROUTE",a.PAGES="PAGES",a.FETCH="FETCH",a.REDIRECT="REDIRECT",a.IMAGE="IMAGE",a}({}),e=function(a){return a.APP_PAGE="APP_PAGE",a.APP_ROUTE="APP_ROUTE",a.PAGES="PAGES",a.FETCH="FETCH",a.IMAGE="IMAGE",a}({})},8004:(a,b,c)=>{"use strict";c.d(b,{u_:()=>k,iL:()=>g,Vy:()=>i,SN:()=>j});var d=c(1113),e=c(1350),f=c(6486);let g="ResponseAborted";class h extends Error{constructor(...a){super(...a),this.name=g}}function i(a){let b=new AbortController;return a.once("close",()=>{a.writableFinished||b.abort(new h)}),b}function j(a){let{errored:b,destroyed:c}=a;if(b||c)return AbortSignal.abort(b??new h);let{signal:d}=i(a);return d}class k{static fromBaseNextRequest(a,b){return k.fromWebNextRequest(a)}static fromNodeNextRequest(a,b){let c,g=null;if("GET"!==a.method&&"HEAD"!==a.method&&a.body&&(g=a.body),a.url.startsWith("http"))c=new URL(a.url);else{let b=(0,d.Ny)(a,"initURL");c=b&&b.startsWith("http")?new URL(a.url,b):new URL(a.url,"http://n")}return new f.J(c,{method:a.method,headers:(0,e.p$)(a.headers),duplex:"half",signal:b,...b.aborted?{}:{body:g}})}static fromWebNextRequest(a){let b=null;return"GET"!==a.method&&"HEAD"!==a.method&&(b=a.body),new f.J(a.url,{method:a.method,headers:(0,e.p$)(a.headers),duplex:"half",signal:a.request.signal,...a.request.signal.aborted?{}:{body:b}})}}},8323:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h={};((a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})})(h,{getContext:()=>i.getContext,getVercelOidcToken:()=>j,getVercelOidcTokenSync:()=>k}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),h);var i=c(8964);async function j(){return""}function k(){return""}},8393:(a,b,c)=>{"use strict";let d;c.d(b,{V5:()=>v});var e=c(3321),f=c(811),g=c(2205),h=c(5823),i=c(5218),j=c(8798);let k=()=>{};function l(a){if(!a.body)return[a,a];let[b,c]=a.body.tee(),e=new Response(b,{status:a.status,statusText:a.statusText,headers:a.headers});Object.defineProperty(e,"url",{value:a.url,configurable:!0,enumerable:!0,writable:!1}),d&&e.body&&d.register(e,new WeakRef(e.body));let f=new Response(c,{status:a.status,statusText:a.statusText,headers:a.headers});return Object.defineProperty(f,"url",{value:a.url,configurable:!0,enumerable:!0,writable:!1}),[e,f]}globalThis.FinalizationRegistry&&(d=new FinalizationRegistry(a=>{let b=a.deref();b&&!b.locked&&b.cancel("Response object has been garbage collected").then(k)}));var m=c(4983),n=c(5862),o=c(5104),p=c(1173),q=c(5356).Buffer;let r=Symbol.for("next-patch");function s(a,b){a.shouldTrackFetchMetrics&&(a.fetchMetrics??=[],a.fetchMetrics.push({...b,end:performance.timeOrigin+performance.now(),idx:a.nextFetchId||0}))}async function t(a,b,c,d,e,f){let g=await a.arrayBuffer(),h={headers:Object.fromEntries(a.headers.entries()),body:q.from(g).toString("base64"),status:a.status,url:a.url};return c&&await d.set(b,{kind:o.yD.FETCH,data:h,revalidate:e},c),await f(),new Response(g,{headers:a.headers,status:a.status,statusText:a.statusText})}async function u(a,b,c,d,e,f,g,h,i){let[j,k]=l(b),m=j.arrayBuffer().then(async a=>{let b=q.from(a),h={headers:Object.fromEntries(j.headers.entries()),body:b.toString("base64"),status:j.status,url:j.url};null==f||f.set(c,h),d&&await e.set(c,{kind:o.yD.FETCH,data:h,revalidate:g},d)}).catch(a=>console.warn("Failed to set fetch cache",h,a)).finally(i),n=`cache-set-${c}`;return a.pendingRevalidates??={},n in a.pendingRevalidates&&await a.pendingRevalidates[n],a.pendingRevalidates[n]=m.finally(()=>{var b;(null==(b=a.pendingRevalidates)?void 0:b[n])&&delete a.pendingRevalidates[n]}),k}function v(a){if(!0===globalThis[r])return;let b=function(a){let b=j.cache(a=>[]);return function(c,d){let e,f;if(d&&d.signal)return a(c,d);if("string"!=typeof c||d){let b="string"==typeof c||c instanceof URL?new Request(c,d):c;if("GET"!==b.method&&"HEAD"!==b.method||b.keepalive)return a(c,d);f=JSON.stringify([b.method,Array.from(b.headers.entries()),b.mode,b.redirect,b.credentials,b.referrer,b.referrerPolicy,b.integrity]),e=b.url}else f='["GET",[],null,"follow",null,null,null,null]',e=c;let g=b(e);for(let a=0,b=g.length;a<b;a+=1){let[b,c]=g[a];if(b===f)return c.then(()=>{let b=g[a][2];if(!b)throw Object.defineProperty(new m.z("No cached response"),"__NEXT_ERROR_CODE",{value:"E579",enumerable:!1,configurable:!0});let[c,d]=l(b);return g[a][2]=d,c})}let h=a(c,d),i=[f,h,null];return g.push(i),h.then(a=>{let[b,c]=l(a);return i[2]=c,b})}}(globalThis.fetch);globalThis.fetch=function(a,{workAsyncStorage:b,workUnitAsyncStorage:c}){let d=async function(d,j){var k,m;let r;try{(r=new URL(d instanceof Request?d.url:d)).username="",r.password=""}catch{r=void 0}let v=(null==r?void 0:r.href)??"",w=(null==j||null==(k=j.method)?void 0:k.toUpperCase())||"GET",x=(null==j||null==(m=j.next)?void 0:m.internal)===!0,y="1"===process.env.NEXT_OTEL_FETCH_DISABLED,z=x?void 0:performance.timeOrigin+performance.now(),A=b.getStore(),B=c.getStore(),C=B?(0,n.Br)(B):null;C&&C.beginRead();let D=(0,f.EK)().trace(x?e.Fx.internalFetch:e.Wc.fetch,{hideSpan:y,kind:f.v8.CLIENT,spanName:["fetch",w,v].filter(Boolean).join(" "),attributes:{"http.url":v,"http.method":w,"net.peer.name":null==r?void 0:r.hostname,"net.peer.port":(null==r?void 0:r.port)||void 0}},async()=>{var b;let c,e,f,k,m,n;if(x||!A||A.isDraftMode)return a(d,j);let r=d&&"object"==typeof d&&"string"==typeof d.method,w=a=>(null==j?void 0:j[a])||(r?d[a]:null),y=a=>{var b,c,e;return void 0!==(null==j||null==(b=j.next)?void 0:b[a])?null==j||null==(c=j.next)?void 0:c[a]:r?null==(e=d.next)?void 0:e[a]:void 0},D=y("revalidate"),E=D,F=function(a,b){let c=[],d=[];for(let e=0;e<a.length;e++){let f=a[e];if("string"!=typeof f?d.push({tag:f,reason:"invalid type, must be a string"}):f.length>g.qq?d.push({tag:f,reason:`exceeded max length of ${g.qq}`}):c.push(f),c.length>g.o7){console.warn(`Warning: exceeded max tag count for ${b}, dropped tags:`,a.slice(e).join(", "));break}}if(d.length>0)for(let{tag:a,reason:c}of(console.warn(`Warning: invalid tags passed to ${b}: `),d))console.log(`tag: "${a}" ${c}`);return c}(y("tags")||[],`fetch ${d.toString()}`);if(B)switch(B.type){case"prerender":case"prerender-runtime":case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":c=B}if(c&&Array.isArray(F)){let a=c.tags??(c.tags=[]);for(let b of F)a.includes(b)||a.push(b)}let G=null==B?void 0:B.implicitTags,H=A.fetchCache;B&&"unstable-cache"===B.type&&(H="force-no-store");let I=!!A.isUnstableNoStore,J=w("cache"),K="";"string"==typeof J&&void 0!==E&&("force-cache"===J&&0===E||"no-store"===J&&(E>0||!1===E))&&(e=`Specified "cache: ${J}" and "revalidate: ${E}", only one should be specified.`,J=void 0,E=void 0);let L="no-cache"===J||"no-store"===J||"force-no-store"===H||"only-no-store"===H,M=!H&&!J&&!E&&A.forceDynamic;"force-cache"===J&&void 0===E?E=!1:(L||M)&&(E=0),("no-cache"===J||"no-store"===J)&&(K=`cache: ${J}`),n=function(a,b){try{let c;if(!1===a)c=g.AR;else if("number"==typeof a&&!isNaN(a)&&a>-1)c=a;else if(void 0!==a)throw Object.defineProperty(Error(`Invalid revalidate value "${a}" on "${b}", must be a non-negative number or false`),"__NEXT_ERROR_CODE",{value:"E179",enumerable:!1,configurable:!0});return c}catch(a){if(a instanceof Error&&a.message.includes("Invalid revalidate"))throw a;return}}(E,A.route);let N=w("headers"),O="function"==typeof(null==N?void 0:N.get)?N:new Headers(N||{}),P=O.get("authorization")||O.get("cookie"),Q=!["get","head"].includes((null==(b=w("method"))?void 0:b.toLowerCase())||"get"),R=void 0==H&&(void 0==J||"default"===J)&&void 0==E,S=!!((P||Q)&&(null==c?void 0:c.revalidate)===0),T=!1;if(!S&&R&&(A.isBuildTimePrerendering?T=!0:S=!0),R&&void 0!==B)switch(B.type){case"prerender":case"prerender-runtime":case"prerender-client":return C&&(C.endRead(),C=null),(0,i.W5)(B.renderSignal,A.route,"fetch()")}switch(H){case"force-no-store":K="fetchCache = force-no-store";break;case"only-no-store":if("force-cache"===J||void 0!==n&&n>0)throw Object.defineProperty(Error(`cache: 'force-cache' used on fetch for ${v} with 'export const fetchCache = 'only-no-store'`),"__NEXT_ERROR_CODE",{value:"E448",enumerable:!1,configurable:!0});K="fetchCache = only-no-store";break;case"only-cache":if("no-store"===J)throw Object.defineProperty(Error(`cache: 'no-store' used on fetch for ${v} with 'export const fetchCache = 'only-cache'`),"__NEXT_ERROR_CODE",{value:"E521",enumerable:!1,configurable:!0});break;case"force-cache":(void 0===E||0===E)&&(K="fetchCache = force-cache",n=g.AR)}if(void 0===n?"default-cache"!==H||I?"default-no-store"===H?(n=0,K="fetchCache = default-no-store"):I?(n=0,K="noStore call"):S?(n=0,K="auto no cache"):(K="auto cache",n=c?c.revalidate:g.AR):(n=g.AR,K="fetchCache = default-cache"):K||(K=`revalidate: ${n}`),!(A.forceStatic&&0===n)&&!S&&c&&n<c.revalidate){if(0===n){if(B)switch(B.type){case"prerender":case"prerender-client":case"prerender-runtime":return C&&(C.endRead(),C=null),(0,i.W5)(B.renderSignal,A.route,"fetch()")}(0,h.ag)(A,B,`revalidate: 0 fetch ${d} ${A.route}`)}c&&D===n&&(c.revalidate=n)}let U="number"==typeof n&&n>0,{incrementalCache:V}=A,W=!1;if(B)switch(B.type){case"request":case"cache":case"private-cache":W=B.isHmrRefresh??!1,k=B.serverComponentsHmrCache}if(V&&(U||k))try{f=await V.generateCacheKey(v,r?d:j)}catch(a){console.error("Failed to generate cache key for",d)}let X=A.nextFetchId??1;A.nextFetchId=X+1;let Y=()=>{},Z=async(b,c)=>{let h=["cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...b?[]:["signal"]];if(r){let a=d,b={body:a._ogBody||a.body};for(let c of h)b[c]=a[c];d=new Request(a.url,b)}else if(j){let{_ogBody:a,body:c,signal:d,...e}=j;j={...e,body:a||c,signal:b?void 0:d}}let i={...j,next:{...null==j?void 0:j.next,fetchType:"origin",fetchIdx:X}};return a(d,i).then(async a=>{if(!b&&z&&s(A,{start:z,url:v,cacheReason:c||K,cacheStatus:0===n||c?"skip":"miss",cacheWarning:e,status:a.status,method:i.method||"GET"}),200===a.status&&V&&f&&(U||k)){let b=n>=g.AR?g.qF:n,c=U?{fetchCache:!0,fetchUrl:v,fetchIdx:X,tags:F,isImplicitBuildTimeCache:T}:void 0;switch(null==B?void 0:B.type){case"prerender":case"prerender-client":case"prerender-runtime":return t(a,f,c,V,b,Y);case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":case void 0:return u(A,a,f,c,V,k,b,d,Y)}}return await Y(),a}).catch(a=>{throw Y(),a})},$=!1,_=!1;if(f&&V){let a;if(W&&k&&(a=k.get(f),_=!0),U&&!a){Y=await V.lock(f);let b=A.isOnDemandRevalidate?null:await V.get(f,{kind:o.Bs.FETCH,revalidate:n,fetchUrl:v,fetchIdx:X,tags:F,softTags:null==G?void 0:G.tags});if(R&&B)switch(B.type){case"prerender":case"prerender-client":case"prerender-runtime":await (0,p.kf)()}if(b?await Y():m="cache-control: no-cache (hard refresh)",(null==b?void 0:b.value)&&b.value.kind===o.yD.FETCH)if(A.isRevalidate&&b.isStale)$=!0;else{if(b.isStale&&(A.pendingRevalidates??={},!A.pendingRevalidates[f])){let a=Z(!0).then(async a=>({body:await a.arrayBuffer(),headers:a.headers,status:a.status,statusText:a.statusText})).finally(()=>{A.pendingRevalidates??={},delete A.pendingRevalidates[f||""]});a.catch(console.error),A.pendingRevalidates[f]=a}a=b.value.data}}if(a){z&&s(A,{start:z,url:v,cacheReason:K,cacheStatus:_?"hmr":"hit",cacheWarning:e,status:a.status||200,method:(null==j?void 0:j.method)||"GET"});let b=new Response(q.from(a.body,"base64"),{headers:a.headers,status:a.status});return Object.defineProperty(b,"url",{value:a.url}),b}}if(A.isStaticGeneration&&j&&"object"==typeof j){let{cache:a}=j;if(delete j.cache,"no-store"===a){if(B)switch(B.type){case"prerender":case"prerender-client":case"prerender-runtime":return C&&(C.endRead(),C=null),(0,i.W5)(B.renderSignal,A.route,"fetch()")}(0,h.ag)(A,B,`no-store fetch ${d} ${A.route}`)}let b="next"in j,{next:e={}}=j;if("number"==typeof e.revalidate&&c&&e.revalidate<c.revalidate){if(0===e.revalidate){if(B)switch(B.type){case"prerender":case"prerender-client":case"prerender-runtime":return(0,i.W5)(B.renderSignal,A.route,"fetch()")}(0,h.ag)(A,B,`revalidate: 0 fetch ${d} ${A.route}`)}A.forceStatic&&0===e.revalidate||(c.revalidate=e.revalidate)}b&&delete j.next}if(!f||!$)return Z(!1,m);{let a=f;A.pendingRevalidates??={};let b=A.pendingRevalidates[a];if(b){let a=await b;return new Response(a.body,{headers:a.headers,status:a.status,statusText:a.statusText})}let c=Z(!0,m).then(l);return(b=c.then(async a=>{let b=a[0];return{body:await b.arrayBuffer(),headers:b.headers,status:b.status,statusText:b.statusText}}).finally(()=>{var b;(null==(b=A.pendingRevalidates)?void 0:b[a])&&delete A.pendingRevalidates[a]})).catch(()=>{}),A.pendingRevalidates[a]=b,c.then(a=>a[1])}});if(C)try{return await D}finally{C&&C.endRead()}return D};return d.__nextPatched=!0,d.__nextGetStaticStore=()=>b,d._nextOriginalFetch=a,globalThis[r]=!0,Object.defineProperty(d,"name",{value:"fetch",writable:!1}),d}(b,a)}},8460:(a,b,c)=>{"use strict";c.d(b,{e1:()=>r,nV:()=>B,mD:()=>ap,m2:()=>o,Z9:()=>v,ej:()=>x,n_:()=>w,Ds:()=>aF,hK:()=>C,sl:()=>aE,cV:()=>aG,mU:()=>aB,wA:()=>aC,cb:()=>p,o8:()=>aI,$C:()=>D,u1:()=>E,$b:()=>N,G1:()=>I,zf:()=>F,R:()=>O,qs:()=>P,ID:()=>an,WL:()=>Q,x3:()=>R,qx:()=>J,_Z:()=>av,xI:()=>aw,GU:()=>ay,hd:()=>aD,N8:()=>au,ZZ:()=>as,z6:()=>aA,k5:()=>ar,WZ:()=>K,ae:()=>aH,jN:()=>aq});var d,e,f=c(5600),g=c(5582),h=c(6805);class i{constructor(a){this.counter=0,this.metadataRegistry=a?.metadata??g.fd,this.target=a?.target??"draft-2020-12",this.unrepresentable=a?.unrepresentable??"throw",this.override=a?.override??(()=>{}),this.io=a?.io??"output",this.seen=new Map}process(a,b={path:[],schemaPath:[]}){var c;let d=a._zod.def,e=this.seen.get(a);if(e)return e.count++,b.schemaPath.includes(a)&&(e.cycle=b.path),e.schema;let f={schema:{},count:1,cycle:void 0,path:b.path};this.seen.set(a,f);let g=a._zod.toJSONSchema?.();if(g)f.schema=g;else{let c={...b,schemaPath:[...b.schemaPath,a],path:b.path},e=a._zod.parent;if(e)f.ref=e,this.process(e,c),this.seen.get(e).isParent=!0;else{let b=f.schema;switch(d.type){case"string":{b.type="string";let{minimum:c,maximum:d,format:e,patterns:g,contentEncoding:h}=a._zod.bag;if("number"==typeof c&&(b.minLength=c),"number"==typeof d&&(b.maxLength=d),e&&(b.format=({guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""})[e]??e,""===b.format&&delete b.format),h&&(b.contentEncoding=h),g&&g.size>0){let a=[...g];1===a.length?b.pattern=a[0].source:a.length>1&&(f.schema.allOf=[...a.map(a=>({..."draft-7"===this.target?{type:"string"}:{},pattern:a.source}))])}break}case"number":{let{minimum:c,maximum:d,format:e,multipleOf:f,exclusiveMaximum:g,exclusiveMinimum:h}=a._zod.bag;"string"==typeof e&&e.includes("int")?b.type="integer":b.type="number","number"==typeof h&&(b.exclusiveMinimum=h),"number"==typeof c&&(b.minimum=c,"number"==typeof h&&(h>=c?delete b.minimum:delete b.exclusiveMinimum)),"number"==typeof g&&(b.exclusiveMaximum=g),"number"==typeof d&&(b.maximum=d,"number"==typeof g&&(g<=d?delete b.maximum:delete b.exclusiveMaximum)),"number"==typeof f&&(b.multipleOf=f);break}case"boolean":case"success":b.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema");break;case"null":b.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw Error("Void cannot be represented in JSON Schema");break;case"never":b.not={};break;case"date":if("throw"===this.unrepresentable)throw Error("Date cannot be represented in JSON Schema");break;case"array":{let{minimum:e,maximum:f}=a._zod.bag;"number"==typeof e&&(b.minItems=e),"number"==typeof f&&(b.maxItems=f),b.type="array",b.items=this.process(d.element,{...c,path:[...c.path,"items"]});break}case"object":{b.type="object",b.properties={};let a=d.shape;for(let d in a)b.properties[d]=this.process(a[d],{...c,path:[...c.path,"properties",d]});let e=new Set([...new Set(Object.keys(a))].filter(a=>{let b=d.shape[a]._zod;return"input"===this.io?void 0===b.optin:void 0===b.optout}));e.size>0&&(b.required=Array.from(e)),d.catchall?._zod.def.type==="never"?b.additionalProperties=!1:d.catchall?d.catchall&&(b.additionalProperties=this.process(d.catchall,{...c,path:[...c.path,"additionalProperties"]})):"output"===this.io&&(b.additionalProperties=!1);break}case"union":b.anyOf=d.options.map((a,b)=>this.process(a,{...c,path:[...c.path,"anyOf",b]}));break;case"intersection":{let a=this.process(d.left,{...c,path:[...c.path,"allOf",0]}),e=this.process(d.right,{...c,path:[...c.path,"allOf",1]}),f=a=>"allOf"in a&&1===Object.keys(a).length;b.allOf=[...f(a)?a.allOf:[a],...f(e)?e.allOf:[e]];break}case"tuple":{b.type="array";let e=d.items.map((a,b)=>this.process(a,{...c,path:[...c.path,"prefixItems",b]}));if("draft-2020-12"===this.target?b.prefixItems=e:b.items=e,d.rest){let a=this.process(d.rest,{...c,path:[...c.path,"items"]});"draft-2020-12"===this.target?b.items=a:b.additionalItems=a}d.rest&&(b.items=this.process(d.rest,{...c,path:[...c.path,"items"]}));let{minimum:f,maximum:g}=a._zod.bag;"number"==typeof f&&(b.minItems=f),"number"==typeof g&&(b.maxItems=g);break}case"record":b.type="object",b.propertyNames=this.process(d.keyType,{...c,path:[...c.path,"propertyNames"]}),b.additionalProperties=this.process(d.valueType,{...c,path:[...c.path,"additionalProperties"]});break;case"map":if("throw"===this.unrepresentable)throw Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw Error("Set cannot be represented in JSON Schema");break;case"enum":{let a=(0,h.w5)(d.entries);a.every(a=>"number"==typeof a)&&(b.type="number"),a.every(a=>"string"==typeof a)&&(b.type="string"),b.enum=a;break}case"literal":{let a=[];for(let b of d.values)if(void 0===b){if("throw"===this.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof b)if("throw"===this.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else a.push(Number(b));else a.push(b);if(0===a.length);else if(1===a.length){let c=a[0];b.type=null===c?"null":typeof c,b.const=c}else a.every(a=>"number"==typeof a)&&(b.type="number"),a.every(a=>"string"==typeof a)&&(b.type="string"),a.every(a=>"boolean"==typeof a)&&(b.type="string"),a.every(a=>null===a)&&(b.type="null"),b.enum=a;break}case"file":{let c={type:"string",format:"binary",contentEncoding:"binary"},{minimum:d,maximum:e,mime:f}=a._zod.bag;void 0!==d&&(c.minLength=d),void 0!==e&&(c.maxLength=e),f?1===f.length?(c.contentMediaType=f[0],Object.assign(b,c)):b.anyOf=f.map(a=>({...c,contentMediaType:a})):Object.assign(b,c);break}case"transform":if("throw"===this.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema");break;case"nullable":b.anyOf=[this.process(d.innerType,c),{type:"null"}];break;case"nonoptional":case"promise":case"optional":this.process(d.innerType,c),f.ref=d.innerType;break;case"default":this.process(d.innerType,c),f.ref=d.innerType,b.default=JSON.parse(JSON.stringify(d.defaultValue));break;case"prefault":this.process(d.innerType,c),f.ref=d.innerType,"input"===this.io&&(b._prefault=JSON.parse(JSON.stringify(d.defaultValue)));break;case"catch":{let a;this.process(d.innerType,c),f.ref=d.innerType;try{a=d.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}b.default=a;break}case"nan":if("throw"===this.unrepresentable)throw Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{let c=a._zod.pattern;if(!c)throw Error("Pattern not found in template literal");b.type="string",b.pattern=c.source;break}case"pipe":{let a="input"===this.io?"transform"===d.in._zod.def.type?d.out:d.in:d.out;this.process(a,c),f.ref=a;break}case"readonly":this.process(d.innerType,c),f.ref=d.innerType,b.readOnly=!0;break;case"lazy":{let b=a._zod.innerType;this.process(b,c),f.ref=b;break}case"custom":if("throw"===this.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema")}}}let i=this.metadataRegistry.get(a);return i&&Object.assign(f.schema,i),"input"===this.io&&function a(b,c){let d=c??{seen:new Set};if(d.seen.has(b))return!1;d.seen.add(b);let e=b._zod.def;switch(e.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":return!1;case"array":return a(e.element,d);case"object":for(let b in e.shape)if(a(e.shape[b],d))return!0;return!1;case"union":for(let b of e.options)if(a(b,d))return!0;return!1;case"intersection":return a(e.left,d)||a(e.right,d);case"tuple":for(let b of e.items)if(a(b,d))return!0;if(e.rest&&a(e.rest,d))return!0;return!1;case"record":case"map":return a(e.keyType,d)||a(e.valueType,d);case"set":return a(e.valueType,d);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return a(e.innerType,d);case"lazy":return a(e.getter(),d);case"transform":return!0;case"pipe":return a(e.in,d)||a(e.out,d)}throw Error(`Unknown schema type: ${e.type}`)}(a)&&(delete f.schema.examples,delete f.schema.default),"input"===this.io&&f.schema._prefault&&((c=f.schema).default??(c.default=f.schema._prefault)),delete f.schema._prefault,this.seen.get(a).schema}emit(a,b){let c={cycles:b?.cycles??"ref",reused:b?.reused??"inline",external:b?.external??void 0},d=this.seen.get(a);if(!d)throw Error("Unprocessed schema. This is a bug in Zod.");let e=a=>{let b="draft-2020-12"===this.target?"$defs":"definitions";if(c.external){let d=c.external.registry.get(a[0])?.id,e=c.external.uri??(a=>a);if(d)return{ref:e(d)};let f=a[1].defId??a[1].schema.id??`schema${this.counter++}`;return a[1].defId=f,{defId:f,ref:`${e("__shared")}#/${b}/${f}`}}if(a[1]===d)return{ref:"#"};let e=`#/${b}/`,f=a[1].schema.id??`__schema${this.counter++}`;return{defId:f,ref:e+f}},f=a=>{if(a[1].schema.$ref)return;let b=a[1],{ref:c,defId:d}=e(a);b.def={...b.schema},d&&(b.defId=d);let f=b.schema;for(let a in f)delete f[a];f.$ref=c};if("throw"===c.cycles)for(let a of this.seen.entries()){let b=a[1];if(b.cycle)throw Error(`Cycle detected: #/${b.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let b of this.seen.entries()){let d=b[1];if(a===b[0]){f(b);continue}if(c.external){let d=c.external.registry.get(b[0])?.id;if(a!==b[0]&&d){f(b);continue}}if(this.metadataRegistry.get(b[0])?.id||d.cycle||d.count>1&&"ref"===c.reused){f(b);continue}}let g=(a,b)=>{let c=this.seen.get(a),d=c.def??c.schema,e={...d};if(null===c.ref)return;let f=c.ref;if(c.ref=null,f){g(f,b);let a=this.seen.get(f).schema;a.$ref&&"draft-7"===b.target?(d.allOf=d.allOf??[],d.allOf.push(a)):(Object.assign(d,a),Object.assign(d,e))}c.isParent||this.override({zodSchema:a,jsonSchema:d,path:c.path??[]})};for(let a of[...this.seen.entries()].reverse())g(a[0],{target:this.target});let h={};if("draft-2020-12"===this.target?h.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?h.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),c.external?.uri){let b=c.external.registry.get(a)?.id;if(!b)throw Error("Schema is missing an `id` property");h.$id=c.external.uri(b)}Object.assign(h,d.def);let i=c.external?.defs??{};for(let a of this.seen.entries()){let b=a[1];b.def&&b.defId&&(i[b.defId]=b.def)}c.external||Object.keys(i).length>0&&("draft-2020-12"===this.target?h.$defs=i:h.definitions=i);try{return JSON.parse(JSON.stringify(h))}catch(a){throw Error("Error converting schema to JSON.")}}}var j=c(772),k=c(7034);class l extends Error{constructor(a,b){super(a),this.name="ParseError",this.type=b.type,this.field=b.field,this.value=b.value,this.line=b.line}}function m(a){}class n extends TransformStream{constructor({onError:a,onRetry:b,onComment:c}={}){let d;super({start(e){d=function(a){if("function"==typeof a)throw TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");let{onEvent:b=m,onError:c=m,onRetry:d=m,onComment:e}=a,f="",g=!0,h,i="",j="";function k(a){if(""===a)return void(i.length>0&&b({id:h,event:j||void 0,data:i.endsWith(`
`)?i.slice(0,-1):i}),h=void 0,i="",j="");if(a.startsWith(":")){e&&e(a.slice(a.startsWith(": ")?2:1));return}let c=a.indexOf(":");if(-1!==c){let b=a.slice(0,c),d=" "===a[c+1]?2:1;n(b,a.slice(c+d),a);return}n(a,"",a)}function n(a,b,e){switch(a){case"event":j=b;break;case"data":i=`${i}${b}
`;break;case"id":h=b.includes("\0")?void 0:b;break;case"retry":/^\d+$/.test(b)?d(parseInt(b,10)):c(new l(`Invalid \`retry\` value: "${b}"`,{type:"invalid-retry",value:b,line:e}));break;default:c(new l(`Unknown field "${a.length>20?`${a.slice(0,20)}\u2026`:a}"`,{type:"unknown-field",field:a,value:b,line:e}))}}return{feed:function(a){let b=g?a.replace(/^\xEF\xBB\xBF/,""):a,[c,d]=function(a){let b=[],c="",d=0;for(;d<a.length;){let e=a.indexOf("\r",d),f=a.indexOf(`
`,d),g=-1;if(-1!==e&&-1!==f?g=Math.min(e,f):-1!==e?g=e===a.length-1?-1:e:-1!==f&&(g=f),-1===g){c=a.slice(d);break}{let c=a.slice(d,g);b.push(c),"\r"===a[(d=g+1)-1]&&a[d]===`
`&&d++}}return[b,c]}(`${f}${b}`);for(let a of c)k(a);f=d,g=!1},reset:function(a={}){f&&a.consume&&k(f),g=!0,h=void 0,i="",j="",f=""}}}({onEvent:a=>{e.enqueue(a)},onError(b){"terminate"===a?e.error(b):"function"==typeof a&&a(b)},onRetry:b,onComment:c})},transform(a){d.feed(a)}})}}function o(...a){return a.reduce((a,b)=>({...a,...null!=b?b:{}}),{})}async function p(a,b){if(null==a)return Promise.resolve();let c=null==b?void 0:b.abortSignal;return new Promise((b,d)=>{if(null==c?void 0:c.aborted)return void d(q());let e=setTimeout(()=>{f(),b()},a),f=()=>{clearTimeout(e),null==c||c.removeEventListener("abort",g)},g=()=>{f(),d(q())};null==c||c.addEventListener("abort",g)})}function q(){return new DOMException("Delay was aborted","AbortError")}var r=class{constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get promise(){return this._promise||(this._promise=new Promise((a,b)=>{"resolved"===this.status.type?a(this.status.value):"rejected"===this.status.type&&b(this.status.error),this._resolve=a,this._reject=b})),this._promise}resolve(a){var b;this.status={type:"resolved",value:a},this._promise&&(null==(b=this._resolve)||b.call(this,a))}reject(a){var b;this.status={type:"rejected",error:a},this._promise&&(null==(b=this._reject)||b.call(this,a))}isResolved(){return"resolved"===this.status.type}isRejected(){return"rejected"===this.status.type}isPending(){return"pending"===this.status.type}};function s(a){return Object.fromEntries([...a.headers])}var{btoa:t,atob:u}=globalThis;function v(a){let b=u(a.replace(/-/g,"+").replace(/_/g,"/"));return Uint8Array.from(b,a=>a.codePointAt(0))}function w(a){let b="";for(let c=0;c<a.length;c++)b+=String.fromCodePoint(a[c]);return t(b)}function x(a){return a instanceof Uint8Array?w(a):a}var y="AI_DownloadError",z=`vercel.ai.error.${y}`,A=Symbol.for(z),B=class extends(e=f.bD,d=A,e){constructor({url:a,statusCode:b,statusText:c,cause:e,message:f=null==e?`Failed to download ${a}: ${b} ${c}`:`Failed to download ${a}: ${e}`}){super({name:y,message:f,cause:e}),this[d]=!0,this.url=a,this.statusCode=b,this.statusText=c}static isInstance(a){return f.bD.hasMarker(a,z)}},C=({prefix:a,size:b=16,alphabet:c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:d="-"}={})=>{let e=()=>{let a=c.length,d=Array(b);for(let e=0;e<b;e++)d[e]=c[Math.random()*a|0];return d.join("")};if(null==a)return e;if(c.includes(d))throw new f.Di({argument:"separator",message:`The separator "${d}" must not be part of the alphabet "${c}".`});return()=>`${a}${d}${e()}`},D=C();function E(a){return null==a?"unknown error":"string"==typeof a?a:a instanceof Error?a.message:JSON.stringify(a)}function F(a){return(a instanceof Error||a instanceof DOMException)&&("AbortError"===a.name||"ResponseAborted"===a.name||"TimeoutError"===a.name)}var G=["fetch failed","failed to fetch"];function H({error:a,url:b,requestBodyValues:c}){if(F(a))return a;if(a instanceof TypeError&&G.includes(a.message.toLowerCase())){let d=a.cause;if(null!=d)return new f.hL({message:`Cannot connect to API: ${d.message}`,cause:d,url:b,requestBodyValues:c,isRetryable:!0})}return a}function I(a=globalThis){var b,c,d;return a.window?"runtime/browser":(null==(b=a.navigator)?void 0:b.userAgent)?`runtime/${a.navigator.userAgent.toLowerCase()}`:(null==(d=null==(c=a.process)?void 0:c.versions)?void 0:d.node)?`runtime/node.js/${a.process.version.substring(0)}`:a.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function J(a){if(null==a)return{};let b={};if(a instanceof Headers)a.forEach((a,c)=>{b[c.toLowerCase()]=a});else for(let[c,d]of(Array.isArray(a)||(a=Object.entries(a)),a))null!=d&&(b[c.toLowerCase()]=d);return b}function K(a,...b){let c=new Headers(J(a)),d=c.get("user-agent")||"";return c.set("user-agent",[d,...b].filter(Boolean).join(" ")),Object.fromEntries(c.entries())}var L="4.0.8",M=()=>globalThis.fetch,N=async({url:a,headers:b={},successfulResponseHandler:c,failedResponseHandler:d,abortSignal:e,fetch:g=M()})=>{try{let h=await g(a,{method:"GET",headers:K(b,`ai-sdk/provider-utils/${L}`,I()),signal:e}),i=s(h);if(!h.ok){let b;try{b=await d({response:h,url:a,requestBodyValues:{}})}catch(b){if(F(b)||f.hL.isInstance(b))throw b;throw new f.hL({message:"Failed to process error response",cause:b,statusCode:h.status,url:a,responseHeaders:i,requestBodyValues:{}})}throw b.value}try{return await c({response:h,url:a,requestBodyValues:{}})}catch(b){if(b instanceof Error&&(F(b)||f.hL.isInstance(b)))throw b;throw new f.hL({message:"Failed to process successful response",cause:b,statusCode:h.status,url:a,responseHeaders:i,requestBodyValues:{}})}}catch(b){throw H({error:b,url:a,requestBodyValues:{}})}};function O(a){return null!=a}function P({mediaType:a,url:b,supportedUrls:c}){return b=b.toLowerCase(),a=a.toLowerCase(),Object.entries(c).map(([a,b])=>{let c=a.toLowerCase();return"*"===c||"*/*"===c?{mediaTypePrefix:"",regexes:b}:{mediaTypePrefix:c.replace(/\*/,""),regexes:b}}).filter(({mediaTypePrefix:b})=>a.startsWith(b)).flatMap(({regexes:a})=>a).some(a=>a.test(b))}function Q({apiKey:a,environmentVariableName:b,apiKeyParameterName:c="apiKey",description:d}){if("string"==typeof a)return a;if(null!=a)throw new f.Kq({message:`${d} API key must be a string.`});if("undefined"==typeof process)throw new f.Kq({message:`${d} API key is missing. Pass it using the '${c}' parameter. Environment variables is not supported in this environment.`});if(null==(a=process.env[b]))throw new f.Kq({message:`${d} API key is missing. Pass it using the '${c}' parameter or the ${b} environment variable.`});if("string"!=typeof a)throw new f.Kq({message:`${d} API key must be a string. The value of the ${b} environment variable is not a string.`});return a}function R({settingValue:a,environmentVariableName:b}){return"string"==typeof a?a:null!=a||"undefined"==typeof process?void 0:null!=(a=process.env[b])&&"string"==typeof a?a:void 0}var S=/"__proto__"\s*:/,T=/"constructor"\s*:/;function U(a){let b=JSON.parse(a);return null===b||"object"!=typeof b||!1===S.test(a)&&!1===T.test(a)?b:function(a){let b=[a];for(;b.length;){let a=b;for(let c of(b=[],a)){if(Object.prototype.hasOwnProperty.call(c,"__proto__")||Object.prototype.hasOwnProperty.call(c,"constructor")&&Object.prototype.hasOwnProperty.call(c.constructor,"prototype"))throw SyntaxError("Object contains forbidden prototype property");for(let a in c){let d=c[a];d&&"object"==typeof d&&b.push(d)}}}return a}(b)}function V(a){let{stackTraceLimit:b}=Error;try{Error.stackTraceLimit=0}catch(b){return U(a)}try{return U(a)}finally{Error.stackTraceLimit=b}}function W(a){if("object"===a.type||Array.isArray(a.type)&&a.type.includes("object")){a.additionalProperties=!1;let{properties:b}=a;if(null!=b)for(let a of Object.keys(b))b[a]=X(b[a])}null!=a.items&&(a.items=Array.isArray(a.items)?a.items.map(X):X(a.items)),null!=a.anyOf&&(a.anyOf=a.anyOf.map(X)),null!=a.allOf&&(a.allOf=a.allOf.map(X)),null!=a.oneOf&&(a.oneOf=a.oneOf.map(X));let{definitions:b}=a;if(null!=b)for(let a of Object.keys(b))b[a]=X(b[a]);return a}function X(a){return"boolean"==typeof a?a:W(a)}var Y=Symbol("Let zodToJsonSchema decide on which parser to use"),Z={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function $(a,b){return aj(a.type._def,b)}var _=void 0,aa={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===_&&(_=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),_),ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function ab(a,b){let c={type:"string"};if(a.checks)for(let d of a.checks)switch(d.kind){case"min":c.minLength="number"==typeof c.minLength?Math.max(c.minLength,d.value):d.value;break;case"max":c.maxLength="number"==typeof c.maxLength?Math.min(c.maxLength,d.value):d.value;break;case"email":switch(b.emailStrategy){case"format:email":ae(c,"email",d.message,b);break;case"format:idn-email":ae(c,"idn-email",d.message,b);break;case"pattern:zod":af(c,aa.email,d.message,b)}break;case"url":ae(c,"uri",d.message,b);break;case"uuid":ae(c,"uuid",d.message,b);break;case"regex":af(c,d.regex,d.message,b);break;case"cuid":af(c,aa.cuid,d.message,b);break;case"cuid2":af(c,aa.cuid2,d.message,b);break;case"startsWith":af(c,RegExp(`^${ac(d.value,b)}`),d.message,b);break;case"endsWith":af(c,RegExp(`${ac(d.value,b)}$`),d.message,b);break;case"datetime":ae(c,"date-time",d.message,b);break;case"date":ae(c,"date",d.message,b);break;case"time":ae(c,"time",d.message,b);break;case"duration":ae(c,"duration",d.message,b);break;case"length":c.minLength="number"==typeof c.minLength?Math.max(c.minLength,d.value):d.value,c.maxLength="number"==typeof c.maxLength?Math.min(c.maxLength,d.value):d.value;break;case"includes":af(c,RegExp(ac(d.value,b)),d.message,b);break;case"ip":"v6"!==d.version&&ae(c,"ipv4",d.message,b),"v4"!==d.version&&ae(c,"ipv6",d.message,b);break;case"base64url":af(c,aa.base64url,d.message,b);break;case"jwt":af(c,aa.jwt,d.message,b);break;case"cidr":"v6"!==d.version&&af(c,aa.ipv4Cidr,d.message,b),"v4"!==d.version&&af(c,aa.ipv6Cidr,d.message,b);break;case"emoji":af(c,aa.emoji(),d.message,b);break;case"ulid":af(c,aa.ulid,d.message,b);break;case"base64":switch(b.base64Strategy){case"format:binary":ae(c,"binary",d.message,b);break;case"contentEncoding:base64":c.contentEncoding="base64";break;case"pattern:zod":af(c,aa.base64,d.message,b)}break;case"nanoid":af(c,aa.nanoid,d.message,b)}return c}function ac(a,b){return"escape"===b.patternStrategy?function(a){let b="";for(let c=0;c<a.length;c++)ad.has(a[c])||(b+="\\"),b+=a[c];return b}(a):a}var ad=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function ae(a,b,c,d){var e;a.format||(null==(e=a.anyOf)?void 0:e.some(a=>a.format))?(a.anyOf||(a.anyOf=[]),a.format&&(a.anyOf.push({format:a.format}),delete a.format),a.anyOf.push({format:b,...c&&d.errorMessages&&{errorMessage:{format:c}}})):a.format=b}function af(a,b,c,d){var e;a.pattern||(null==(e=a.allOf)?void 0:e.some(a=>a.pattern))?(a.allOf||(a.allOf=[]),a.pattern&&(a.allOf.push({pattern:a.pattern}),delete a.pattern),a.allOf.push({pattern:ag(b,d),...c&&d.errorMessages&&{errorMessage:{pattern:c}}})):a.pattern=ag(b,d)}function ag(a,b){var c;if(!b.applyRegexFlags||!a.flags)return a.source;let d={i:a.flags.includes("i"),m:a.flags.includes("m"),s:a.flags.includes("s")},e=d.i?a.source.toLowerCase():a.source,f="",g=!1,h=!1,i=!1;for(let a=0;a<e.length;a++){if(g){f+=e[a],g=!1;continue}if(d.i){if(h){if(e[a].match(/[a-z]/)){i?(f+=e[a],f+=`${e[a-2]}-${e[a]}`.toUpperCase(),i=!1):"-"===e[a+1]&&(null==(c=e[a+2])?void 0:c.match(/[a-z]/))?(f+=e[a],i=!0):f+=`${e[a]}${e[a].toUpperCase()}`;continue}}else if(e[a].match(/[a-z]/)){f+=`[${e[a]}${e[a].toUpperCase()}]`;continue}}if(d.m){if("^"===e[a]){f+=`(^|(?<=[\r
]))`;continue}else if("$"===e[a]){f+=`($|(?=[\r
]))`;continue}}if(d.s&&"."===e[a]){f+=h?`${e[a]}\r
`:`[${e[a]}\r
]`;continue}f+=e[a],"\\"===e[a]?g=!0:h&&"]"===e[a]?h=!1:h||"["!==e[a]||(h=!0)}try{new RegExp(f)}catch(c){return console.warn(`Could not convert regex pattern at ${b.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),a.source}return f}function ah(a,b){var c,d,e,f,g,h;let i={type:"object",additionalProperties:null!=(c=aj(a.valueType._def,{...b,currentPath:[...b.currentPath,"additionalProperties"]}))?c:b.allowedAdditionalProperties};if((null==(d=a.keyType)?void 0:d._def.typeName)===k.kY.ZodString&&(null==(e=a.keyType._def.checks)?void 0:e.length)){let{type:c,...d}=ab(a.keyType._def,b);return{...i,propertyNames:d}}if((null==(f=a.keyType)?void 0:f._def.typeName)===k.kY.ZodEnum)return{...i,propertyNames:{enum:a.keyType._def.values}};if((null==(g=a.keyType)?void 0:g._def.typeName)===k.kY.ZodBranded&&a.keyType._def.type._def.typeName===k.kY.ZodString&&(null==(h=a.keyType._def.type._def.checks)?void 0:h.length)){let{type:c,...d}=$(a.keyType._def,b);return{...i,propertyNames:d}}return i}var ai={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function aj(a,b,c=!1){var d;let e=b.seen.get(a);if(b.override){let f=null==(d=b.override)?void 0:d.call(b,a,b,e,c);if(f!==Y)return f}if(e&&!c){let a=ak(e,b);if(void 0!==a)return a}let f={def:a,path:b.currentPath,jsonSchema:void 0};b.seen.set(a,f);let g=((a,b,c)=>{switch(b){case k.kY.ZodString:return ab(a,c);case k.kY.ZodNumber:var d,e,f,g,h,i,j=a;let l={type:"number"};if(!j.checks)return l;for(let a of j.checks)switch(a.kind){case"int":l.type="integer";break;case"min":a.inclusive?l.minimum=a.value:l.exclusiveMinimum=a.value;break;case"max":a.inclusive?l.maximum=a.value:l.exclusiveMaximum=a.value;break;case"multipleOf":l.multipleOf=a.value}return l;case k.kY.ZodObject:return function(a,b){let c={type:"object",properties:{}},d=[],e=a.shape();for(let a in e){let f=e[a];if(void 0===f||void 0===f._def)continue;let g=function(a){try{return a.isOptional()}catch(a){return!0}}(f),h=aj(f._def,{...b,currentPath:[...b.currentPath,"properties",a],propertyPath:[...b.currentPath,"properties",a]});void 0!==h&&(c.properties[a]=h,g||d.push(a))}d.length&&(c.required=d);let f=function(a,b){if("ZodNever"!==a.catchall._def.typeName)return aj(a.catchall._def,{...b,currentPath:[...b.currentPath,"additionalProperties"]});switch(a.unknownKeys){case"passthrough":return b.allowedAdditionalProperties;case"strict":return b.rejectedAdditionalProperties;case"strip":return"strict"===b.removeAdditionalStrategy?b.allowedAdditionalProperties:b.rejectedAdditionalProperties}}(a,b);return void 0!==f&&(c.additionalProperties=f),c}(a,c);case k.kY.ZodBigInt:var m=a;let n={type:"integer",format:"int64"};if(!m.checks)return n;for(let a of m.checks)switch(a.kind){case"min":a.inclusive?n.minimum=a.value:n.exclusiveMinimum=a.value;break;case"max":a.inclusive?n.maximum=a.value:n.exclusiveMaximum=a.value;break;case"multipleOf":n.multipleOf=a.value}return n;case k.kY.ZodBoolean:return{type:"boolean"};case k.kY.ZodDate:return function a(b,c,d){let e=null!=d?d:c.dateStrategy;if(Array.isArray(e))return{anyOf:e.map((d,e)=>a(b,c,d))};switch(e){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":var f=b;let g={type:"integer",format:"unix-time"};for(let a of f.checks)switch(a.kind){case"min":g.minimum=a.value;break;case"max":g.maximum=a.value}return g}}(a,c);case k.kY.ZodUndefined:return{not:{}};case k.kY.ZodNull:return{type:"null"};case k.kY.ZodArray:var o,p,q,r=a,s=c;let t={type:"array"};return(null==(o=r.type)?void 0:o._def)&&(null==(q=null==(p=r.type)?void 0:p._def)?void 0:q.typeName)!==k.kY.ZodAny&&(t.items=aj(r.type._def,{...s,currentPath:[...s.currentPath,"items"]})),r.minLength&&(t.minItems=r.minLength.value),r.maxLength&&(t.maxItems=r.maxLength.value),r.exactLength&&(t.minItems=r.exactLength.value,t.maxItems=r.exactLength.value),t;case k.kY.ZodUnion:case k.kY.ZodDiscriminatedUnion:return function(a,b){let c=a.options instanceof Map?Array.from(a.options.values()):a.options;if(c.every(a=>a._def.typeName in ai&&(!a._def.checks||!a._def.checks.length))){let a=c.reduce((a,b)=>{let c=ai[b._def.typeName];return c&&!a.includes(c)?[...a,c]:a},[]);return{type:a.length>1?a:a[0]}}if(c.every(a=>"ZodLiteral"===a._def.typeName&&!a.description)){let a=c.reduce((a,b)=>{let c=typeof b._def.value;switch(c){case"string":case"number":case"boolean":return[...a,c];case"bigint":return[...a,"integer"];case"object":if(null===b._def.value)return[...a,"null"];default:return a}},[]);if(a.length===c.length){let b=a.filter((a,b,c)=>c.indexOf(a)===b);return{type:b.length>1?b:b[0],enum:c.reduce((a,b)=>a.includes(b._def.value)?a:[...a,b._def.value],[])}}}else if(c.every(a=>"ZodEnum"===a._def.typeName))return{type:"string",enum:c.reduce((a,b)=>[...a,...b._def.values.filter(b=>!a.includes(b))],[])};var d=a,e=b;let f=(d.options instanceof Map?Array.from(d.options.values()):d.options).map((a,b)=>aj(a._def,{...e,currentPath:[...e.currentPath,"anyOf",`${b}`]})).filter(a=>!!a&&(!e.strictUnions||"object"==typeof a&&Object.keys(a).length>0));return f.length?{anyOf:f}:void 0}(a,c);case k.kY.ZodIntersection:var u=a,v=c;let w=[aj(u.left._def,{...v,currentPath:[...v.currentPath,"allOf","0"]}),aj(u.right._def,{...v,currentPath:[...v.currentPath,"allOf","1"]})].filter(a=>!!a),x=[];return w.forEach(a=>{if((!("type"in a)||"string"!==a.type)&&"allOf"in a)x.push(...a.allOf);else{let b=a;if("additionalProperties"in a&&!1===a.additionalProperties){let{additionalProperties:c,...d}=a;b=d}x.push(b)}}),x.length?{allOf:x}:void 0;case k.kY.ZodTuple:return H=a,I=c,H.rest?{type:"array",minItems:H.items.length,items:H.items.map((a,b)=>aj(a._def,{...I,currentPath:[...I.currentPath,"items",`${b}`]})).reduce((a,b)=>void 0===b?a:[...a,b],[]),additionalItems:aj(H.rest._def,{...I,currentPath:[...I.currentPath,"additionalItems"]})}:{type:"array",minItems:H.items.length,maxItems:H.items.length,items:H.items.map((a,b)=>aj(a._def,{...I,currentPath:[...I.currentPath,"items",`${b}`]})).reduce((a,b)=>void 0===b?a:[...a,b],[])};case k.kY.ZodRecord:return ah(a,c);case k.kY.ZodLiteral:var y=a;let z=typeof y.value;return"bigint"!==z&&"number"!==z&&"boolean"!==z&&"string"!==z?{type:Array.isArray(y.value)?"array":"object"}:{type:"bigint"===z?"integer":z,const:y.value};case k.kY.ZodEnum:return{type:"string",enum:Array.from(a.values)};case k.kY.ZodNativeEnum:var A=a;let B=A.values,C=Object.keys(A.values).filter(a=>"number"!=typeof B[B[a]]).map(a=>B[a]),D=Array.from(new Set(C.map(a=>typeof a)));return{type:1===D.length?"string"===D[0]?"string":"number":["string","number"],enum:C};case k.kY.ZodNullable:var E=a,F=c;if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(E.innerType._def.typeName)&&(!E.innerType._def.checks||!E.innerType._def.checks.length))return{type:[ai[E.innerType._def.typeName],"null"]};let G=aj(E.innerType._def,{...F,currentPath:[...F.currentPath,"anyOf","0"]});return G&&{anyOf:[G,{type:"null"}]};case k.kY.ZodOptional:var H,I,J,K=a,L=c;if(L.currentPath.toString()===(null==(J=L.propertyPath)?void 0:J.toString()))return aj(K.innerType._def,L);let M=aj(K.innerType._def,{...L,currentPath:[...L.currentPath,"anyOf","1"]});return M?{anyOf:[{not:{}},M]}:{};case k.kY.ZodMap:return d=a,"record"===(e=c).mapStrategy?ah(d,e):{type:"array",maxItems:125,items:{type:"array",items:[aj(d.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},aj(d.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}};case k.kY.ZodSet:var N=a,O=c;let P={type:"array",uniqueItems:!0,items:aj(N.valueType._def,{...O,currentPath:[...O.currentPath,"items"]})};return N.minSize&&(P.minItems=N.minSize.value),N.maxSize&&(P.maxItems=N.maxSize.value),P;case k.kY.ZodLazy:return()=>a.getter()._def;case k.kY.ZodPromise:return aj(a.type._def,c);case k.kY.ZodNaN:case k.kY.ZodNever:return{not:{}};case k.kY.ZodEffects:return f=a,"input"===(g=c).effectStrategy?aj(f.schema._def,g):{};case k.kY.ZodAny:case k.kY.ZodUnknown:return{};case k.kY.ZodDefault:return h=a,i=c,{...aj(h.innerType._def,i),default:h.defaultValue()};case k.kY.ZodBranded:return $(a,c);case k.kY.ZodReadonly:case k.kY.ZodCatch:return aj(a.innerType._def,c);case k.kY.ZodPipeline:var Q=a,R=c;if("input"===R.pipeStrategy)return aj(Q.in._def,R);if("output"===R.pipeStrategy)return aj(Q.out._def,R);let S=aj(Q.in._def,{...R,currentPath:[...R.currentPath,"allOf","0"]}),T=aj(Q.out._def,{...R,currentPath:[...R.currentPath,"allOf",S?"1":"0"]});return{allOf:[S,T].filter(a=>void 0!==a)};case k.kY.ZodFunction:case k.kY.ZodVoid:case k.kY.ZodSymbol:default:return}})(a,a.typeName,b),h="function"==typeof g?aj(g(),b):g;if(h&&al(a,b,h),b.postProcess){let c=b.postProcess(h,a,b);return f.jsonSchema=h,c}return f.jsonSchema=h,h}var ak=(a,b)=>{switch(b.$refStrategy){case"root":return{$ref:a.path.join("/")};case"relative":return{$ref:((a,b)=>{let c=0;for(;c<a.length&&c<b.length&&a[c]===b[c];c++);return[(a.length-c).toString(),...b.slice(c)].join("/")})(b.currentPath,a.path)};case"none":case"seen":if(a.path.length<b.currentPath.length&&a.path.every((a,c)=>b.currentPath[c]===a))return console.warn(`Recursive reference detected at ${b.currentPath.join("/")}! Defaulting to any`),{};return"seen"===b.$refStrategy?{}:void 0}},al=(a,b,c)=>(a.description&&(c.description=a.description),c),am=Symbol.for("vercel.ai.schema");function an(a){let b;return()=>(null==b&&(b=a()),b)}function ao(a,{validate:b}={}){return{[am]:!0,_type:void 0,get jsonSchema(){return"function"==typeof a&&(a=a()),a},validate:b}}function ap(a){var b;return null==a?ao({properties:{},additionalProperties:!1}):"object"==typeof a&&null!==a&&am in a&&!0===a[am]&&"jsonSchema"in a&&"validate"in a?a:"~standard"in a?"zod"===a["~standard"].vendor?aq(a):(b=a,ao(()=>W(b["~standard"].jsonSchema.input({target:"draft-07"})),{validate:async a=>{let c=await b["~standard"].validate(a);return"value"in c?{success:!0,value:c.value}:{success:!1,error:new f.iM({value:a,cause:c.issues})}}})):a()}function aq(a,b){var c,d;if("_zod"in a){let d=null!=(c=null==b?void 0:b.useReferences)&&c;return ao(()=>W(function(a,b){if(a instanceof g.rs){let c=new i(b),d={};for(let b of a._idmap.entries()){let[a,d]=b;c.process(d)}let e={},f={registry:a,uri:b?.uri,defs:d};for(let d of a._idmap.entries()){let[a,g]=d;e[a]=c.emit(g,{...b,external:f})}return Object.keys(d).length>0&&(e.__shared={["draft-2020-12"===c.target?"$defs":"definitions"]:d}),{schemas:e}}let c=new i(b);return c.process(a),c.emit(a,b)}(a,{target:"draft-7",io:"input",reused:d?"ref":"inline"})),{validate:async b=>{let c=await j.bp(a,b);return c.success?{success:!0,value:c.data}:{success:!1,error:c.error}}})}let e=null!=(d=null==b?void 0:b.useReferences)&&d;return ao(()=>((a,b)=>{var c;let d=(a=>{let b,c="string"==typeof(b=a)?{...Z,name:b}:{...Z,...b},d=void 0!==c.name?[...c.basePath,c.definitionPath,c.name]:c.basePath;return{...c,currentPath:d,propertyPath:void 0,seen:new Map(Object.entries(c.definitions).map(([a,b])=>[b._def,{def:b._def,path:[...c.basePath,c.definitionPath,a],jsonSchema:void 0}]))}})(b),e="object"==typeof b&&b.definitions?Object.entries(b.definitions).reduce((a,[b,c])=>{var e;return{...a,[b]:null!=(e=aj(c._def,{...d,currentPath:[...d.basePath,d.definitionPath,b]},!0))?e:{}}},{}):void 0,f="string"==typeof b?b:(null==b?void 0:b.nameStrategy)==="title"||null==b?void 0:b.name,g=null!=(c=aj(a._def,void 0===f?d:{...d,currentPath:[...d.basePath,d.definitionPath,f]},!1))?c:{},h="object"==typeof b&&void 0!==b.name&&"title"===b.nameStrategy?b.name:void 0;void 0!==h&&(g.title=h);let i=void 0===f?e?{...g,[d.definitionPath]:e}:g:{$ref:[..."relative"===d.$refStrategy?[]:d.basePath,d.definitionPath,f].join("/"),[d.definitionPath]:{...e,[f]:g}};return i.$schema="http://json-schema.org/draft-07/schema#",i})(a,{$refStrategy:e?"root":"none"}),{validate:async b=>{let c=await a.safeParseAsync(b);return c.success?{success:!0,value:c.data}:{success:!1,error:c.error}}})}async function ar({value:a,schema:b}){let c=await as({value:a,schema:b});if(!c.success)throw f.iM.wrap({value:a,cause:c.error});return c.value}async function as({value:a,schema:b}){let c=ap(b);try{if(null==c.validate)return{success:!0,value:a,rawValue:a};let b=await c.validate(a);if(b.success)return{success:!0,value:b.value,rawValue:a};return{success:!1,error:f.iM.wrap({value:a,cause:b.error}),rawValue:a}}catch(b){return{success:!1,error:f.iM.wrap({value:a,cause:b}),rawValue:a}}}async function at({text:a,schema:b}){try{let c=V(a);if(null==b)return c;return ar({value:c,schema:b})}catch(b){if(f.u6.isInstance(b)||f.iM.isInstance(b))throw b;throw new f.u6({text:a,cause:b})}}async function au({text:a,schema:b}){try{let c=V(a);if(null==b)return{success:!0,value:c,rawValue:c};return await as({value:c,schema:b})}catch(b){return{success:!1,error:f.u6.isInstance(b)?b:new f.u6({text:a,cause:b}),rawValue:void 0}}}function av({stream:a,schema:b}){return a.pipeThrough(new TextDecoderStream).pipeThrough(new n).pipeThrough(new TransformStream({async transform({data:a},c){"[DONE]"!==a&&c.enqueue(await au({text:a,schema:b}))}}))}async function aw({provider:a,providerOptions:b,schema:c}){if((null==b?void 0:b[a])==null)return;let d=await as({value:b[a],schema:c});if(!d.success)throw new f.Di({argument:"providerOptions",message:`invalid ${a} provider options`,cause:d.error});return d.value}var ax=()=>globalThis.fetch,ay=async({url:a,headers:b,body:c,failedResponseHandler:d,successfulResponseHandler:e,abortSignal:f,fetch:g})=>az({url:a,headers:{"Content-Type":"application/json",...b},body:{content:JSON.stringify(c),values:c},failedResponseHandler:d,successfulResponseHandler:e,abortSignal:f,fetch:g}),az=async({url:a,headers:b={},body:c,successfulResponseHandler:d,failedResponseHandler:e,abortSignal:g,fetch:h=ax()})=>{try{let i=await h(a,{method:"POST",headers:K(b,`ai-sdk/provider-utils/${L}`,I()),body:c.content,signal:g}),j=s(i);if(!i.ok){let b;try{b=await e({response:i,url:a,requestBodyValues:c.values})}catch(b){if(F(b)||f.hL.isInstance(b))throw b;throw new f.hL({message:"Failed to process error response",cause:b,statusCode:i.status,url:a,responseHeaders:j,requestBodyValues:c.values})}throw b.value}try{return await d({response:i,url:a,requestBodyValues:c.values})}catch(b){if(b instanceof Error&&(F(b)||f.hL.isInstance(b)))throw b;throw new f.hL({message:"Failed to process successful response",cause:b,statusCode:i.status,url:a,responseHeaders:j,requestBodyValues:c.values})}}catch(b){throw H({error:b,url:a,requestBodyValues:c.values})}};function aA(a){return a}function aB({id:a,inputSchema:b}){return({execute:c,outputSchema:d,needsApproval:e,toModelOutput:f,onInputStart:g,onInputDelta:h,onInputAvailable:i,...j})=>({type:"provider",id:a,args:j,inputSchema:b,outputSchema:d,execute:c,needsApproval:e,toModelOutput:f,onInputStart:g,onInputDelta:h,onInputAvailable:i})}function aC({id:a,inputSchema:b,outputSchema:c,supportsDeferredResults:d}){return({execute:e,needsApproval:f,toModelOutput:g,onInputStart:h,onInputDelta:i,onInputAvailable:j,...k})=>({type:"provider",id:a,args:k,inputSchema:b,outputSchema:c,execute:e,needsApproval:f,toModelOutput:g,onInputStart:h,onInputDelta:i,onInputAvailable:j,supportsDeferredResults:d})}async function aD(a){return"function"==typeof a&&(a=a()),Promise.resolve(a)}var aE=({errorSchema:a,errorToMessage:b,isRetryable:c})=>async({response:d,url:e,requestBodyValues:g})=>{let h=await d.text(),i=s(d);if(""===h.trim())return{responseHeaders:i,value:new f.hL({message:d.statusText,url:e,requestBodyValues:g,statusCode:d.status,responseHeaders:i,responseBody:h,isRetryable:null==c?void 0:c(d)})};try{let j=await at({text:h,schema:a});return{responseHeaders:i,value:new f.hL({message:b(j),url:e,requestBodyValues:g,statusCode:d.status,responseHeaders:i,responseBody:h,data:j,isRetryable:null==c?void 0:c(d,j)})}}catch(a){return{responseHeaders:i,value:new f.hL({message:d.statusText,url:e,requestBodyValues:g,statusCode:d.status,responseHeaders:i,responseBody:h,isRetryable:null==c?void 0:c(d)})}}},aF=a=>async({response:b})=>{let c=s(b);if(null==b.body)throw new f.Tt({});return{responseHeaders:c,value:av({stream:b.body,schema:a})}},aG=a=>async({response:b,url:c,requestBodyValues:d})=>{let e=await b.text(),g=await au({text:e,schema:a}),h=s(b);if(!g.success)throw new f.hL({message:"Invalid JSON response",cause:g.error,statusCode:b.status,responseHeaders:h,responseBody:e,url:c,requestBodyValues:d});return{responseHeaders:h,value:g.value,rawValue:g.rawValue}};function aH(a){return null==a?void 0:a.replace(/\/$/,"")}async function*aI({execute:a,input:b,options:c}){let d=a(b,c);if(null!=d&&"function"==typeof d[Symbol.asyncIterator]){let a;for await(let b of d)a=b,yield{type:"preliminary",output:b};yield{type:"final",output:a}}else yield{type:"final",output:await d}}},8476:(a,b,c)=>{"use strict";function d(a){return null!==a&&"object"==typeof a&&"then"in a&&"function"==typeof a.then}c.d(b,{Q:()=>d})},8498:(a,b,c)=>{"use strict";c.d(b,{o:()=>f});var d=c(4953);class e extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new e}}class f extends Headers{constructor(a){super(),this.headers=new Proxy(a,{get(b,c,e){if("symbol"==typeof c)return d.l.get(b,c,e);let f=c.toLowerCase(),g=Object.keys(a).find(a=>a.toLowerCase()===f);if(void 0!==g)return d.l.get(b,g,e)},set(b,c,e,f){if("symbol"==typeof c)return d.l.set(b,c,e,f);let g=c.toLowerCase(),h=Object.keys(a).find(a=>a.toLowerCase()===g);return d.l.set(b,h??c,e,f)},has(b,c){if("symbol"==typeof c)return d.l.has(b,c);let e=c.toLowerCase(),f=Object.keys(a).find(a=>a.toLowerCase()===e);return void 0!==f&&d.l.has(b,f)},deleteProperty(b,c){if("symbol"==typeof c)return d.l.deleteProperty(b,c);let e=c.toLowerCase(),f=Object.keys(a).find(a=>a.toLowerCase()===e);return void 0===f||d.l.deleteProperty(b,f)}})}static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"append":case"delete":case"set":return e.callable;default:return d.l.get(a,b,c)}}})}merge(a){return Array.isArray(a)?a.join(", "):a}static from(a){return a instanceof Headers?a:new f(a)}append(a,b){let c=this.headers[a];"string"==typeof c?this.headers[a]=[c,b]:Array.isArray(c)?c.push(b):this.headers[a]=b}delete(a){delete this.headers[a]}get(a){let b=this.headers[a];return void 0!==b?this.merge(b):null}has(a){return void 0!==this.headers[a]}set(a,b){this.headers[a]=b}forEach(a,b){for(let[c,d]of this.entries())a.call(b,d,c,this)}*entries(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase(),c=this.get(b);yield[b,c]}}*keys(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase();yield b}}*values(){for(let a of Object.keys(this.headers)){let b=this.get(a);yield b}}[Symbol.iterator](){return this.entries()}}},8522:(a,b,c)=>{"use strict";function d(a){return function(){let{cookie:b}=a;if(!b)return{};let{parse:d}=c(933);return d(Array.isArray(b)?b.join("; "):b)}}c.d(b,{i:()=>d})},8646:(a,b,c)=>{"use strict";function d(a){let b,c={then:(d,e)=>(b||(b=a()),b.then(a=>{c.value=a}).catch(()=>{}),b.then(d,e))};return c}c.d(b,{a:()=>d})},8711:(a,b,c)=>{"use strict";c.d(b,{$8:()=>g,VB:()=>e,m1:()=>f});var d=c(9304);let e=["(..)(..)","(.)","(..)","(...)"];function f(a){return void 0!==a.split("/").find(a=>e.find(b=>a.startsWith(b)))}function g(a){let b,c,f;for(let d of a.split("/"))if(c=e.find(a=>d.startsWith(a))){[b,f]=a.split(c,2);break}if(!b||!c||!f)throw Object.defineProperty(Error("Invalid interception route: "+a+". Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>"),"__NEXT_ERROR_CODE",{value:"E269",enumerable:!1,configurable:!0});switch(b=(0,d.Y)(b),c){case"(.)":f="/"===b?"/"+f:b+"/"+f;break;case"(..)":if("/"===b)throw Object.defineProperty(Error("Invalid interception route: "+a+". Cannot use (..) marker at the root level, use (.) instead."),"__NEXT_ERROR_CODE",{value:"E207",enumerable:!1,configurable:!0});f=b.split("/").slice(0,-1).concat(f).join("/");break;case"(...)":f="/"+f;break;case"(..)(..)":let g=b.split("/");if(g.length<=2)throw Object.defineProperty(Error("Invalid interception route: "+a+". Cannot use (..)(..) marker at the root level or one level up."),"__NEXT_ERROR_CODE",{value:"E486",enumerable:!1,configurable:!0});f=g.slice(0,-2).concat(f).join("/");break;default:throw Object.defineProperty(Error("Invariant: unexpected marker"),"__NEXT_ERROR_CODE",{value:"E112",enumerable:!1,configurable:!0})}return{interceptingRoute:b,interceptedRoute:f}}},8742:(a,b,c)=>{"use strict";c.d(b,{RH:()=>f,dM:()=>g,w9:()=>e});var d=c(5775),e="0000000000000000",f="00000000000000000000000000000000",g={traceId:f,spanId:e,traceFlags:d.X.NONE}},8798:(a,b,c)=>{"use strict";a.exports=c(784)},8939:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{getTestReqInfo:function(){return g},withRequest:function(){return f}});let d=new(c(5521)).AsyncLocalStorage;function e(a,b){let c=b.header(a,"next-test-proxy-port");if(!c)return;let d=b.url(a);return{url:d,proxyPort:Number(c),testData:b.header(a,"next-test-data")||""}}function f(a,b,c){let f=e(a,b);return f?d.run(f,c):c()}function g(a,b){let c=d.getStore();return c||(a&&b?e(a,b):void 0)}},8955:(a,b,c)=>{"use strict";c.d(b,{z:()=>k,p:()=>l});var d=c(8004),e=c(9408),f=c(811),g=c(3321);let h=0,i=0,j=0;function k(a){return(null==a?void 0:a.name)==="AbortError"||(null==a?void 0:a.name)===d.iL}async function l(a,b,c){try{let{errored:k,destroyed:l}=b;if(k||l)return;let m=(0,d.Vy)(b),n=function(a,b){let c=!1,d=new e.q;function k(){d.resolve()}a.on("drain",k),a.once("close",()=>{a.off("drain",k),d.resolve()});let l=new e.q;return a.once("finish",()=>{l.resolve()}),new WritableStream({write:async b=>{if(!c){if(c=!0,"performance"in globalThis&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX){let a=function(a={}){let b=0===h?void 0:{clientComponentLoadStart:h,clientComponentLoadTimes:i,clientComponentLoadCount:j};return a.reset&&(h=0,i=0,j=0),b}();a&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-client-component-loading`,{start:a.clientComponentLoadStart,end:a.clientComponentLoadStart+a.clientComponentLoadTimes})}a.flushHeaders(),(0,f.EK)().trace(g.Fx.startResponse,{spanName:"start response"},()=>void 0)}try{let c=a.write(b);"flush"in a&&"function"==typeof a.flush&&a.flush(),c||(await d.promise,d=new e.q)}catch(b){throw a.end(),Object.defineProperty(Error("failed to write chunk to response",{cause:b}),"__NEXT_ERROR_CODE",{value:"E321",enumerable:!1,configurable:!0})}},abort:b=>{a.writableFinished||a.destroy(b)},close:async()=>{if(b&&await b,!a.writableFinished)return a.end(),l.promise}})}(b,c);await a.pipeTo(n,{signal:m.signal})}catch(a){if(k(a))return;throw Object.defineProperty(Error("failed to pipe response",{cause:a}),"__NEXT_ERROR_CODE",{value:"E180",enumerable:!1,configurable:!0})}}},8964:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f={};((a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})})(f,{SYMBOL_FOR_REQ_CONTEXT:()=>g,getContext:()=>h}),a.exports=((a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a})(b({},"__esModule",{value:!0}),f);let g=Symbol.for("@vercel/request-context");function h(){let a=globalThis;return a[g]?.get?.()??{}}},9197:(a,b,c)=>{"use strict";function d(a){return"("===a[0]&&a.endsWith(")")}c.d(b,{OG:()=>e,V:()=>d});let e="__PAGE__"},9228:(a,b,c)=>{"use strict";c.d(b,{u:()=>j});var d=c(7437),e=c(9879),f=c(9605),g=c(6601),h=c(6947),i="trace",j=(function(){function a(){this._proxyTracerProvider=new e.n,this.wrapSpanContext=f.IP,this.isSpanContextValid=f.YA,this.deleteSpan=g.EW,this.getSpan=g.fU,this.getActiveSpan=g.Bk,this.getSpanContext=g.w8,this.setSpan=g.Bx,this.setSpanContext=g.g_}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalTracerProvider=function(a){var b=(0,d.$G)(i,this._proxyTracerProvider,h.K.instance());return b&&this._proxyTracerProvider.setDelegate(a),b},a.prototype.getTracerProvider=function(){return(0,d.mS)(i)||this._proxyTracerProvider},a.prototype.getTracer=function(a,b){return this.getTracerProvider().getTracer(a,b)},a.prototype.disable=function(){(0,d.kv)(i,h.K.instance()),this._proxyTracerProvider=new e.n},a})().getInstance()},9304:(a,b,c)=>{"use strict";c.d(b,{P:()=>g,Y:()=>f});var d=c(6377),e=c(9197);function f(a){return(0,d.A)(a.split("/").reduce((a,b,c,d)=>!b||(0,e.V)(b)||"@"===b[0]||("page"===b||"route"===b)&&c===d.length-1?a:a+"/"+b,""))}function g(a){return a.replace(/\.rsc($|\?)/,"$1")}},9408:(a,b,c)=>{"use strict";c.d(b,{q:()=>d});class d{constructor(){let a,b;this.promise=new Promise((c,d)=>{a=c,b=d}),this.resolve=a,this.reject=b}}},9420:(a,b,c)=>{"use strict";c.d(b,{ut:()=>cG,wS:()=>cj,gM:()=>cE});var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=c(8460),E=c(5600),F=c(9989),G=c(7034),H=c(8323),I=c(5356).Buffer,J=Symbol.for("vercel.ai.gateway.error"),K=class a extends(e=Error,d=J,e){constructor({message:a,statusCode:b=500,cause:c}){super(a),this[d]=!0,this.statusCode=b,this.cause=c}static isInstance(b){return a.hasMarker(b)}static hasMarker(a){return"object"==typeof a&&null!==a&&J in a&&!0===a[J]}},L="GatewayAuthenticationError",M=Symbol.for(`vercel.ai.gateway.error.${L}`),N=class a extends(g=K,f=M,g){constructor({message:a="Authentication failed",statusCode:b=401,cause:c}={}){super({message:a,statusCode:b,cause:c}),this[f]=!0,this.name=L,this.type="authentication_error"}static isInstance(a){return K.hasMarker(a)&&M in a}static createContextualError({apiKeyProvided:b,oidcTokenProvided:c,message:d="Authentication failed",statusCode:e=401,cause:f}){return new a({message:b?`AI Gateway authentication failed: Invalid API key.

Create a new API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys

Provide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.`:c?`AI Gateway authentication failed: Invalid OIDC token.

Run 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.

Alternatively, use an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys`:`AI Gateway authentication failed: No authentication provided.

Option 1 - API key:
Create an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys
Provide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.

Option 2 - OIDC token:
Run 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.`,statusCode:e,cause:f})}},O="GatewayInvalidRequestError",P=Symbol.for(`vercel.ai.gateway.error.${O}`),Q=class extends(i=K,h=P,i){constructor({message:a="Invalid request",statusCode:b=400,cause:c}={}){super({message:a,statusCode:b,cause:c}),this[h]=!0,this.name=O,this.type="invalid_request_error"}static isInstance(a){return K.hasMarker(a)&&P in a}},R="GatewayRateLimitError",S=Symbol.for(`vercel.ai.gateway.error.${R}`),T=class extends(k=K,j=S,k){constructor({message:a="Rate limit exceeded",statusCode:b=429,cause:c}={}){super({message:a,statusCode:b,cause:c}),this[j]=!0,this.name=R,this.type="rate_limit_exceeded"}static isInstance(a){return K.hasMarker(a)&&S in a}},U="GatewayModelNotFoundError",V=Symbol.for(`vercel.ai.gateway.error.${U}`),W=(0,D.ID)(()=>(0,D.jN)(F.Ik({modelId:F.Yj()}))),X=class extends(m=K,l=V,m){constructor({message:a="Model not found",statusCode:b=404,modelId:c,cause:d}={}){super({message:a,statusCode:b,cause:d}),this[l]=!0,this.name=U,this.type="model_not_found",this.modelId=c}static isInstance(a){return K.hasMarker(a)&&V in a}},Y="GatewayInternalServerError",Z=Symbol.for(`vercel.ai.gateway.error.${Y}`),$=class extends(o=K,n=Z,o){constructor({message:a="Internal server error",statusCode:b=500,cause:c}={}){super({message:a,statusCode:b,cause:c}),this[n]=!0,this.name=Y,this.type="internal_server_error"}static isInstance(a){return K.hasMarker(a)&&Z in a}},_="GatewayResponseError",aa=Symbol.for(`vercel.ai.gateway.error.${_}`),ab=class extends(q=K,p=aa,q){constructor({message:a="Invalid response from Gateway",statusCode:b=502,response:c,validationError:d,cause:e}={}){super({message:a,statusCode:b,cause:e}),this[p]=!0,this.name=_,this.type="response_error",this.response=c,this.validationError=d}static isInstance(a){return K.hasMarker(a)&&aa in a}};async function ac({response:a,statusCode:b,defaultMessage:c="Gateway request failed",cause:d,authMethod:e}){let f=await (0,D.ZZ)({value:a,schema:ad});if(!f.success)return new ab({message:`Invalid error response format: ${c}`,statusCode:b,response:a,validationError:f.error,cause:d});let g=f.value,h=g.error.type,i=g.error.message;switch(h){case"authentication_error":return N.createContextualError({apiKeyProvided:"api-key"===e,oidcTokenProvided:"oidc"===e,statusCode:b,cause:d});case"invalid_request_error":return new Q({message:i,statusCode:b,cause:d});case"rate_limit_exceeded":return new T({message:i,statusCode:b,cause:d});case"model_not_found":{let a=await (0,D.ZZ)({value:g.error.param,schema:W});return new X({message:i,statusCode:b,modelId:a.success?a.value.modelId:void 0,cause:d})}default:return new $({message:i,statusCode:b,cause:d})}}var ad=(0,D.ID)(()=>(0,D.jN)(F.Ik({error:F.Ik({message:F.Yj(),type:F.Yj().nullish(),param:F.L5().nullish(),code:F.KC([F.Yj(),F.ai()]).nullish()})})));function ae(a,b){var c;return K.isInstance(a)?a:E.hL.isInstance(a)?ac({response:function(a){if(void 0!==a.data)return a.data;if(null!=a.responseBody)try{return JSON.parse(a.responseBody)}catch(b){return a.responseBody}return{}}(a),statusCode:null!=(c=a.statusCode)?c:500,defaultMessage:"Gateway request failed",cause:a,authMethod:b}):ac({response:{},statusCode:500,defaultMessage:a instanceof Error?`Gateway request failed: ${a.message}`:"Unknown Gateway error",cause:a,authMethod:b})}var af="ai-gateway-auth-method";async function ag(a){let b=await (0,D.ZZ)({value:a[af],schema:ah});return b.success?b.value:void 0}var ah=(0,D.ID)(()=>(0,D.jN)(F.KC([F.eu("api-key"),F.eu("oidc")]))),ai=class{constructor(a){this.config=a}async getAvailableModels(){try{let{value:a}=await (0,D.$b)({url:`${this.config.baseURL}/config`,headers:await (0,D.hd)(this.config.headers()),successfulResponseHandler:(0,D.cV)(aj),failedResponseHandler:(0,D.sl)({errorSchema:F.bz(),errorToMessage:a=>a}),fetch:this.config.fetch});return a}catch(a){throw await ae(a)}}async getCredits(){try{let a=new URL(this.config.baseURL),{value:b}=await (0,D.$b)({url:`${a.origin}/v1/credits`,headers:await (0,D.hd)(this.config.headers()),successfulResponseHandler:(0,D.cV)(ak),failedResponseHandler:(0,D.sl)({errorSchema:F.bz(),errorToMessage:a=>a}),fetch:this.config.fetch});return b}catch(a){throw await ae(a)}}},aj=(0,D.ID)(()=>(0,D.jN)(F.Ik({models:F.YO(F.Ik({id:F.Yj(),name:F.Yj(),description:F.Yj().nullish(),pricing:F.Ik({input:F.Yj(),output:F.Yj(),input_cache_read:F.Yj().nullish(),input_cache_write:F.Yj().nullish()}).transform(({input:a,output:b,input_cache_read:c,input_cache_write:d})=>({input:a,output:b,...c?{cachedInputTokens:c}:{},...d?{cacheCreationInputTokens:d}:{}})).nullish(),specification:F.Ik({specificationVersion:F.eu("v3"),provider:F.Yj(),modelId:F.Yj()}),modelType:F.k5(["language","embedding","image"]).nullish()}))}))),ak=(0,D.ID)(()=>(0,D.jN)(F.Ik({balance:F.Yj(),total_used:F.Yj()}).transform(({balance:a,total_used:b})=>({balance:a,totalUsed:b})))),al=class{constructor(a,b){this.modelId=a,this.config=b,this.specificationVersion="v3",this.supportedUrls={"*/*":[/.*/]}}get provider(){return this.config.provider}async getArgs(a){let{abortSignal:b,...c}=a;return{args:this.maybeEncodeFileParts(c),warnings:[]}}async doGenerate(a){let{args:b,warnings:c}=await this.getArgs(a),{abortSignal:d}=a,e=await (0,D.hd)(this.config.headers());try{let{responseHeaders:f,value:g,rawValue:h}=await (0,D.GU)({url:this.getUrl(),headers:(0,D.m2)(e,a.headers,this.getModelConfigHeaders(this.modelId,!1),await (0,D.hd)(this.config.o11yHeaders)),body:b,successfulResponseHandler:(0,D.cV)(F.bz()),failedResponseHandler:(0,D.sl)({errorSchema:F.bz(),errorToMessage:a=>a}),...d&&{abortSignal:d},fetch:this.config.fetch});return{...g,request:{body:b},response:{headers:f,body:h},warnings:c}}catch(a){throw await ae(a,await ag(e))}}async doStream(a){let{args:b,warnings:c}=await this.getArgs(a),{abortSignal:d}=a,e=await (0,D.hd)(this.config.headers());try{let{value:f,responseHeaders:g}=await (0,D.GU)({url:this.getUrl(),headers:(0,D.m2)(e,a.headers,this.getModelConfigHeaders(this.modelId,!0),await (0,D.hd)(this.config.o11yHeaders)),body:b,successfulResponseHandler:(0,D.Ds)(F.bz()),failedResponseHandler:(0,D.sl)({errorSchema:F.bz(),errorToMessage:a=>a}),...d&&{abortSignal:d},fetch:this.config.fetch});return{stream:f.pipeThrough(new TransformStream({start(a){c.length>0&&a.enqueue({type:"stream-start",warnings:c})},transform(b,c){if(b.success){let d=b.value;("raw"!==d.type||a.includeRawChunks)&&("response-metadata"===d.type&&d.timestamp&&"string"==typeof d.timestamp&&(d.timestamp=new Date(d.timestamp)),c.enqueue(d))}else c.error(b.error)}})),request:{body:b},response:{headers:g}}}catch(a){throw await ae(a,await ag(e))}}isFilePart(a){return a&&"object"==typeof a&&"type"in a&&"file"===a.type}maybeEncodeFileParts(a){for(let b of a.prompt)for(let a of b.content)if(this.isFilePart(a)&&a.data instanceof Uint8Array){let b=Uint8Array.from(a.data),c=I.from(b).toString("base64");a.data=new URL(`data:${a.mediaType||"application/octet-stream"};base64,${c}`)}return a}getUrl(){return`${this.config.baseURL}/language-model`}getModelConfigHeaders(a,b){return{"ai-language-model-specification-version":"3","ai-language-model-id":a,"ai-language-model-streaming":String(b)}}},am=class{constructor(a,b){this.modelId=a,this.config=b,this.specificationVersion="v3",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0}get provider(){return this.config.provider}async doEmbed({values:a,headers:b,abortSignal:c,providerOptions:d}){var e;let f=await (0,D.hd)(this.config.headers());try{let{responseHeaders:g,value:h,rawValue:i}=await (0,D.GU)({url:this.getUrl(),headers:(0,D.m2)(f,null!=b?b:{},this.getModelConfigHeaders(),await (0,D.hd)(this.config.o11yHeaders)),body:{values:a,...d?{providerOptions:d}:{}},successfulResponseHandler:(0,D.cV)(an),failedResponseHandler:(0,D.sl)({errorSchema:F.bz(),errorToMessage:a=>a}),...c&&{abortSignal:c},fetch:this.config.fetch});return{embeddings:h.embeddings,usage:null!=(e=h.usage)?e:void 0,providerMetadata:h.providerMetadata,response:{headers:g,body:i},warnings:[]}}catch(a){throw await ae(a,await ag(f))}}getUrl(){return`${this.config.baseURL}/embedding-model`}getModelConfigHeaders(){return{"ai-embedding-model-specification-version":"3","ai-model-id":this.modelId}}},an=(0,D.ID)(()=>(0,D.jN)(F.Ik({embeddings:F.YO(F.YO(F.ai())),usage:F.Ik({tokens:F.ai()}).nullish(),providerMetadata:F.g1(F.Yj(),F.g1(F.Yj(),F.L5())).optional()}))),ao=class{constructor(a,b){this.modelId=a,this.config=b,this.specificationVersion="v3",this.maxImagesPerCall=Number.MAX_SAFE_INTEGER}get provider(){return this.config.provider}async doGenerate({prompt:a,n:b,size:c,aspectRatio:d,seed:e,files:f,mask:g,providerOptions:h,headers:i,abortSignal:j}){var k;let l=await (0,D.hd)(this.config.headers());try{let{responseHeaders:m,value:n,rawValue:o}=await (0,D.GU)({url:this.getUrl(),headers:(0,D.m2)(l,null!=i?i:{},this.getModelConfigHeaders(),await (0,D.hd)(this.config.o11yHeaders)),body:{prompt:a,n:b,...c&&{size:c},...d&&{aspectRatio:d},...e&&{seed:e},...h&&{providerOptions:h},...f&&{files:f.map(a=>ap(a))},...g&&{mask:ap(g)}},successfulResponseHandler:(0,D.cV)(ar),failedResponseHandler:(0,D.sl)({errorSchema:F.bz(),errorToMessage:a=>a}),...j&&{abortSignal:j},fetch:this.config.fetch});return{images:n.images,warnings:null!=(k=n.warnings)?k:[],providerMetadata:n.providerMetadata,response:{timestamp:new Date,modelId:this.modelId,headers:m}}}catch(a){throw ae(a,await ag(l))}}getUrl(){return`${this.config.baseURL}/image-model`}getModelConfigHeaders(){return{"ai-image-model-specification-version":"3","ai-model-id":this.modelId}}};function ap(a){return"file"===a.type&&a.data instanceof Uint8Array?{...a,data:(0,D.n_)(a.data)}:a}var aq=F.Ik({images:F.YO(F.L5()).optional()}).catchall(F.L5()),ar=F.Ik({images:F.YO(F.Yj()),warnings:F.YO(F.Ik({type:F.eu("other"),message:F.Yj()})).optional(),providerMetadata:F.g1(F.Yj(),aq).optional()}),as=(0,D.ID)(()=>(0,D.jN)(G.Ik({query:G.KC([G.Yj(),G.YO(G.Yj())]).describe("Search query (string) or multiple queries (array of up to 5 strings). Multi-query searches return combined results from all queries."),max_results:G.ai().optional().describe("Maximum number of search results to return (1-20, default: 10)"),max_tokens_per_page:G.ai().optional().describe("Maximum number of tokens to extract per search result page (256-2048, default: 2048)"),max_tokens:G.ai().optional().describe("Maximum total tokens across all search results (default: 25000, max: 1000000)"),country:G.Yj().optional().describe("Two-letter ISO 3166-1 alpha-2 country code for regional search results (e.g., 'US', 'GB', 'FR')"),search_domain_filter:G.YO(G.Yj()).optional().describe("List of domains to include or exclude from search results (max 20). To include: ['nature.com', 'science.org']. To exclude: ['-example.com', '-spam.net']"),search_language_filter:G.YO(G.Yj()).optional().describe("List of ISO 639-1 language codes to filter results (max 10, lowercase). Examples: ['en', 'fr', 'de']"),search_after_date:G.Yj().optional().describe("Include only results published after this date. Format: 'MM/DD/YYYY' (e.g., '3/1/2025'). Cannot be used with search_recency_filter."),search_before_date:G.Yj().optional().describe("Include only results published before this date. Format: 'MM/DD/YYYY' (e.g., '3/15/2025'). Cannot be used with search_recency_filter."),last_updated_after_filter:G.Yj().optional().describe("Include only results last updated after this date. Format: 'MM/DD/YYYY' (e.g., '3/1/2025'). Cannot be used with search_recency_filter."),last_updated_before_filter:G.Yj().optional().describe("Include only results last updated before this date. Format: 'MM/DD/YYYY' (e.g., '3/15/2025'). Cannot be used with search_recency_filter."),search_recency_filter:G.k5(["day","week","month","year"]).optional().describe("Filter results by relative time period. Cannot be used with search_after_date or search_before_date.")}))),at=(0,D.ID)(()=>(0,D.jN)(G.KC([G.Ik({results:G.YO(G.Ik({title:G.Yj(),url:G.Yj(),snippet:G.Yj(),date:G.Yj().optional(),lastUpdated:G.Yj().optional()})),id:G.Yj()}),G.Ik({error:G.k5(["api_error","rate_limit","timeout","invalid_input","unknown"]),statusCode:G.ai().optional(),message:G.Yj()})]))),au=(0,D.wA)({id:"gateway.perplexity_search",inputSchema:as,outputSchema:at}),av={perplexitySearch:(a={})=>au(a)};async function aw(){var a;return null==(a=(0,H.getContext)().headers)?void 0:a["x-vercel-id"]}var ax=function(a={}){var b,c;let d=null,e=null,f=null!=(b=a.metadataCacheRefreshMillis)?b:3e5,g=0,h=null!=(c=(0,D.ae)(a.baseURL))?c:"https://ai-gateway.vercel.sh/v3/ai",i=async()=>{try{let b=await ay(a);return(0,D.WZ)({Authorization:`Bearer ${b.token}`,"ai-gateway-protocol-version":"0.0.1",[af]:b.authMethod,...a.headers},"ai-sdk/gateway/3.0.16")}catch(a){throw N.createContextualError({apiKeyProvided:!1,oidcTokenProvided:!1,statusCode:401,cause:a})}},j=()=>{let a=(0,D.x3)({settingValue:void 0,environmentVariableName:"VERCEL_DEPLOYMENT_ID"}),b=(0,D.x3)({settingValue:void 0,environmentVariableName:"VERCEL_ENV"}),c=(0,D.x3)({settingValue:void 0,environmentVariableName:"VERCEL_REGION"});return async()=>{let d=await aw();return{...a&&{"ai-o11y-deployment-id":a},...b&&{"ai-o11y-environment":b},...c&&{"ai-o11y-region":c},...d&&{"ai-o11y-request-id":d}}}},k=b=>new al(b,{provider:"gateway",baseURL:h,headers:i,fetch:a.fetch,o11yHeaders:j()}),l=async()=>{var b,c,j;let k=null!=(j=null==(c=null==(b=a._internal)?void 0:b.currentDate)?void 0:c.call(b).getTime())?j:Date.now();return(!d||k-g>f)&&(g=k,d=new ai({baseURL:h,headers:i,fetch:a.fetch}).getAvailableModels().then(a=>(e=a,a)).catch(async a=>{throw await ae(a,await ag(await i()))})),e?Promise.resolve(e):d},m=async()=>new ai({baseURL:h,headers:i,fetch:a.fetch}).getCredits().catch(async a=>{throw await ae(a,await ag(await i()))}),n=function(a){if(new.target)throw Error("The Gateway Provider model function cannot be called with the new keyword.");return k(a)};n.specificationVersion="v3",n.getAvailableModels=l,n.getCredits=m,n.imageModel=b=>new ao(b,{provider:"gateway",baseURL:h,headers:i,fetch:a.fetch,o11yHeaders:j()}),n.languageModel=k;let o=b=>new am(b,{provider:"gateway",baseURL:h,headers:i,fetch:a.fetch,o11yHeaders:j()});return n.embeddingModel=o,n.textEmbeddingModel=o,n.tools=av,n}();async function ay(a){let b=(0,D.x3)({settingValue:a.apiKey,environmentVariableName:"AI_GATEWAY_API_KEY"});return b?{token:b,authMethod:"api-key"}:{token:await (0,H.getVercelOidcToken)(),authMethod:"oidc"}}var az=c(9228),aA=c(7014),aB=c(546),aC=Object.defineProperty,aD="AI_InvalidArgumentError",aE=`vercel.ai.error.${aD}`,aF=Symbol.for(aE),aG=class extends E.bD{constructor({parameter:a,value:b,message:c}){super({name:aD,message:`Invalid argument for parameter ${a}: ${c}`}),this[r]=!0,this.parameter=a,this.value=b}static isInstance(a){return E.bD.hasMarker(a,aE)}};r=aF;Symbol.for("vercel.ai.error.AI_InvalidStreamPartError");E.bD;var aH="AI_InvalidToolApprovalError",aI=`vercel.ai.error.${aH}`,aJ=Symbol.for(aI),aK=class extends E.bD{constructor({approvalId:a}){super({name:aH,message:`Tool approval response references unknown approvalId: "${a}". No matching tool-approval-request found in message history.`}),this[s]=!0,this.approvalId=a}static isInstance(a){return E.bD.hasMarker(a,aI)}};s=aJ;var aL="AI_InvalidToolInputError",aM=`vercel.ai.error.${aL}`,aN=Symbol.for(aM),aO=class extends E.bD{constructor({toolInput:a,toolName:b,cause:c,message:d=`Invalid input for tool ${b}: ${(0,E.u1)(c)}`}){super({name:aL,message:d,cause:c}),this[t]=!0,this.toolInput=a,this.toolName=b}static isInstance(a){return E.bD.hasMarker(a,aM)}};t=aN;var aP="AI_ToolCallNotFoundForApprovalError",aQ=`vercel.ai.error.${aP}`,aR=Symbol.for(aQ),aS=class extends E.bD{constructor({toolCallId:a,approvalId:b}){super({name:aP,message:`Tool call "${a}" not found for approval request "${b}".`}),this[u]=!0,this.toolCallId=a,this.approvalId=b}static isInstance(a){return E.bD.hasMarker(a,aQ)}};u=aR;Symbol.for("vercel.ai.error.AI_NoImageGeneratedError");E.bD;var aT="AI_NoObjectGeneratedError",aU=`vercel.ai.error.${aT}`,aV=Symbol.for(aU),aW=class extends E.bD{constructor({message:a="No object generated.",cause:b,text:c,response:d,usage:e,finishReason:f}){super({name:aT,message:a,cause:b}),this[v]=!0,this.text=c,this.response=d,this.usage=e,this.finishReason=f}static isInstance(a){return E.bD.hasMarker(a,aU)}};v=aV;var aX="AI_NoOutputGeneratedError",aY=`vercel.ai.error.${aX}`,aZ=Symbol.for(aY),a$=class extends E.bD{constructor({message:a="No output generated.",cause:b}={}){super({name:aX,message:a,cause:b}),this[w]=!0}static isInstance(a){return E.bD.hasMarker(a,aY)}};w=aZ,E.bD;var a_="AI_NoSuchToolError",a0=`vercel.ai.error.${a_}`,a1=Symbol.for(a0),a2=class extends E.bD{constructor({toolName:a,availableTools:b,message:c=`Model tried to call unavailable tool '${a}'. ${void 0===b?"No tools are available.":`Available tools: ${b.join(", ")}.`}`}){super({name:a_,message:c}),this[x]=!0,this.toolName=a,this.availableTools=b}static isInstance(a){return E.bD.hasMarker(a,a0)}};x=a1;var a3="AI_ToolCallRepairError",a4=`vercel.ai.error.${a3}`,a5=Symbol.for(a4),a6=class extends E.bD{constructor({cause:a,originalError:b,message:c=`Error repairing tool call: ${(0,E.u1)(a)}`}){super({name:a3,message:c,cause:a}),this[y]=!0,this.originalError=b}static isInstance(a){return E.bD.hasMarker(a,a4)}};y=a5;var a7=class extends E.bD{constructor(a){super({name:"AI_UnsupportedModelVersionError",message:`Unsupported model version ${a.version} for provider "${a.provider}" and model "${a.modelId}". AI SDK 5 only supports models that implement specification version "v2".`}),this.version=a.version,this.provider=a.provider,this.modelId=a.modelId}},a8="AI_UIMessageStreamError",a9=`vercel.ai.error.${a8}`,ba=Symbol.for(a9),bb=class extends E.bD{constructor({chunkType:a,chunkId:b,message:c}){super({name:a8,message:c}),this[z]=!0,this.chunkType=a,this.chunkId=b}static isInstance(a){return E.bD.hasMarker(a,a9)}};z=ba;Symbol.for("vercel.ai.error.AI_InvalidDataContentError");E.bD;var bc="AI_InvalidMessageRoleError",bd=`vercel.ai.error.${bc}`,be=Symbol.for(bd),bf=class extends E.bD{constructor({role:a,message:b=`Invalid message role: '${a}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:bc,message:b}),this[A]=!0,this.role=a}static isInstance(a){return E.bD.hasMarker(a,bd)}};A=be;var bg="AI_MessageConversionError",bh=`vercel.ai.error.${bg}`,bi=Symbol.for(bh),bj=class extends E.bD{constructor({originalMessage:a,message:b}){super({name:bg,message:b}),this[B]=!0,this.originalMessage=a}static isInstance(a){return E.bD.hasMarker(a,bh)}};B=bi;var bk="AI_RetryError",bl=`vercel.ai.error.${bk}`,bm=Symbol.for(bl),bn=class extends E.bD{constructor({message:a,reason:b,errors:c}){super({name:bk,message:a}),this[C]=!0,this.reason=b,this.errors=c,this.lastError=c[c.length-1]}static isInstance(a){return E.bD.hasMarker(a,bl)}};C=bm;var bo=!1,bp=a=>{if(0===a.warnings.length)return;let b=globalThis.AI_SDK_LOG_WARNINGS;if(!1!==b){if("function"==typeof b)return void b(a);for(let b of(bo||(bo=!0,console.info("AI SDK Warning System: To turn off warning logging, set the AI_SDK_LOG_WARNINGS global to false.")),a.warnings))console.warn(function({warning:a,provider:b,model:c}){let d=`AI SDK Warning (${b} / ${c}):`;switch(a.type){case"unsupported":{let b=`${d} The feature "${a.feature}" is not supported.`;return a.details&&(b+=` ${a.details}`),b}case"compatibility":{let b=`${d} The feature "${a.feature}" is used in a compatibility mode.`;return a.details&&(b+=` ${a.details}`),b}case"other":return`${d} ${a.message}`;default:return`${d} ${JSON.stringify(a,null,2)}`}}({warning:b,provider:a.provider,model:a.model}))}};function bq(a){return{unified:"unknown"===a?"other":a,raw:void 0}}function br(a){return{inputTokens:{total:a.inputTokens,noCache:void 0,cacheRead:a.cachedInputTokens,cacheWrite:void 0},outputTokens:{total:a.outputTokens,text:void 0,reasoning:a.reasoningTokens}}}function bs(a){var b;if("string"!=typeof a){if("v3"!==a.specificationVersion&&"v2"!==a.specificationVersion)throw new a7({version:a.specificationVersion,provider:a.provider,modelId:a.modelId});return"v3"===a.specificationVersion?a:(!function({provider:a,modelId:b}){bp({warnings:[{type:"compatibility",feature:"specificationVersion",details:"Using v2 specification compatibility mode. Some features may not be available."}],provider:a,model:b})}({provider:a.provider,modelId:a.modelId}),new Proxy(a,{get(a,b){switch(b){case"specificationVersion":return"v3";case"doGenerate":return async(...b)=>{let c=await a.doGenerate(...b);return{...c,finishReason:bq(c.finishReason),usage:br(c.usage)}};case"doStream":return async(...b)=>{let c=await a.doStream(...b);return{...c,stream:c.stream.pipeThrough(new TransformStream({transform(a,b){"finish"===a.type?b.enqueue({...a,finishReason:bq(a.finishReason),usage:br(a.usage)}):b.enqueue(a)}}))}};default:return a[b]}}}))}return(null!=(b=globalThis.AI_SDK_DEFAULT_PROVIDER)?b:ax).languageModel(a)}function bt(a){if(null!=a)return"number"==typeof a?a:a.totalMs}var bu=[{mediaType:"image/gif",bytesPrefix:[71,73,70]},{mediaType:"image/png",bytesPrefix:[137,80,78,71]},{mediaType:"image/jpeg",bytesPrefix:[255,216]},{mediaType:"image/webp",bytesPrefix:[82,73,70,70,null,null,null,null,87,69,66,80]},{mediaType:"image/bmp",bytesPrefix:[66,77]},{mediaType:"image/tiff",bytesPrefix:[73,73,42,0]},{mediaType:"image/tiff",bytesPrefix:[77,77,0,42]},{mediaType:"image/avif",bytesPrefix:[0,0,0,32,102,116,121,112,97,118,105,102]},{mediaType:"image/heic",bytesPrefix:[0,0,0,32,102,116,121,112,104,101,105,99]}],bv=async({url:a})=>{var b;let c=a.toString();try{let a=await fetch(c,{headers:(0,D.WZ)({},"ai-sdk/6.0.39",(0,D.G1)())});if(!a.ok)throw new D.nV({url:c,statusCode:a.status,statusText:a.statusText});return{data:new Uint8Array(await a.arrayBuffer()),mediaType:null!=(b=a.headers.get("content-type"))?b:void 0}}catch(a){if(D.nV.isInstance(a))throw a;throw new D.nV({url:c,cause:a})}},bw=F.KC([F.Yj(),F.Nl(Uint8Array),F.Nl(ArrayBuffer),F.Ie(a=>{var b,c;return null!=(c=null==(b=globalThis.Buffer)?void 0:b.isBuffer(a))&&c},{message:"Must be a Buffer"})]);function bx(a){if(a instanceof Uint8Array)return{data:a,mediaType:void 0};if(a instanceof ArrayBuffer)return{data:new Uint8Array(a),mediaType:void 0};if("string"==typeof a)try{a=new URL(a)}catch(a){}if(a instanceof URL&&"data:"===a.protocol){let{mediaType:b,base64Content:c}=function(a){try{let[b,c]=a.split(",");return{mediaType:b.split(";")[0].split(":")[1],base64Content:c}}catch(a){return{mediaType:void 0,base64Content:void 0}}}(a.toString());if(null==b||null==c)throw new E.bD({name:"InvalidDataContentError",message:`Invalid data URL format in content ${a.toString()}`});return{data:c,mediaType:b}}return{data:a,mediaType:void 0}}function by(a){return void 0===a?[]:Array.isArray(a)?a:[a]}async function bz({prompt:a,supportedUrls:b,download:c=((a=bv)=>b=>Promise.all(b.map(async b=>b.isUrlSupportedByModel?null:a(b))))()}){let d=await bA(a.messages,c,b),e=[...null!=a.system?"string"==typeof a.system?[{role:"system",content:a.system}]:by(a.system).map(a=>({role:"system",content:a.content,providerOptions:a.providerOptions})):[],...a.messages.map(a=>(function({message:a,downloadedAssets:b}){let c=a.role;switch(c){case"system":return{role:"system",content:a.content,providerOptions:a.providerOptions};case"user":if("string"==typeof a.content)return{role:"user",content:[{type:"text",text:a.content}],providerOptions:a.providerOptions};return{role:"user",content:a.content.map(a=>(function(a,b){var c;let d;if("text"===a.type)return{type:"text",text:a.text,providerOptions:a.providerOptions};let e=a.type;switch(e){case"image":d=a.image;break;case"file":d=a.data;break;default:throw Error(`Unsupported part type: ${e}`)}let{data:f,mediaType:g}=bx(d),h=null!=g?g:a.mediaType,i=f;if(i instanceof URL){let a=b[i.toString()];a&&(i=a.data,null!=h||(h=a.mediaType))}switch(e){case"image":return(i instanceof Uint8Array||"string"==typeof i)&&(h=null!=(c=function({data:a,signatures:b}){let c="string"==typeof a&&a.startsWith("SUQz")||"string"!=typeof a&&a.length>10&&73===a[0]&&68===a[1]&&51===a[2]?(a=>{let b="string"==typeof a?(0,D.Z9)(a):a,c=(127&b[6])<<21|(127&b[7])<<14|(127&b[8])<<7|127&b[9];return b.slice(c+10)})(a):a,d="string"==typeof c?(0,D.Z9)(c.substring(0,Math.min(c.length,24))):c;for(let a of b)if(d.length>=a.bytesPrefix.length&&a.bytesPrefix.every((a,b)=>null===a||d[b]===a))return a.mediaType}({data:i,signatures:bu}))?c:h),{type:"file",mediaType:null!=h?h:"image/*",filename:void 0,data:i,providerOptions:a.providerOptions};case"file":if(null==h)throw Error("Media type is missing for file part");return{type:"file",mediaType:h,filename:a.filename,data:i,providerOptions:a.providerOptions}}})(a,b)).filter(a=>"text"!==a.type||""!==a.text),providerOptions:a.providerOptions};case"assistant":if("string"==typeof a.content)return{role:"assistant",content:[{type:"text",text:a.content}],providerOptions:a.providerOptions};return{role:"assistant",content:a.content.filter(a=>"text"!==a.type||""!==a.text||null!=a.providerOptions).filter(a=>"tool-approval-request"!==a.type).map(a=>{let b=a.providerOptions;switch(a.type){case"file":{let{data:c,mediaType:d}=bx(a.data);return{type:"file",data:c,filename:a.filename,mediaType:null!=d?d:a.mediaType,providerOptions:b}}case"reasoning":return{type:"reasoning",text:a.text,providerOptions:b};case"text":return{type:"text",text:a.text,providerOptions:b};case"tool-call":return{type:"tool-call",toolCallId:a.toolCallId,toolName:a.toolName,input:a.input,providerExecuted:a.providerExecuted,providerOptions:b};case"tool-result":return{type:"tool-result",toolCallId:a.toolCallId,toolName:a.toolName,output:bB(a.output),providerOptions:b}}}),providerOptions:a.providerOptions};case"tool":return{role:"tool",content:a.content.filter(a=>"tool-approval-response"!==a.type||a.providerExecuted).map(a=>{switch(a.type){case"tool-result":return{type:"tool-result",toolCallId:a.toolCallId,toolName:a.toolName,output:bB(a.output),providerOptions:a.providerOptions};case"tool-approval-response":return{type:"tool-approval-response",approvalId:a.approvalId,approved:a.approved,reason:a.reason}}}),providerOptions:a.providerOptions};default:throw new bf({role:c})}})({message:a,downloadedAssets:d}))],f=[];for(let a of e){if("tool"!==a.role){f.push(a);continue}let b=f.at(-1);(null==b?void 0:b.role)==="tool"?b.content.push(...a.content):f.push(a)}return f}async function bA(a,b,c){let d=a.filter(a=>"user"===a.role).map(a=>a.content).filter(a=>Array.isArray(a)).flat().filter(a=>"image"===a.type||"file"===a.type).map(a=>{var b;let c=null!=(b=a.mediaType)?b:"image"===a.type?"image/*":void 0,d="image"===a.type?a.image:a.data;if("string"==typeof d)try{d=new URL(d)}catch(a){}return{mediaType:c,data:d}}).filter(a=>a.data instanceof URL).map(a=>({url:a.data,isUrlSupportedByModel:null!=a.mediaType&&(0,D.qs)({url:a.data.toString(),mediaType:a.mediaType,supportedUrls:c})}));return Object.fromEntries((await b(d)).map((a,b)=>null==a?null:[d[b].url.toString(),{data:a.data,mediaType:a.mediaType}]).filter(a=>null!=a))}function bB(a){return"content"!==a.type?a:{type:"content",value:a.value.map(a=>"media"!==a.type?a:a.mediaType.startsWith("image/")?{type:"image-data",data:a.data,mediaType:a.mediaType}:{type:"file-data",data:a.data,mediaType:a.mediaType})}}async function bC({toolCallId:a,input:b,output:c,tool:d,errorMode:e}){return"text"===e?{type:"error-text",value:(0,E.u1)(c)}:"json"===e?{type:"error-json",value:bD(c)}:(null==d?void 0:d.toModelOutput)?await d.toModelOutput({toolCallId:a,input:b,output:c}):"string"==typeof c?{type:"text",value:c}:{type:"json",value:bD(c)}}function bD(a){return void 0===a?null:a}async function bE({tools:a,toolChoice:b,activeTools:c}){if(!(null!=a&&Object.keys(a).length>0))return{tools:void 0,toolChoice:void 0};let d=null!=c?Object.entries(a).filter(([a])=>c.includes(a)):Object.entries(a),e=[];for(let[a,b]of d){let c=b.type;switch(c){case void 0:case"dynamic":case"function":e.push({type:"function",name:a,description:b.description,inputSchema:await (0,D.mD)(b.inputSchema).jsonSchema,...null!=b.inputExamples?{inputExamples:b.inputExamples}:{},providerOptions:b.providerOptions,...null!=b.strict?{strict:b.strict}:{}});break;case"provider":e.push({type:"provider",name:a,id:b.id,args:b.args});break;default:throw Error(`Unsupported tool type: ${c}`)}}return{tools:e,toolChoice:null==b?{type:"auto"}:"string"==typeof b?{type:b}:{type:"tool",toolName:b.toolName}}}var bF=F.RZ(()=>F.KC([F.ch(),F.Yj(),F.ai(),F.zM(),F.g1(F.Yj(),bF.optional()),F.YO(bF)])),bG=F.g1(F.Yj(),F.g1(F.Yj(),bF.optional())),bH=F.Ik({type:F.eu("text"),text:F.Yj(),providerOptions:bG.optional()}),bI=F.Ik({type:F.eu("image"),image:F.KC([bw,F.Nl(URL)]),mediaType:F.Yj().optional(),providerOptions:bG.optional()}),bJ=F.Ik({type:F.eu("file"),data:F.KC([bw,F.Nl(URL)]),filename:F.Yj().optional(),mediaType:F.Yj(),providerOptions:bG.optional()}),bK=F.Ik({type:F.eu("reasoning"),text:F.Yj(),providerOptions:bG.optional()}),bL=F.Ik({type:F.eu("tool-call"),toolCallId:F.Yj(),toolName:F.Yj(),input:F.L5(),providerOptions:bG.optional(),providerExecuted:F.zM().optional()}),bM=F.gM("type",[F.Ik({type:F.eu("text"),value:F.Yj(),providerOptions:bG.optional()}),F.Ik({type:F.eu("json"),value:bF,providerOptions:bG.optional()}),F.Ik({type:F.eu("execution-denied"),reason:F.Yj().optional(),providerOptions:bG.optional()}),F.Ik({type:F.eu("error-text"),value:F.Yj(),providerOptions:bG.optional()}),F.Ik({type:F.eu("error-json"),value:bF,providerOptions:bG.optional()}),F.Ik({type:F.eu("content"),value:F.YO(F.KC([F.Ik({type:F.eu("text"),text:F.Yj(),providerOptions:bG.optional()}),F.Ik({type:F.eu("media"),data:F.Yj(),mediaType:F.Yj()}),F.Ik({type:F.eu("file-data"),data:F.Yj(),mediaType:F.Yj(),filename:F.Yj().optional(),providerOptions:bG.optional()}),F.Ik({type:F.eu("file-url"),url:F.Yj(),providerOptions:bG.optional()}),F.Ik({type:F.eu("file-id"),fileId:F.KC([F.Yj(),F.g1(F.Yj(),F.Yj())]),providerOptions:bG.optional()}),F.Ik({type:F.eu("image-data"),data:F.Yj(),mediaType:F.Yj(),providerOptions:bG.optional()}),F.Ik({type:F.eu("image-url"),url:F.Yj(),providerOptions:bG.optional()}),F.Ik({type:F.eu("image-file-id"),fileId:F.KC([F.Yj(),F.g1(F.Yj(),F.Yj())]),providerOptions:bG.optional()}),F.Ik({type:F.eu("custom"),providerOptions:bG.optional()})]))})]),bN=F.Ik({type:F.eu("tool-result"),toolCallId:F.Yj(),toolName:F.Yj(),output:bM,providerOptions:bG.optional()}),bO=F.Ik({type:F.eu("tool-approval-request"),approvalId:F.Yj(),toolCallId:F.Yj()}),bP=F.Ik({type:F.eu("tool-approval-response"),approvalId:F.Yj(),approved:F.zM(),reason:F.Yj().optional()}),bQ=F.Ik({role:F.eu("system"),content:F.Yj(),providerOptions:bG.optional()}),bR=F.Ik({role:F.eu("user"),content:F.KC([F.Yj(),F.YO(F.KC([bH,bI,bJ]))]),providerOptions:bG.optional()}),bS=F.Ik({role:F.eu("assistant"),content:F.KC([F.Yj(),F.YO(F.KC([bH,bJ,bK,bL,bN,bO]))]),providerOptions:bG.optional()}),bT=F.Ik({role:F.eu("tool"),content:F.YO(F.KC([bN,bP])),providerOptions:bG.optional()}),bU=F.KC([bQ,bR,bS,bT]);async function bV(a){let b;if(null==a.prompt&&null==a.messages)throw new E.M3({prompt:a,message:"prompt or messages must be defined"});if(null!=a.prompt&&null!=a.messages)throw new E.M3({prompt:a,message:"prompt and messages cannot be defined at the same time"});if(null!=a.system&&"string"!=typeof a.system&&!by(a.system).every(a=>"object"==typeof a&&null!==a&&"role"in a&&"system"===a.role))throw new E.M3({prompt:a,message:"system must be a string, SystemModelMessage, or array of SystemModelMessage"});if(null!=a.prompt&&"string"==typeof a.prompt)b=[{role:"user",content:a.prompt}];else if(null!=a.prompt&&Array.isArray(a.prompt))b=a.prompt;else if(null!=a.messages)b=a.messages;else throw new E.M3({prompt:a,message:"prompt or messages must be defined"});if(0===b.length)throw new E.M3({prompt:a,message:"messages must not be empty"});let c=await (0,D.ZZ)({value:b,schema:F.YO(bU)});if(!c.success)throw new E.M3({prompt:a,message:"The messages do not match the ModelMessage[] schema.",cause:c.error});return{messages:b,system:a.system}}function bW({operationId:a,telemetry:b}){return{"operation.name":`${a}${(null==b?void 0:b.functionId)!=null?` ${b.functionId}`:""}`,"resource.name":null==b?void 0:b.functionId,"ai.operationId":a,"ai.telemetry.functionId":null==b?void 0:b.functionId}}var bX={startSpan:()=>bY,startActiveSpan:(a,b,c,d)=>"function"==typeof b?b(bY):"function"==typeof c?c(bY):"function"==typeof d?d(bY):void 0},bY={spanContext:()=>bZ,setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording:()=>!1,recordException(){return this}},bZ={traceId:"",spanId:"",traceFlags:0};async function b$({name:a,tracer:b,attributes:c,fn:d,endWhenDone:e=!0}){return b.startActiveSpan(a,{attributes:await c},async a=>{let b=aA._.active();try{let c=await aA._.with(b,()=>d(a));return e&&a.end(),c}catch(b){try{b_(a,b)}finally{a.end()}throw b}})}function b_(a,b){b instanceof Error?(a.recordException({name:b.name,message:b.message,stack:b.stack}),a.setStatus({code:aB.s.ERROR,message:b.message})):a.setStatus({code:aB.s.ERROR})}async function b0({telemetry:a,attributes:b}){if((null==a?void 0:a.isEnabled)!==!0)return{};let c={};for(let[d,e]of Object.entries(b))if(null!=e){if("object"==typeof e&&"input"in e&&"function"==typeof e.input){if((null==a?void 0:a.recordInputs)===!1)continue;let b=await e.input();null!=b&&(c[d]=b);continue}if("object"==typeof e&&"output"in e&&"function"==typeof e.output){if((null==a?void 0:a.recordOutputs)===!1)continue;let b=await e.output();null!=b&&(c[d]=b);continue}c[d]=e}return c}function b1(){return{inputTokens:void 0,inputTokenDetails:{noCacheTokens:void 0,cacheReadTokens:void 0,cacheWriteTokens:void 0},outputTokens:void 0,outputTokenDetails:{textTokens:void 0,reasoningTokens:void 0},totalTokens:void 0,raw:void 0}}function b2(a,b){return null==a&&null==b?void 0:(null!=a?a:0)+(null!=b?b:0)}function b3(a,b){if(void 0===a&&void 0===b)return;if(void 0===a)return b;if(void 0===b)return a;let c={...a};for(let d in b)if(Object.prototype.hasOwnProperty.call(b,d)){let e=b[d];if(void 0===e)continue;let f=d in a?a[d]:void 0,g=null!==e&&"object"==typeof e&&!Array.isArray(e)&&!(e instanceof Date)&&!(e instanceof RegExp),h=null!=f&&"object"==typeof f&&!Array.isArray(f)&&!(f instanceof Date)&&!(f instanceof RegExp);g&&h?c[d]=b3(f,e):c[d]=e}return c}async function b4(a,{maxRetries:b,delayInMs:c,backoffFactor:d,abortSignal:e},f=[]){try{return await a()}catch(j){if((0,D.zf)(j)||0===b)throw j;let g=(0,D.u1)(j),h=[...f,j],i=h.length;if(i>b)throw new bn({message:`Failed after ${i} attempts. Last error: ${g}`,reason:"maxRetriesExceeded",errors:h});if(j instanceof Error&&E.hL.isInstance(j)&&!0===j.isRetryable&&i<=b)return await (0,D.cb)(function({error:a,exponentialBackoffDelay:b}){let c,d=a.responseHeaders;if(!d)return b;let e=d["retry-after-ms"];if(e){let a=parseFloat(e);Number.isNaN(a)||(c=a)}let f=d["retry-after"];if(f&&void 0===c){let a=parseFloat(f);c=Number.isNaN(a)?Date.parse(f)-Date.now():1e3*a}return null!=c&&!Number.isNaN(c)&&0<=c&&(c<6e4||c<b)?c:b}({error:j,exponentialBackoffDelay:c}),{abortSignal:e}),b4(a,{maxRetries:b,delayInMs:d*c,backoffFactor:d,abortSignal:e},h);if(1===i)throw j;throw new bn({message:`Failed after ${i} attempts with non-retryable error: '${g}'`,reason:"errorNotRetryable",errors:h})}}async function b5({toolCall:a,tools:b,tracer:c,telemetry:d,messages:e,abortSignal:f,experimental_context:g,onPreliminaryToolResult:h}){let{toolName:i,toolCallId:j,input:k}=a,l=null==b?void 0:b[i];if((null==l?void 0:l.execute)!=null)return b$({name:"ai.toolCall",attributes:b0({telemetry:d,attributes:{...bW({operationId:"ai.toolCall",telemetry:d}),"ai.toolCall.name":i,"ai.toolCall.id":j,"ai.toolCall.args":{output:()=>JSON.stringify(k)}}}),tracer:c,fn:async b=>{let c;try{for await(let b of(0,D.o8)({execute:l.execute.bind(l),input:k,options:{toolCallId:j,messages:e,abortSignal:f,experimental_context:g}}))"preliminary"===b.type?null==h||h({...a,type:"tool-result",output:b.output,preliminary:!0}):c=b.output}catch(c){return b_(b,c),{type:"tool-error",toolCallId:j,toolName:i,input:k,error:c,dynamic:"dynamic"===l.type,...null!=a.providerMetadata?{providerMetadata:a.providerMetadata}:{}}}try{b.setAttributes(await b0({telemetry:d,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(c)}}}))}catch(a){}return{type:"tool-result",toolCallId:j,toolName:i,input:k,output:c,dynamic:"dynamic"===l.type,...null!=a.providerMetadata?{providerMetadata:a.providerMetadata}:{}}}})}var b6=class{constructor({data:a,mediaType:b}){let c=a instanceof Uint8Array;this.base64Data=c?void 0:a,this.uint8ArrayData=c?a:void 0,this.mediaType=b}get base64(){return null==this.base64Data&&(this.base64Data=(0,D.n_)(this.uint8ArrayData)),this.base64Data}get uint8Array(){return null==this.uint8ArrayData&&(this.uint8ArrayData=(0,D.Z9)(this.base64Data)),this.uint8ArrayData}},b7=class extends b6{constructor(a){super(a),this.type="file"}};async function b8({tool:a,toolCall:b,messages:c,experimental_context:d}){return null!=a.needsApproval&&("boolean"==typeof a.needsApproval?a.needsApproval:await a.needsApproval(b.input,{toolCallId:b.toolCallId,messages:c,experimental_context:d}))}async function b9(a){if(void 0===a)return{value:void 0,state:"undefined-input"};let b=await (0,D.N8)({text:a});return b.success?{value:b.value,state:"successful-parse"}:(b=await (0,D.N8)({text:function(a){let b=["ROOT"],c=-1,d=null;function e(a,e,f){switch(a){case'"':c=e,b.pop(),b.push(f),b.push("INSIDE_STRING");break;case"f":case"t":case"n":c=e,d=e,b.pop(),b.push(f),b.push("INSIDE_LITERAL");break;case"-":b.pop(),b.push(f),b.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":c=e,b.pop(),b.push(f),b.push("INSIDE_NUMBER");break;case"{":c=e,b.pop(),b.push(f),b.push("INSIDE_OBJECT_START");break;case"[":c=e,b.pop(),b.push(f),b.push("INSIDE_ARRAY_START")}}function f(a,d){switch(a){case",":b.pop(),b.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":c=d,b.pop()}}function g(a,d){switch(a){case",":b.pop(),b.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":c=d,b.pop()}}for(let h=0;h<a.length;h++){let i=a[h];switch(b[b.length-1]){case"ROOT":e(i,h,"FINISH");break;case"INSIDE_OBJECT_START":switch(i){case'"':b.pop(),b.push("INSIDE_OBJECT_KEY");break;case"}":c=h,b.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":'"'===i&&(b.pop(),b.push("INSIDE_OBJECT_KEY"));break;case"INSIDE_OBJECT_KEY":'"'===i&&(b.pop(),b.push("INSIDE_OBJECT_AFTER_KEY"));break;case"INSIDE_OBJECT_AFTER_KEY":":"===i&&(b.pop(),b.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":e(i,h,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":f(i,h);break;case"INSIDE_STRING":switch(i){case'"':b.pop(),c=h;break;case"\\":b.push("INSIDE_STRING_ESCAPE");break;default:c=h}break;case"INSIDE_ARRAY_START":"]"===i?(c=h,b.pop()):(c=h,e(i,h,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(i){case",":b.pop(),b.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":c=h,b.pop();break;default:c=h}break;case"INSIDE_ARRAY_AFTER_COMMA":e(i,h,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":b.pop(),c=h;break;case"INSIDE_NUMBER":switch(i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":c=h;break;case"e":case"E":case"-":case".":break;case",":b.pop(),"INSIDE_ARRAY_AFTER_VALUE"===b[b.length-1]&&g(i,h),"INSIDE_OBJECT_AFTER_VALUE"===b[b.length-1]&&f(i,h);break;case"}":b.pop(),"INSIDE_OBJECT_AFTER_VALUE"===b[b.length-1]&&f(i,h);break;case"]":b.pop(),"INSIDE_ARRAY_AFTER_VALUE"===b[b.length-1]&&g(i,h);break;default:b.pop()}break;case"INSIDE_LITERAL":{let e=a.substring(d,h+1);"false".startsWith(e)||"true".startsWith(e)||"null".startsWith(e)?c=h:(b.pop(),"INSIDE_OBJECT_AFTER_VALUE"===b[b.length-1]?f(i,h):"INSIDE_ARRAY_AFTER_VALUE"===b[b.length-1]&&g(i,h))}}}let h=a.slice(0,c+1);for(let c=b.length-1;c>=0;c--)switch(b[c]){case"INSIDE_STRING":h+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":h+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":h+="]";break;case"INSIDE_LITERAL":{let b=a.substring(d,a.length);"true".startsWith(b)?h+="true".slice(b.length):"false".startsWith(b)?h+="false".slice(b.length):"null".startsWith(b)&&(h+="null".slice(b.length))}}return h}(a)})).success?{value:b.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"}}((a,b)=>{for(var c in b)aC(a,c,{get:b[c],enumerable:!0})})({},{array:()=>cc,choice:()=>cd,json:()=>ce,object:()=>cb,text:()=>ca});var ca=()=>({name:"text",responseFormat:Promise.resolve({type:"text"}),parseCompleteOutput:async({text:a})=>a,parsePartialOutput:async({text:a})=>({partial:a}),createElementStreamTransform(){}}),cb=({schema:a,name:b,description:c})=>{let d=(0,D.mD)(a);return{name:"object",responseFormat:(0,D.hd)(d.jsonSchema).then(a=>({type:"json",schema:a,...null!=b&&{name:b},...null!=c&&{description:c}})),async parseCompleteOutput({text:a},b){let c=await (0,D.N8)({text:a});if(!c.success)throw new aW({message:"No object generated: could not parse the response.",cause:c.error,text:a,response:b.response,usage:b.usage,finishReason:b.finishReason});let e=await (0,D.ZZ)({value:c.value,schema:d});if(!e.success)throw new aW({message:"No object generated: response did not match schema.",cause:e.error,text:a,response:b.response,usage:b.usage,finishReason:b.finishReason});return e.value},async parsePartialOutput({text:a}){let b=await b9(a);switch(b.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:b.value}}},createElementStreamTransform(){}}},cc=({element:a,name:b,description:c})=>{let d=(0,D.mD)(a);return{name:"array",responseFormat:(0,D.hd)(d.jsonSchema).then(a=>{let{$schema:d,...e}=a;return{type:"json",schema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{elements:{type:"array",items:e}},required:["elements"],additionalProperties:!1},...null!=b&&{name:b},...null!=c&&{description:c}}}),async parseCompleteOutput({text:a},b){let c=await (0,D.N8)({text:a});if(!c.success)throw new aW({message:"No object generated: could not parse the response.",cause:c.error,text:a,response:b.response,usage:b.usage,finishReason:b.finishReason});let e=c.value;if(null==e||"object"!=typeof e||!("elements"in e)||!Array.isArray(e.elements))throw new aW({message:"No object generated: response did not match schema.",cause:new E.iM({value:e,cause:"response must be an object with an elements array"}),text:a,response:b.response,usage:b.usage,finishReason:b.finishReason});for(let c of e.elements){let e=await (0,D.ZZ)({value:c,schema:d});if(!e.success)throw new aW({message:"No object generated: response did not match schema.",cause:e.error,text:a,response:b.response,usage:b.usage,finishReason:b.finishReason})}return e.elements},async parsePartialOutput({text:a}){let b=await b9(a);switch(b.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":{let a=b.value;if(null==a||"object"!=typeof a||!("elements"in a)||!Array.isArray(a.elements))return;let c="repaired-parse"===b.state&&a.elements.length>0?a.elements.slice(0,-1):a.elements,e=[];for(let a of c){let b=await (0,D.ZZ)({value:a,schema:d});b.success&&e.push(b.value)}return{partial:e}}}},createElementStreamTransform(){let a=0;return new TransformStream({transform({partialOutput:b},c){if(null!=b)for(;a<b.length;a++)c.enqueue(b[a])}})}}},cd=({options:a,name:b,description:c})=>({name:"choice",responseFormat:Promise.resolve({type:"json",schema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{result:{type:"string",enum:a}},required:["result"],additionalProperties:!1},...null!=b&&{name:b},...null!=c&&{description:c}}),async parseCompleteOutput({text:b},c){let d=await (0,D.N8)({text:b});if(!d.success)throw new aW({message:"No object generated: could not parse the response.",cause:d.error,text:b,response:c.response,usage:c.usage,finishReason:c.finishReason});let e=d.value;if(null==e||"object"!=typeof e||!("result"in e)||"string"!=typeof e.result||!a.includes(e.result))throw new aW({message:"No object generated: response did not match schema.",cause:new E.iM({value:e,cause:"response must be an object that contains a choice value."}),text:b,response:c.response,usage:c.usage,finishReason:c.finishReason});return e.result},async parsePartialOutput({text:b}){let c=await b9(b);switch(c.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":{let b=c.value;if(null==b||"object"!=typeof b||!("result"in b)||"string"!=typeof b.result)return;let d=a.filter(a=>a.startsWith(b.result));if("successful-parse"===c.state)return d.includes(b.result)?{partial:b.result}:void 0;return 1===d.length?{partial:d[0]}:void 0}}},createElementStreamTransform(){}}),ce=({name:a,description:b}={})=>({name:"json",responseFormat:Promise.resolve({type:"json",...null!=a&&{name:a},...null!=b&&{description:b}}),async parseCompleteOutput({text:a},b){let c=await (0,D.N8)({text:a});if(!c.success)throw new aW({message:"No object generated: could not parse the response.",cause:c.error,text:a,response:b.response,usage:b.usage,finishReason:b.finishReason});return c.value},async parsePartialOutput({text:a}){let b=await b9(a);switch(b.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return void 0===b.value?void 0:{partial:b.value}}},createElementStreamTransform(){}});async function cf({toolCall:a,tools:b,repairToolCall:c,system:d,messages:e}){var f;try{if(null==b){if(a.providerExecuted&&a.dynamic)return await cg(a);throw new a2({toolName:a.toolName})}try{return await ch({toolCall:a,tools:b})}catch(g){if(null==c||!(a2.isInstance(g)||aO.isInstance(g)))throw g;let f=null;try{f=await c({toolCall:a,tools:b,inputSchema:async({toolName:a})=>{let{inputSchema:c}=b[a];return await (0,D.mD)(c).jsonSchema},system:d,messages:e,error:g})}catch(a){throw new a6({cause:a,originalError:g})}if(null==f)throw g;return await ch({toolCall:f,tools:b})}}catch(e){let c=await (0,D.N8)({text:a.input}),d=c.success?c.value:a.input;return{type:"tool-call",toolCallId:a.toolCallId,toolName:a.toolName,input:d,dynamic:!0,invalid:!0,error:e,title:null==(f=null==b?void 0:b[a.toolName])?void 0:f.title,providerExecuted:a.providerExecuted,providerMetadata:a.providerMetadata}}}async function cg(a){let b=""===a.input.trim()?{success:!0,value:{}}:await (0,D.N8)({text:a.input});if(!1===b.success)throw new aO({toolName:a.toolName,toolInput:a.input,cause:b.error});return{type:"tool-call",toolCallId:a.toolCallId,toolName:a.toolName,input:b.value,providerExecuted:!0,dynamic:!0,providerMetadata:a.providerMetadata}}async function ch({toolCall:a,tools:b}){let c=a.toolName,d=b[c];if(null==d){if(a.providerExecuted&&a.dynamic)return await cg(a);throw new a2({toolName:a.toolName,availableTools:Object.keys(b)})}let e=(0,D.mD)(d.inputSchema),f=""===a.input.trim()?await (0,D.ZZ)({value:{},schema:e}):await (0,D.N8)({text:a.input,schema:e});if(!1===f.success)throw new aO({toolName:c,toolInput:a.input,cause:f.error});return"dynamic"===d.type?{type:"tool-call",toolCallId:a.toolCallId,toolName:a.toolName,input:f.value,providerExecuted:a.providerExecuted,providerMetadata:a.providerMetadata,dynamic:!0,title:d.title}:{type:"tool-call",toolCallId:a.toolCallId,toolName:c,input:f.value,providerExecuted:a.providerExecuted,providerMetadata:a.providerMetadata,title:d.title}}var ci=class{constructor({content:a,finishReason:b,rawFinishReason:c,usage:d,warnings:e,request:f,response:g,providerMetadata:h}){this.content=a,this.finishReason=b,this.rawFinishReason=c,this.usage=d,this.warnings=e,this.request=f,this.response=g,this.providerMetadata=h}get text(){return this.content.filter(a=>"text"===a.type).map(a=>a.text).join("")}get reasoning(){return this.content.filter(a=>"reasoning"===a.type)}get reasoningText(){return 0===this.reasoning.length?void 0:this.reasoning.map(a=>a.text).join("")}get files(){return this.content.filter(a=>"file"===a.type).map(a=>a.file)}get sources(){return this.content.filter(a=>"source"===a.type)}get toolCalls(){return this.content.filter(a=>"tool-call"===a.type)}get staticToolCalls(){return this.toolCalls.filter(a=>!0!==a.dynamic)}get dynamicToolCalls(){return this.toolCalls.filter(a=>!0===a.dynamic)}get toolResults(){return this.content.filter(a=>"tool-result"===a.type)}get staticToolResults(){return this.toolResults.filter(a=>!0!==a.dynamic)}get dynamicToolResults(){return this.toolResults.filter(a=>!0===a.dynamic)}};function cj(a){return({steps:b})=>b.length===a}async function ck({stopConditions:a,steps:b}){return(await Promise.all(a.map(a=>a({steps:b})))).some(a=>a)}async function cl({content:a,tools:b}){let c=[],d=[];for(let c of a)if("source"!==c.type&&("tool-result"!==c.type&&"tool-error"!==c.type||c.providerExecuted)&&("text"!==c.type||0!==c.text.length))switch(c.type){case"text":d.push({type:"text",text:c.text,providerOptions:c.providerMetadata});break;case"reasoning":d.push({type:"reasoning",text:c.text,providerOptions:c.providerMetadata});break;case"file":d.push({type:"file",data:c.file.base64,mediaType:c.file.mediaType,providerOptions:c.providerMetadata});break;case"tool-call":d.push({type:"tool-call",toolCallId:c.toolCallId,toolName:c.toolName,input:c.input,providerExecuted:c.providerExecuted,providerOptions:c.providerMetadata});break;case"tool-result":{let a=await bC({toolCallId:c.toolCallId,input:c.input,tool:null==b?void 0:b[c.toolName],output:c.output,errorMode:"none"});d.push({type:"tool-result",toolCallId:c.toolCallId,toolName:c.toolName,output:a,providerOptions:c.providerMetadata});break}case"tool-error":{let a=await bC({toolCallId:c.toolCallId,input:c.input,tool:null==b?void 0:b[c.toolName],output:c.error,errorMode:"json"});d.push({type:"tool-result",toolCallId:c.toolCallId,toolName:c.toolName,output:a,providerOptions:c.providerMetadata});break}case"tool-approval-request":d.push({type:"tool-approval-request",approvalId:c.approvalId,toolCallId:c.toolCall.toolCallId})}d.length>0&&c.push({role:"assistant",content:d});let e=[];for(let c of a){if("tool-result"!==c.type&&"tool-error"!==c.type||c.providerExecuted)continue;let a=await bC({toolCallId:c.toolCallId,input:c.input,tool:null==b?void 0:b[c.toolName],output:"tool-result"===c.type?c.output:c.error,errorMode:"tool-error"===c.type?"text":"none"});e.push({type:"tool-result",toolCallId:c.toolCallId,toolName:c.toolName,output:a,...null!=c.providerMetadata?{providerOptions:c.providerMetadata}:{}})}return e.length>0&&c.push({role:"tool",content:e}),c}function cm(a,b){let c=new Headers(null!=a?a:{});for(let[a,d]of Object.entries(b))c.has(a)||c.set(a,d);return c}function cn({response:a,status:b,statusText:c,headers:d,stream:e}){let f=null!=b?b:200;void 0!==c?a.writeHead(f,c,d):a.writeHead(f,d);let g=e.getReader();(async()=>{try{for(;;){let{done:b,value:c}=await g.read();if(b)break;a.write(c)||await new Promise(b=>{a.once("drain",b)})}}catch(a){throw a}finally{a.end()}})()}(0,D.hK)({prefix:"aitxt",size:24});var co=class extends TransformStream{constructor(){super({transform(a,b){b.enqueue(`data: ${JSON.stringify(a)}

`)},flush(a){a.enqueue("data: [DONE]\n\n")}})}},cp={"content-type":"text/event-stream","cache-control":"no-cache",connection:"keep-alive","x-vercel-ai-ui-message-stream":"v1","x-accel-buffering":"no"};function cq(a){return a.type.startsWith("data-")}function cr(a){return"text"===a.type}function cs(a){return"file"===a.type}function ct(a){return"reasoning"===a.type}function cu(a){return a.type.startsWith("tool-")}function cv(a){return"dynamic-tool"===a.type}function cw(a){return cu(a)||cv(a)}function cx(a){return a.type.split("-").slice(1).join("-")}function cy(a){return cv(a)?a.toolName:cx(a)}function cz(a){let b=a.pipeThrough(new TransformStream);return b[Symbol.asyncIterator]=function(){let a=this.getReader(),b=!1;async function c(c){var d;if(!b){b=!0;try{c&&await (null==(d=a.cancel)?void 0:d.call(a))}finally{try{a.releaseLock()}catch(a){}}}}return{async next(){if(b)return{done:!0,value:void 0};let{done:d,value:e}=await a.read();return d?(await c(!0),{done:!0,value:void 0}):{done:!1,value:e}},return:async()=>(await c(!0),{done:!0,value:void 0}),async throw(a){throw await c(!0),a}}},b}async function cA({stream:a,onError:b}){let c=a.getReader();try{for(;;){let{done:a}=await c.read();if(a)break}}catch(a){null==b||b(a)}finally{c.releaseLock()}}function cB(){let a,b;return{promise:new Promise((c,d)=>{a=c,b=d}),resolve:a,reject:b}}function cC(){var a,b;return null!=(b=null==(a=null==globalThis?void 0:globalThis.performance)?void 0:a.now())?b:Date.now()}(0,D.ID)(()=>(0,D.jN)(F.KC([F.re({type:F.eu("text-start"),id:F.Yj(),providerMetadata:bG.optional()}),F.re({type:F.eu("text-delta"),id:F.Yj(),delta:F.Yj(),providerMetadata:bG.optional()}),F.re({type:F.eu("text-end"),id:F.Yj(),providerMetadata:bG.optional()}),F.re({type:F.eu("error"),errorText:F.Yj()}),F.re({type:F.eu("tool-input-start"),toolCallId:F.Yj(),toolName:F.Yj(),providerExecuted:F.zM().optional(),providerMetadata:bG.optional(),dynamic:F.zM().optional(),title:F.Yj().optional()}),F.re({type:F.eu("tool-input-delta"),toolCallId:F.Yj(),inputTextDelta:F.Yj()}),F.re({type:F.eu("tool-input-available"),toolCallId:F.Yj(),toolName:F.Yj(),input:F.L5(),providerExecuted:F.zM().optional(),providerMetadata:bG.optional(),dynamic:F.zM().optional(),title:F.Yj().optional()}),F.re({type:F.eu("tool-input-error"),toolCallId:F.Yj(),toolName:F.Yj(),input:F.L5(),providerExecuted:F.zM().optional(),providerMetadata:bG.optional(),dynamic:F.zM().optional(),errorText:F.Yj(),title:F.Yj().optional()}),F.re({type:F.eu("tool-approval-request"),approvalId:F.Yj(),toolCallId:F.Yj()}),F.re({type:F.eu("tool-output-available"),toolCallId:F.Yj(),output:F.L5(),providerExecuted:F.zM().optional(),dynamic:F.zM().optional(),preliminary:F.zM().optional()}),F.re({type:F.eu("tool-output-error"),toolCallId:F.Yj(),errorText:F.Yj(),providerExecuted:F.zM().optional(),dynamic:F.zM().optional()}),F.re({type:F.eu("tool-output-denied"),toolCallId:F.Yj()}),F.re({type:F.eu("reasoning-start"),id:F.Yj(),providerMetadata:bG.optional()}),F.re({type:F.eu("reasoning-delta"),id:F.Yj(),delta:F.Yj(),providerMetadata:bG.optional()}),F.re({type:F.eu("reasoning-end"),id:F.Yj(),providerMetadata:bG.optional()}),F.re({type:F.eu("source-url"),sourceId:F.Yj(),url:F.Yj(),title:F.Yj().optional(),providerMetadata:bG.optional()}),F.re({type:F.eu("source-document"),sourceId:F.Yj(),mediaType:F.Yj(),title:F.Yj(),filename:F.Yj().optional(),providerMetadata:bG.optional()}),F.re({type:F.eu("file"),url:F.Yj(),mediaType:F.Yj(),providerMetadata:bG.optional()}),F.re({type:F.Ie(a=>"string"==typeof a&&a.startsWith("data-"),{message:'Type must start with "data-"'}),id:F.Yj().optional(),data:F.L5(),transient:F.zM().optional()}),F.re({type:F.eu("start-step")}),F.re({type:F.eu("finish-step")}),F.re({type:F.eu("start"),messageId:F.Yj().optional(),messageMetadata:F.L5().optional()}),F.re({type:F.eu("finish"),finishReason:F.k5(["stop","length","content-filter","tool-calls","error","other"]).optional(),messageMetadata:F.L5().optional()}),F.re({type:F.eu("abort"),reason:F.Yj().optional()}),F.re({type:F.eu("message-metadata"),messageMetadata:F.L5()})])));var cD=(0,D.hK)({prefix:"aitxt",size:24});function cE({model:a,tools:b,toolChoice:c,system:d,prompt:e,messages:f,maxRetries:g,abortSignal:h,timeout:i,headers:j,stopWhen:k=cj(1),experimental_output:l,output:m=l,experimental_telemetry:n,prepareStep:o,providerOptions:p,experimental_activeTools:q,activeTools:r=q,experimental_repairToolCall:s,experimental_transform:t,experimental_download:u,includeRawChunks:v=!1,onChunk:w,onError:x=({error:a})=>{console.error(a)},onFinish:y,onAbort:z,onStepFinish:A,experimental_context:B,_internal:{now:C=cC,generateId:D=cD}={},...E}){let F=bt(i),G=function(a){if(null!=a&&"number"!=typeof a)return a.stepMs}(i),H=function(a){if(null!=a&&"number"!=typeof a)return a.chunkMs}(i),I=null!=G?new AbortController:void 0,J=null!=H?new AbortController:void 0;return new cF({model:bs(a),telemetry:n,headers:j,settings:E,maxRetries:g,abortSignal:function(...a){let b=a.filter(a=>null!=a);if(0===b.length)return;if(1===b.length)return b[0];let c=new AbortController;for(let a of b){if(a.aborted){c.abort(a.reason);break}a.addEventListener("abort",()=>{c.abort(a.reason)},{once:!0})}return c.signal}(h,null!=F?AbortSignal.timeout(F):void 0,null==I?void 0:I.signal,null==J?void 0:J.signal),stepTimeoutMs:G,stepAbortController:I,chunkTimeoutMs:H,chunkAbortController:J,system:d,prompt:e,messages:f,tools:b,toolChoice:c,transforms:by(t),activeTools:r,repairToolCall:s,stopConditions:by(k),output:m,providerOptions:p,prepareStep:o,includeRawChunks:v,onChunk:w,onError:x,onFinish:y,onAbort:z,onStepFinish:A,now:C,generateId:D,experimental_context:B,download:u})}var cF=class{constructor({model:a,telemetry:b,headers:c,settings:d,maxRetries:e,abortSignal:f,stepTimeoutMs:g,stepAbortController:h,chunkTimeoutMs:i,chunkAbortController:j,system:k,prompt:l,messages:m,tools:n,toolChoice:o,transforms:p,activeTools:q,repairToolCall:r,stopConditions:s,output:t,providerOptions:u,prepareStep:v,includeRawChunks:w,now:x,generateId:y,onChunk:z,onError:A,onFinish:B,onAbort:C,onStepFinish:F,experimental_context:G,download:H}){let I,J,K,L,M;this._totalUsage=new D.e1,this._finishReason=new D.e1,this._rawFinishReason=new D.e1,this._steps=new D.e1,this.outputSpecification=t,this.includeRawChunks=w,this.tools=n;let O=[],P=[],Q={},R=[],S=[],T=new Map,U={},V={},W=new TransformStream({async transform(b,c){var d,e,f,g;c.enqueue(b);let{part:h}=b;if(("text-delta"===h.type||"reasoning-delta"===h.type||"source"===h.type||"tool-call"===h.type||"tool-result"===h.type||"tool-input-start"===h.type||"tool-input-delta"===h.type||"raw"===h.type)&&await (null==z?void 0:z({chunk:h})),"error"===h.type&&await A({error:function(a){if(!N.isInstance(a))return a;let b="https://ai-sdk.dev/unauthenticated-ai-gateway";return(null==process?void 0:"production")==="production"?new E.bD({name:"GatewayError",message:`Unauthenticated. Configure AI_GATEWAY_API_KEY or use a provider module. Learn more: ${b}`}):Object.assign(Error(`\x1b[1m\x1b[31mUnauthenticated request to AI Gateway.\x1b[0m

To authenticate, set the \x1b[33mAI_GATEWAY_API_KEY\x1b[0m environment variable with your API key.

Alternatively, you can use a provider module instead of the AI Gateway.

Learn more: \x1b[34m${b}\x1b[0m

`),{name:"GatewayAuthenticationError"})}(h.error)}),"text-start"===h.type&&(U[h.id]={type:"text",text:"",providerMetadata:h.providerMetadata},O.push(U[h.id])),"text-delta"===h.type){let a=U[h.id];if(null==a)return void c.enqueue({part:{type:"error",error:`text part ${h.id} not found`},partialOutput:void 0});a.text+=h.text,a.providerMetadata=null!=(d=h.providerMetadata)?d:a.providerMetadata}if("text-end"===h.type){let a=U[h.id];if(null==a)return void c.enqueue({part:{type:"error",error:`text part ${h.id} not found`},partialOutput:void 0});a.providerMetadata=null!=(e=h.providerMetadata)?e:a.providerMetadata,delete U[h.id]}if("reasoning-start"===h.type&&(V[h.id]={type:"reasoning",text:"",providerMetadata:h.providerMetadata},O.push(V[h.id])),"reasoning-delta"===h.type){let a=V[h.id];if(null==a)return void c.enqueue({part:{type:"error",error:`reasoning part ${h.id} not found`},partialOutput:void 0});a.text+=h.text,a.providerMetadata=null!=(f=h.providerMetadata)?f:a.providerMetadata}if("reasoning-end"===h.type){let a=V[h.id];if(null==a)return void c.enqueue({part:{type:"error",error:`reasoning part ${h.id} not found`},partialOutput:void 0});a.providerMetadata=null!=(g=h.providerMetadata)?g:a.providerMetadata,delete V[h.id]}if("file"===h.type&&O.push({type:"file",file:h.file}),"source"===h.type&&O.push(h),"tool-call"===h.type&&O.push(h),"tool-result"!==h.type||h.preliminary||O.push(h),"tool-approval-request"===h.type&&O.push(h),"tool-error"===h.type&&O.push(h),"start-step"===h.type&&(O=[],V={},U={},Q=h.request,R=h.warnings),"finish-step"===h.type){let b=await cl({content:O,tools:n}),c=new ci({content:O,finishReason:h.finishReason,rawFinishReason:h.rawFinishReason,usage:h.usage,warnings:R,request:Q,response:{...h.response,messages:[...P,...b]},providerMetadata:h.providerMetadata});await (null==F?void 0:F(c)),bp({warnings:R,provider:a.provider,model:a.modelId}),S.push(c),P.push(...b),I.resolve()}"finish"===h.type&&(M=h.totalUsage,K=h.finishReason,L=h.rawFinishReason)},async flush(a){try{if(0===S.length){let a=(null==f?void 0:f.aborted)?f.reason:new a$({message:"No output generated. Check the stream for errors."});ad._finishReason.reject(a),ad._rawFinishReason.reject(a),ad._totalUsage.reject(a),ad._steps.reject(a);return}let a=null!=K?K:"other",c=null!=M?M:b1();ad._finishReason.resolve(a),ad._rawFinishReason.resolve(L),ad._totalUsage.resolve(c),ad._steps.resolve(S);let d=S[S.length-1];await (null==B?void 0:B({finishReason:d.finishReason,rawFinishReason:d.rawFinishReason,totalUsage:c,usage:d.usage,content:d.content,text:d.text,reasoningText:d.reasoningText,reasoning:d.reasoning,files:d.files,sources:d.sources,toolCalls:d.toolCalls,staticToolCalls:d.staticToolCalls,dynamicToolCalls:d.dynamicToolCalls,toolResults:d.toolResults,staticToolResults:d.staticToolResults,dynamicToolResults:d.dynamicToolResults,request:d.request,response:d.response,warnings:d.warnings,providerMetadata:d.providerMetadata,steps:S,experimental_context:G})),J.setAttributes(await b0({telemetry:b,attributes:{"ai.response.finishReason":a,"ai.response.text":{output:()=>d.text},"ai.response.toolCalls":{output:()=>{var a;return(null==(a=d.toolCalls)?void 0:a.length)?JSON.stringify(d.toolCalls):void 0}},"ai.response.providerMetadata":JSON.stringify(d.providerMetadata),"ai.usage.inputTokens":c.inputTokens,"ai.usage.outputTokens":c.outputTokens,"ai.usage.totalTokens":c.totalTokens,"ai.usage.reasoningTokens":c.reasoningTokens,"ai.usage.cachedInputTokens":c.cachedInputTokens}}))}catch(b){a.error(b)}finally{J.end()}}}),X=function(){let a=[],b=null,c=!1,d=cB(),e=()=>{c=!0,d.resolve(),a.forEach(a=>a.cancel()),a=[],null==b||b.close()},f=async()=>{if(c&&0===a.length){null==b||b.close();return}if(0===a.length)return d=cB(),await d.promise,f();try{let{value:d,done:e}=await a[0].read();e?(a.shift(),0===a.length&&c?null==b||b.close():await f()):null==b||b.enqueue(d)}catch(c){null==b||b.error(c),a.shift(),e()}};return{stream:new ReadableStream({start(a){b=a},pull:f,async cancel(){for(let b of a)await b.cancel();a=[],c=!0}}),addStream:b=>{if(c)throw Error("Cannot add inner stream: outer stream is closed");a.push(b.getReader()),d.resolve()},close:()=>{c=!0,d.resolve(),0===a.length&&(null==b||b.close())},terminate:e}}();this.addStream=X.addStream,this.closeStream=X.close;let Y=X.stream.getReader(),Z=new ReadableStream({async start(a){a.enqueue({type:"start"})},async pull(a){function b(){null==C||C({steps:S}),a.enqueue({type:"abort",...(null==f?void 0:f.reason)!==void 0?{reason:(0,E.u1)(f.reason)}:{}}),a.close()}try{let{done:c,value:d}=await Y.read();if(c)return void a.close();if(null==f?void 0:f.aborted)return void b();a.enqueue(d)}catch(c){(0,D.zf)(c)&&(null==f?void 0:f.aborted)?b():a.error(c)}},cancel:a=>X.stream.cancel(a)});for(let a of p)Z=Z.pipeThrough(a({tools:n,stopStream(){X.terminate()}}));this.baseStream=Z.pipeThrough(function(a){let b,c,d="",e="",f="";function g({controller:a,partialOutput:d}){a.enqueue({part:{type:"text-delta",id:b,text:e,providerMetadata:c},partialOutput:d}),e=""}return new TransformStream({async transform(h,i){var j;if("finish-step"===h.type&&e.length>0&&g({controller:i}),"text-delta"!==h.type&&"text-start"!==h.type&&"text-end"!==h.type)return void i.enqueue({part:h,partialOutput:void 0});if(null==b)b=h.id;else if(h.id!==b)return void i.enqueue({part:h,partialOutput:void 0});if("text-start"===h.type)return void i.enqueue({part:h,partialOutput:void 0});if("text-end"===h.type){e.length>0&&g({controller:i}),i.enqueue({part:h,partialOutput:void 0});return}d+=h.text,e+=h.text,c=null!=(j=h.providerMetadata)?j:c;let k=await a.parsePartialOutput({text:d});if(void 0!==k){let a=JSON.stringify(k.partial);a!==f&&(g({controller:i,partialOutput:k.partial}),f=a)}}})}(null!=t?t:ca())).pipeThrough(W);let{maxRetries:$,retry:_}=function({maxRetries:a,abortSignal:b}){if(null!=a){if(!Number.isInteger(a))throw new aG({parameter:"maxRetries",value:a,message:"maxRetries must be an integer"});if(a<0)throw new aG({parameter:"maxRetries",value:a,message:"maxRetries must be >= 0"})}let c=null!=a?a:2;return{maxRetries:c,retry:(({maxRetries:a=2,initialDelayInMs:b=2e3,backoffFactor:c=2,abortSignal:d}={})=>async e=>b4(e,{maxRetries:a,delayInMs:b,backoffFactor:c,abortSignal:d}))({maxRetries:c,abortSignal:b})}}({maxRetries:e,abortSignal:f}),aa=function({isEnabled:a=!1,tracer:b}={}){return a?b||az.u.getTracer("ai"):bX}(b),ab=function({maxOutputTokens:a,temperature:b,topP:c,topK:d,presencePenalty:e,frequencyPenalty:f,seed:g,stopSequences:h}){if(null!=a){if(!Number.isInteger(a))throw new aG({parameter:"maxOutputTokens",value:a,message:"maxOutputTokens must be an integer"});if(a<1)throw new aG({parameter:"maxOutputTokens",value:a,message:"maxOutputTokens must be >= 1"})}if(null!=b&&"number"!=typeof b)throw new aG({parameter:"temperature",value:b,message:"temperature must be a number"});if(null!=c&&"number"!=typeof c)throw new aG({parameter:"topP",value:c,message:"topP must be a number"});if(null!=d&&"number"!=typeof d)throw new aG({parameter:"topK",value:d,message:"topK must be a number"});if(null!=e&&"number"!=typeof e)throw new aG({parameter:"presencePenalty",value:e,message:"presencePenalty must be a number"});if(null!=f&&"number"!=typeof f)throw new aG({parameter:"frequencyPenalty",value:f,message:"frequencyPenalty must be a number"});if(null!=g&&!Number.isInteger(g))throw new aG({parameter:"seed",value:g,message:"seed must be an integer"});return{maxOutputTokens:a,temperature:b,topP:c,topK:d,presencePenalty:e,frequencyPenalty:f,stopSequences:h,seed:g}}(d),ac=function({model:a,settings:b,telemetry:c,headers:d}){var e;return{"ai.model.provider":a.provider,"ai.model.id":a.modelId,...Object.entries(b).reduce((a,[b,c])=>{if("timeout"===b){let d=bt(c);null!=d&&(a[`ai.settings.${b}`]=d)}else a[`ai.settings.${b}`]=c;return a},{}),...Object.entries(null!=(e=null==c?void 0:c.metadata)?e:{}).reduce((a,[b,c])=>(a[`ai.telemetry.metadata.${b}`]=c,a),{}),...Object.entries(null!=d?d:{}).reduce((a,[b,c])=>(void 0!==c&&(a[`ai.request.headers.${b}`]=c),a),{})}}({model:a,telemetry:b,headers:c,settings:{...ab,maxRetries:$}}),ad=this;b$({name:"ai.streamText",attributes:b0({telemetry:b,attributes:{...bW({operationId:"ai.streamText",telemetry:b}),...ac,"ai.prompt":{input:()=>JSON.stringify({system:k,prompt:l,messages:m})}}}),tracer:aa,endWhenDone:!1,fn:async d=>{J=d;let e=await bV({system:k,prompt:l,messages:m}),p=e.messages,w=[],{approvedToolApprovals:z,deniedToolApprovals:A}=function({messages:a}){let b=a.at(-1);if((null==b?void 0:b.role)!="tool")return{approvedToolApprovals:[],deniedToolApprovals:[]};let c={};for(let b of a)if("assistant"===b.role&&"string"!=typeof b.content)for(let a of b.content)"tool-call"===a.type&&(c[a.toolCallId]=a);let d={};for(let b of a)if("assistant"===b.role&&"string"!=typeof b.content)for(let a of b.content)"tool-approval-request"===a.type&&(d[a.approvalId]=a);let e={};for(let a of b.content)"tool-result"===a.type&&(e[a.toolCallId]=a);let f=[],g=[];for(let a of b.content.filter(a=>"tool-approval-response"===a.type)){let b=d[a.approvalId];if(null==b)throw new aK({approvalId:a.approvalId});if(null!=e[b.toolCallId])continue;let h=c[b.toolCallId];if(null==h)throw new aS({toolCallId:b.toolCallId,approvalId:b.approvalId});let i={approvalRequest:b,approvalResponse:a,toolCall:h};a.approved?f.push(i):g.push(i)}return{approvedToolApprovals:f,deniedToolApprovals:g}}({messages:p});if(A.length>0||z.length>0){let a,c=[...z,...A].filter(a=>a.toolCall.providerExecuted),d=z.filter(a=>!a.toolCall.providerExecuted),e=A.filter(a=>!a.toolCall.providerExecuted),g=A.filter(a=>a.toolCall.providerExecuted),h=new ReadableStream({start(b){a=b}});ad.addStream(h);try{for(let b of[...e,...g])null==a||a.enqueue({type:"tool-output-denied",toolCallId:b.toolCall.toolCallId,toolName:b.toolCall.toolName});let h=[];if(await Promise.all(d.map(async c=>{let d=await b5({toolCall:c.toolCall,tools:n,tracer:aa,telemetry:b,messages:p,abortSignal:f,experimental_context:G,onPreliminaryToolResult:b=>{null==a||a.enqueue(b)}});null!=d&&(null==a||a.enqueue(d),h.push(d))})),c.length>0&&w.push({role:"tool",content:c.map(a=>({type:"tool-approval-response",approvalId:a.approvalResponse.approvalId,approved:a.approvalResponse.approved,reason:a.approvalResponse.reason,providerExecuted:!0}))}),h.length>0||e.length>0){let a=[];for(let b of h)a.push({type:"tool-result",toolCallId:b.toolCallId,toolName:b.toolName,output:await bC({toolCallId:b.toolCallId,input:b.input,tool:null==n?void 0:n[b.toolName],output:"tool-result"===b.type?b.output:b.error,errorMode:"tool-error"===b.type?"json":"none"})});for(let b of e)a.push({type:"tool-result",toolCallId:b.toolCall.toolCallId,toolName:b.toolCall.toolName,output:{type:"execution-denied",reason:b.approvalResponse.reason}});w.push({role:"tool",content:a})}}finally{null==a||a.close()}}async function B({currentStep:d,responseMessages:l,usage:m}){var w,z,A,C,E,F;let J,K,L,M,N=ad.includeRawChunks,O=null!=g?setTimeout(()=>h.abort(),g):void 0;I=new D.e1;let P=[...p,...l],Q=await (null==v?void 0:v({model:a,steps:S,stepNumber:S.length,messages:P,experimental_context:G})),R=bs(null!=(w=null==Q?void 0:Q.model)?w:a),U=await bz({prompt:{system:null!=(z=null==Q?void 0:Q.system)?z:e.system,messages:null!=(A=null==Q?void 0:Q.messages)?A:P},supportedUrls:await R.supportedUrls,download:H}),{toolChoice:V,tools:W}=await bE({tools:n,toolChoice:null!=(C=null==Q?void 0:Q.toolChoice)?C:o,activeTools:null!=(E=null==Q?void 0:Q.activeTools)?E:q});G=null!=(F=null==Q?void 0:Q.experimental_context)?F:G;let X=b3(u,null==Q?void 0:Q.providerOptions),{result:{stream:Y,response:Z,request:$},doStreamSpan:ae,startTimestampMs:af}=await _(()=>b$({name:"ai.streamText.doStream",attributes:b0({telemetry:b,attributes:{...bW({operationId:"ai.streamText.doStream",telemetry:b}),...ac,"ai.model.provider":R.provider,"ai.model.id":R.modelId,"ai.prompt.messages":{input:()=>JSON.stringify(U.map(a=>({...a,content:"string"==typeof a.content?a.content:a.content.map(a=>{var b;return"file"===a.type?{...a,data:a.data instanceof Uint8Array?"string"==typeof(b=a.data)?b:b instanceof ArrayBuffer?(0,D.n_)(new Uint8Array(b)):(0,D.n_)(b):a.data}:a})})))},"ai.prompt.tools":{input:()=>null==W?void 0:W.map(a=>JSON.stringify(a))},"ai.prompt.toolChoice":{input:()=>null!=V?JSON.stringify(V):void 0},"gen_ai.system":R.provider,"gen_ai.request.model":R.modelId,"gen_ai.request.frequency_penalty":ab.frequencyPenalty,"gen_ai.request.max_tokens":ab.maxOutputTokens,"gen_ai.request.presence_penalty":ab.presencePenalty,"gen_ai.request.stop_sequences":ab.stopSequences,"gen_ai.request.temperature":ab.temperature,"gen_ai.request.top_k":ab.topK,"gen_ai.request.top_p":ab.topP}}),tracer:aa,endWhenDone:!1,fn:async a=>({startTimestampMs:x(),doStreamSpan:a,result:await R.doStream({...ab,tools:W,toolChoice:V,responseFormat:await (null==t?void 0:t.responseFormat),prompt:U,providerOptions:X,abortSignal:f,headers:c,includeRawChunks:N})})})),ag=function({tools:a,generatorStream:b,tracer:c,telemetry:d,system:e,messages:f,abortSignal:g,repairToolCall:h,experimental_context:i,generateId:j}){let k,l=null,m=new ReadableStream({start(a){l=a}}),n=new Set,o=new Map,p=new Map,q=!1;function r(){q&&0===n.size&&(null!=k&&l.enqueue(k),l.close())}let s=new TransformStream({async transform(b,m){let q=b.type;switch(q){case"stream-start":case"text-start":case"text-delta":case"text-end":case"reasoning-start":case"reasoning-delta":case"reasoning-end":case"tool-input-start":case"tool-input-delta":case"tool-input-end":case"source":case"response-metadata":case"error":case"raw":m.enqueue(b);break;case"file":m.enqueue({type:"file",file:new b7({data:b.data,mediaType:b.mediaType})});break;case"finish":var s;k={type:"finish",finishReason:b.finishReason.unified,rawFinishReason:b.finishReason.raw,usage:{inputTokens:(s=b.usage).inputTokens.total,inputTokenDetails:{noCacheTokens:s.inputTokens.noCache,cacheReadTokens:s.inputTokens.cacheRead,cacheWriteTokens:s.inputTokens.cacheWrite},outputTokens:s.outputTokens.total,outputTokenDetails:{textTokens:s.outputTokens.text,reasoningTokens:s.outputTokens.reasoning},totalTokens:b2(s.inputTokens.total,s.outputTokens.total),raw:s.raw,reasoningTokens:s.outputTokens.reasoning,cachedInputTokens:s.inputTokens.cacheRead},providerMetadata:b.providerMetadata};break;case"tool-approval-request":{let a=p.get(b.toolCallId);if(null==a){l.enqueue({type:"error",error:new aS({toolCallId:b.toolCallId,approvalId:b.approvalId})});break}m.enqueue({type:"tool-approval-request",approvalId:b.approvalId,toolCall:a});break}case"tool-call":try{let k=await cf({toolCall:b,tools:a,repairToolCall:h,system:e,messages:f});if(p.set(k.toolCallId,k),m.enqueue(k),k.invalid){l.enqueue({type:"tool-error",toolCallId:k.toolCallId,toolName:k.toolName,input:k.input,error:(0,D.u1)(k.error),dynamic:!0,title:k.title});break}let q=null==a?void 0:a[k.toolName];if(null==q)break;if(null!=q.onInputAvailable&&await q.onInputAvailable({input:k.input,toolCallId:k.toolCallId,messages:f,abortSignal:g,experimental_context:i}),await b8({tool:q,toolCall:k,messages:f,experimental_context:i})){l.enqueue({type:"tool-approval-request",approvalId:j(),toolCall:k});break}if(o.set(k.toolCallId,k.input),null!=q.execute&&!0!==k.providerExecuted){let b=j();n.add(b),b5({toolCall:k,tools:a,tracer:c,telemetry:d,messages:f,abortSignal:g,experimental_context:i,onPreliminaryToolResult:a=>{l.enqueue(a)}}).then(a=>{l.enqueue(a)}).catch(a=>{l.enqueue({type:"error",error:a})}).finally(()=>{n.delete(b),r()})}}catch(a){l.enqueue({type:"error",error:a})}break;case"tool-result":{let a=b.toolName;b.isError?l.enqueue({type:"tool-error",toolCallId:b.toolCallId,toolName:a,input:o.get(b.toolCallId),providerExecuted:!0,error:b.result,dynamic:b.dynamic}):m.enqueue({type:"tool-result",toolCallId:b.toolCallId,toolName:a,input:o.get(b.toolCallId),output:b.result,providerExecuted:!0,dynamic:b.dynamic});break}default:throw Error(`Unhandled chunk type: ${q}`)}},flush(){q=!0,r()}});return new ReadableStream({start:async a=>Promise.all([b.pipeThrough(s).pipeTo(new WritableStream({write(b){a.enqueue(b)},close(){}})),m.pipeTo(new WritableStream({write(b){a.enqueue(b)},close(){a.close()}}))])})}({tools:n,generatorStream:Y,tracer:aa,telemetry:b,system:k,messages:P,repairToolCall:r,abortSignal:f,experimental_context:G,generateId:y}),ah=null!=$?$:{},ai=[],aj=[],ak={},al="other",am=b1(),an=!0,ao={id:y(),timestamp:new Date,modelId:a.modelId},ap="";ad.addStream(ag.pipeThrough(new TransformStream({async transform(a,b){var c,d,e,g,h;if(null!=i&&(null!=L&&clearTimeout(L),L=setTimeout(()=>j.abort(),i)),"stream-start"===a.type){J=a.warnings;return}if(an){let a=x()-af;an=!1,ae.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":a}),ae.setAttributes({"ai.response.msToFirstChunk":a}),b.enqueue({type:"start-step",request:ah,warnings:null!=J?J:[]})}let k=a.type;switch(k){case"tool-approval-request":case"text-start":case"text-end":case"reasoning-start":case"reasoning-end":case"file":case"source":b.enqueue(a);break;case"text-delta":a.delta.length>0&&(b.enqueue({type:"text-delta",id:a.id,text:a.delta,providerMetadata:a.providerMetadata}),ap+=a.delta);break;case"reasoning-delta":b.enqueue({type:"reasoning-delta",id:a.id,text:a.delta,providerMetadata:a.providerMetadata});break;case"tool-call":b.enqueue(a),ai.push(a);break;case"tool-result":b.enqueue(a),a.preliminary||aj.push(a);break;case"tool-error":b.enqueue(a),aj.push(a);break;case"response-metadata":ao={id:null!=(c=a.id)?c:ao.id,timestamp:null!=(d=a.timestamp)?d:ao.timestamp,modelId:null!=(e=a.modelId)?e:ao.modelId};break;case"finish":{am=a.usage,al=a.finishReason,M=a.rawFinishReason,K=a.providerMetadata;let b=x()-af;ae.addEvent("ai.stream.finish"),ae.setAttributes({"ai.response.msToFinish":b,"ai.response.avgOutputTokensPerSecond":1e3*(null!=(g=am.outputTokens)?g:0)/b});break}case"tool-input-start":{ak[a.id]=a.toolName;let c=null==n?void 0:n[a.toolName];(null==c?void 0:c.onInputStart)!=null&&await c.onInputStart({toolCallId:a.id,messages:P,abortSignal:f,experimental_context:G}),b.enqueue({...a,dynamic:null!=(h=a.dynamic)?h:(null==c?void 0:c.type)==="dynamic",title:null==c?void 0:c.title});break}case"tool-input-end":delete ak[a.id],b.enqueue(a);break;case"tool-input-delta":{let c=ak[a.id],d=null==n?void 0:n[c];(null==d?void 0:d.onInputDelta)!=null&&await d.onInputDelta({inputTextDelta:a.delta,toolCallId:a.id,messages:P,abortSignal:f,experimental_context:G}),b.enqueue(a);break}case"error":b.enqueue(a),al="error";break;case"raw":N&&b.enqueue(a);break;default:throw Error(`Unknown chunk type: ${k}`)}},async flush(a){var c,e,f,g,h,i,j,k,o,p,q;let r=ai.length>0?JSON.stringify(ai):void 0;try{ae.setAttributes(await b0({telemetry:b,attributes:{"ai.response.finishReason":al,"ai.response.text":{output:()=>ap},"ai.response.toolCalls":{output:()=>r},"ai.response.id":ao.id,"ai.response.model":ao.modelId,"ai.response.timestamp":ao.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(K),"ai.usage.inputTokens":am.inputTokens,"ai.usage.outputTokens":am.outputTokens,"ai.usage.totalTokens":am.totalTokens,"ai.usage.reasoningTokens":am.reasoningTokens,"ai.usage.cachedInputTokens":am.cachedInputTokens,"gen_ai.response.finish_reasons":[al],"gen_ai.response.id":ao.id,"gen_ai.response.model":ao.modelId,"gen_ai.usage.input_tokens":am.inputTokens,"gen_ai.usage.output_tokens":am.outputTokens}}))}catch(a){}finally{ae.end()}a.enqueue({type:"finish-step",finishReason:al,rawFinishReason:M,usage:am,providerMetadata:K,response:{...ao,headers:null==Z?void 0:Z.headers}});let t=(c=am,{inputTokens:b2(m.inputTokens,c.inputTokens),inputTokenDetails:{noCacheTokens:b2(null==(e=m.inputTokenDetails)?void 0:e.noCacheTokens,null==(f=c.inputTokenDetails)?void 0:f.noCacheTokens),cacheReadTokens:b2(null==(g=m.inputTokenDetails)?void 0:g.cacheReadTokens,null==(h=c.inputTokenDetails)?void 0:h.cacheReadTokens),cacheWriteTokens:b2(null==(i=m.inputTokenDetails)?void 0:i.cacheWriteTokens,null==(j=c.inputTokenDetails)?void 0:j.cacheWriteTokens)},outputTokens:b2(m.outputTokens,c.outputTokens),outputTokenDetails:{textTokens:b2(null==(k=m.outputTokenDetails)?void 0:k.textTokens,null==(o=c.outputTokenDetails)?void 0:o.textTokens),reasoningTokens:b2(null==(p=m.outputTokenDetails)?void 0:p.reasoningTokens,null==(q=c.outputTokenDetails)?void 0:q.reasoningTokens)},totalTokens:b2(m.totalTokens,c.totalTokens),reasoningTokens:b2(m.reasoningTokens,c.reasoningTokens),cachedInputTokens:b2(m.cachedInputTokens,c.cachedInputTokens)});await I.promise;let u=ai.filter(a=>!0!==a.providerExecuted),v=aj.filter(a=>!0!==a.providerExecuted);for(let a of ai){if(!0!==a.providerExecuted)continue;let b=null==n?void 0:n[a.toolName];(null==b?void 0:b.type)==="provider"&&b.supportsDeferredResults&&(aj.some(b=>"tool-result"===b.type&&b.toolCallId===a.toolCallId)||T.set(a.toolCallId,{toolName:a.toolName}))}for(let a of aj)"tool-result"===a.type&&T.delete(a.toolCallId);if(null!=O&&clearTimeout(O),null!=L&&(clearTimeout(L),L=void 0),(u.length>0&&v.length===u.length||T.size>0)&&!await ck({stopConditions:s,steps:S})){l.push(...await cl({content:S[S.length-1].content,tools:n}));try{await B({currentStep:d+1,responseMessages:l,usage:t})}catch(b){a.enqueue({type:"error",error:b}),ad.closeStream()}}else a.enqueue({type:"finish",finishReason:al,rawFinishReason:M,totalUsage:t}),ad.closeStream()}})))}P.push(...w),await B({currentStep:0,responseMessages:w,usage:b1()})}}).catch(a=>{ad.addStream(new ReadableStream({start(b){b.enqueue({type:"error",error:a}),b.close()}})),ad.closeStream()})}get steps(){return this.consumeStream(),this._steps.promise}get finalStep(){return this.steps.then(a=>a[a.length-1])}get content(){return this.finalStep.then(a=>a.content)}get warnings(){return this.finalStep.then(a=>a.warnings)}get providerMetadata(){return this.finalStep.then(a=>a.providerMetadata)}get text(){return this.finalStep.then(a=>a.text)}get reasoningText(){return this.finalStep.then(a=>a.reasoningText)}get reasoning(){return this.finalStep.then(a=>a.reasoning)}get sources(){return this.finalStep.then(a=>a.sources)}get files(){return this.finalStep.then(a=>a.files)}get toolCalls(){return this.finalStep.then(a=>a.toolCalls)}get staticToolCalls(){return this.finalStep.then(a=>a.staticToolCalls)}get dynamicToolCalls(){return this.finalStep.then(a=>a.dynamicToolCalls)}get toolResults(){return this.finalStep.then(a=>a.toolResults)}get staticToolResults(){return this.finalStep.then(a=>a.staticToolResults)}get dynamicToolResults(){return this.finalStep.then(a=>a.dynamicToolResults)}get usage(){return this.finalStep.then(a=>a.usage)}get request(){return this.finalStep.then(a=>a.request)}get response(){return this.finalStep.then(a=>a.response)}get totalUsage(){return this.consumeStream(),this._totalUsage.promise}get finishReason(){return this.consumeStream(),this._finishReason.promise}get rawFinishReason(){return this.consumeStream(),this._rawFinishReason.promise}teeStream(){let[a,b]=this.baseStream.tee();return this.baseStream=b,a}get textStream(){return cz(this.teeStream().pipeThrough(new TransformStream({transform({part:a},b){"text-delta"===a.type&&b.enqueue(a.text)}})))}get fullStream(){return cz(this.teeStream().pipeThrough(new TransformStream({transform({part:a},b){b.enqueue(a)}})))}async consumeStream(a){var b;try{await cA({stream:this.fullStream,onError:null==a?void 0:a.onError})}catch(c){null==(b=null==a?void 0:a.onError)||b.call(a,c)}}get experimental_partialOutputStream(){return this.partialOutputStream}get partialOutputStream(){return cz(this.teeStream().pipeThrough(new TransformStream({transform({partialOutput:a},b){null!=a&&b.enqueue(a)}})))}get elementStream(){var a,b,c;let d=null==(a=this.outputSpecification)?void 0:a.createElementStreamTransform();if(null==d)throw new E.b8({functionality:`element streams in ${null!=(c=null==(b=this.outputSpecification)?void 0:b.name)?c:"text"} mode`});return cz(this.teeStream().pipeThrough(d))}get output(){return this.finalStep.then(a=>{var b;return(null!=(b=this.outputSpecification)?b:ca()).parseCompleteOutput({text:a.text},{response:a.response,usage:a.usage,finishReason:a.finishReason})})}toUIMessageStream({originalMessages:a,generateMessageId:b,onFinish:c,messageMetadata:d,sendReasoning:e=!0,sendSources:f=!1,sendStart:g=!0,sendFinish:h=!0,onError:i=E.u1}={}){let j=null!=b?function({originalMessages:a,responseMessageId:b}){if(null==a)return;let c=a[a.length-1];return(null==c?void 0:c.role)==="assistant"?c.id:"function"==typeof b?b():b}({originalMessages:a,responseMessageId:b}):void 0,k=a=>{var b;let c=null==(b=this.tools)?void 0:b[a.toolName];return null==c?a.dynamic:(null==c?void 0:c.type)==="dynamic"||void 0};return cz(function({messageId:a,originalMessages:b=[],onFinish:c,onError:d,stream:e}){let f=null==b?void 0:b[b.length-1];(null==f?void 0:f.role)!=="assistant"?f=void 0:a=f.id;let g=!1,h=e.pipeThrough(new TransformStream({transform(b,c){"start"===b.type&&null==b.messageId&&null!=a&&(b.messageId=a),"abort"===b.type&&(g=!0),c.enqueue(b)}}));if(null==c)return h;let i=function({lastMessage:a,messageId:b}){return{message:(null==a?void 0:a.role)==="assistant"?a:{id:b,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}({lastMessage:f?structuredClone(f):void 0,messageId:null!=a?a:""}),j=!1,k=async()=>{if(j||!c)return;j=!0;let a=i.message.id===(null==f?void 0:f.id);await c({isAborted:g,isContinuation:a,responseMessage:i.message,messages:[...a?b.slice(0,-1):b,i.message],finishReason:i.finishReason})};return(function({stream:a,messageMetadataSchema:b,dataPartSchemas:c,runUpdateMessageJob:d,onError:e,onToolCall:f,onData:g}){return a.pipeThrough(new TransformStream({async transform(a,h){await d(async({state:d,write:i})=>{var j,k,l,m;function n(a){let b=d.message.parts.filter(cw).find(b=>b.toolCallId===a);if(null==b)throw new bb({chunkType:"tool-invocation",chunkId:a,message:`No tool invocation found for tool call ID "${a}".`});return b}function o(a){var b;let c=d.message.parts.find(b=>cu(b)&&b.toolCallId===a.toolCallId);null!=c?(c.state=a.state,c.input=a.input,c.output=a.output,c.errorText=a.errorText,c.rawInput=a.rawInput,c.preliminary=a.preliminary,void 0!==a.title&&(c.title=a.title),c.providerExecuted=null!=(b=a.providerExecuted)?b:c.providerExecuted,null!=a.providerMetadata&&(c.callProviderMetadata=a.providerMetadata)):d.message.parts.push({type:`tool-${a.toolName}`,toolCallId:a.toolCallId,state:a.state,title:a.title,input:a.input,output:a.output,rawInput:a.rawInput,errorText:a.errorText,providerExecuted:a.providerExecuted,preliminary:a.preliminary,...null!=a.providerMetadata?{callProviderMetadata:a.providerMetadata}:{}})}function p(a){var b,c;let e=d.message.parts.find(b=>"dynamic-tool"===b.type&&b.toolCallId===a.toolCallId);null!=e?(e.state=a.state,e.toolName=a.toolName,e.input=a.input,e.output=a.output,e.errorText=a.errorText,e.rawInput=null!=(b=a.rawInput)?b:e.rawInput,e.preliminary=a.preliminary,void 0!==a.title&&(e.title=a.title),e.providerExecuted=null!=(c=a.providerExecuted)?c:e.providerExecuted,null!=a.providerMetadata&&(e.callProviderMetadata=a.providerMetadata)):d.message.parts.push({type:"dynamic-tool",toolName:a.toolName,toolCallId:a.toolCallId,state:a.state,input:a.input,output:a.output,errorText:a.errorText,preliminary:a.preliminary,providerExecuted:a.providerExecuted,title:a.title,...null!=a.providerMetadata?{callProviderMetadata:a.providerMetadata}:{}})}async function q(a){if(null!=a){let c=null!=d.message.metadata?b3(d.message.metadata,a):a;null!=b&&await (0,D.k5)({value:c,schema:b}),d.message.metadata=c}}switch(a.type){case"text-start":{let b={type:"text",text:"",providerMetadata:a.providerMetadata,state:"streaming"};d.activeTextParts[a.id]=b,d.message.parts.push(b),i();break}case"text-delta":{let b=d.activeTextParts[a.id];if(null==b)throw new bb({chunkType:"text-delta",chunkId:a.id,message:`Received text-delta for missing text part with ID "${a.id}". Ensure a "text-start" chunk is sent before any "text-delta" chunks.`});b.text+=a.delta,b.providerMetadata=null!=(j=a.providerMetadata)?j:b.providerMetadata,i();break}case"text-end":{let b=d.activeTextParts[a.id];if(null==b)throw new bb({chunkType:"text-end",chunkId:a.id,message:`Received text-end for missing text part with ID "${a.id}". Ensure a "text-start" chunk is sent before any "text-end" chunks.`});b.state="done",b.providerMetadata=null!=(k=a.providerMetadata)?k:b.providerMetadata,delete d.activeTextParts[a.id],i();break}case"reasoning-start":{let b={type:"reasoning",text:"",providerMetadata:a.providerMetadata,state:"streaming"};d.activeReasoningParts[a.id]=b,d.message.parts.push(b),i();break}case"reasoning-delta":{let b=d.activeReasoningParts[a.id];if(null==b)throw new bb({chunkType:"reasoning-delta",chunkId:a.id,message:`Received reasoning-delta for missing reasoning part with ID "${a.id}". Ensure a "reasoning-start" chunk is sent before any "reasoning-delta" chunks.`});b.text+=a.delta,b.providerMetadata=null!=(l=a.providerMetadata)?l:b.providerMetadata,i();break}case"reasoning-end":{let b=d.activeReasoningParts[a.id];if(null==b)throw new bb({chunkType:"reasoning-end",chunkId:a.id,message:`Received reasoning-end for missing reasoning part with ID "${a.id}". Ensure a "reasoning-start" chunk is sent before any "reasoning-end" chunks.`});b.providerMetadata=null!=(m=a.providerMetadata)?m:b.providerMetadata,b.state="done",delete d.activeReasoningParts[a.id],i();break}case"file":d.message.parts.push({type:"file",mediaType:a.mediaType,url:a.url}),i();break;case"source-url":d.message.parts.push({type:"source-url",sourceId:a.sourceId,url:a.url,title:a.title,providerMetadata:a.providerMetadata}),i();break;case"source-document":d.message.parts.push({type:"source-document",sourceId:a.sourceId,mediaType:a.mediaType,title:a.title,filename:a.filename,providerMetadata:a.providerMetadata}),i();break;case"tool-input-start":{let b=d.message.parts.filter(cu);d.partialToolCalls[a.toolCallId]={text:"",toolName:a.toolName,index:b.length,dynamic:a.dynamic,title:a.title},a.dynamic?p({toolCallId:a.toolCallId,toolName:a.toolName,state:"input-streaming",input:void 0,providerExecuted:a.providerExecuted,title:a.title,providerMetadata:a.providerMetadata}):o({toolCallId:a.toolCallId,toolName:a.toolName,state:"input-streaming",input:void 0,providerExecuted:a.providerExecuted,title:a.title,providerMetadata:a.providerMetadata}),i();break}case"tool-input-delta":{let b=d.partialToolCalls[a.toolCallId];if(null==b)throw new bb({chunkType:"tool-input-delta",chunkId:a.toolCallId,message:`Received tool-input-delta for missing tool call with ID "${a.toolCallId}". Ensure a "tool-input-start" chunk is sent before any "tool-input-delta" chunks.`});b.text+=a.inputTextDelta;let{value:c}=await b9(b.text);b.dynamic?p({toolCallId:a.toolCallId,toolName:b.toolName,state:"input-streaming",input:c,title:b.title}):o({toolCallId:a.toolCallId,toolName:b.toolName,state:"input-streaming",input:c,title:b.title}),i();break}case"tool-input-available":a.dynamic?p({toolCallId:a.toolCallId,toolName:a.toolName,state:"input-available",input:a.input,providerExecuted:a.providerExecuted,providerMetadata:a.providerMetadata,title:a.title}):o({toolCallId:a.toolCallId,toolName:a.toolName,state:"input-available",input:a.input,providerExecuted:a.providerExecuted,providerMetadata:a.providerMetadata,title:a.title}),i(),f&&!a.providerExecuted&&await f({toolCall:a});break;case"tool-input-error":a.dynamic?p({toolCallId:a.toolCallId,toolName:a.toolName,state:"output-error",input:a.input,errorText:a.errorText,providerExecuted:a.providerExecuted,providerMetadata:a.providerMetadata}):o({toolCallId:a.toolCallId,toolName:a.toolName,state:"output-error",input:void 0,rawInput:a.input,errorText:a.errorText,providerExecuted:a.providerExecuted,providerMetadata:a.providerMetadata}),i();break;case"tool-approval-request":{let b=n(a.toolCallId);b.state="approval-requested",b.approval={id:a.approvalId},i();break}case"tool-output-denied":n(a.toolCallId).state="output-denied",i();break;case"tool-output-available":{let b=n(a.toolCallId);"dynamic-tool"===b.type?p({toolCallId:a.toolCallId,toolName:b.toolName,state:"output-available",input:b.input,output:a.output,preliminary:a.preliminary,providerExecuted:a.providerExecuted,title:b.title}):o({toolCallId:a.toolCallId,toolName:cx(b),state:"output-available",input:b.input,output:a.output,providerExecuted:a.providerExecuted,preliminary:a.preliminary,title:b.title}),i();break}case"tool-output-error":{let b=n(a.toolCallId);"dynamic-tool"===b.type?p({toolCallId:a.toolCallId,toolName:b.toolName,state:"output-error",input:b.input,errorText:a.errorText,providerExecuted:a.providerExecuted,title:b.title}):o({toolCallId:a.toolCallId,toolName:cx(b),state:"output-error",input:b.input,rawInput:b.rawInput,errorText:a.errorText,providerExecuted:a.providerExecuted,title:b.title}),i();break}case"start-step":d.message.parts.push({type:"step-start"});break;case"finish-step":d.activeTextParts={},d.activeReasoningParts={};break;case"start":null!=a.messageId&&(d.message.id=a.messageId),await q(a.messageMetadata),(null!=a.messageId||null!=a.messageMetadata)&&i();break;case"finish":null!=a.finishReason&&(d.finishReason=a.finishReason),await q(a.messageMetadata),null!=a.messageMetadata&&i();break;case"message-metadata":await q(a.messageMetadata),null!=a.messageMetadata&&i();break;case"error":null==e||e(Error(a.errorText));break;default:if(a.type.startsWith("data-")){if((null==c?void 0:c[a.type])!=null&&await (0,D.k5)({value:a.data,schema:c[a.type]}),a.transient){null==g||g(a);break}let b=null!=a.id?d.message.parts.find(b=>a.type===b.type&&a.id===b.id):void 0;null!=b?b.data=a.data:d.message.parts.push(a),null==g||g(a),i()}}h.enqueue(a)})}}))})({stream:h,runUpdateMessageJob:async a=>{await a({state:i,write:()=>{}})},onError:d}).pipeThrough(new TransformStream({transform(a,b){b.enqueue(a)},async cancel(){await k()},async flush(){await k()}}))}({stream:this.fullStream.pipeThrough(new TransformStream({transform:async(a,b)=>{let c=null==d?void 0:d({part:a}),l=a.type;switch(l){case"text-start":b.enqueue({type:"text-start",id:a.id,...null!=a.providerMetadata?{providerMetadata:a.providerMetadata}:{}});break;case"text-delta":b.enqueue({type:"text-delta",id:a.id,delta:a.text,...null!=a.providerMetadata?{providerMetadata:a.providerMetadata}:{}});break;case"text-end":b.enqueue({type:"text-end",id:a.id,...null!=a.providerMetadata?{providerMetadata:a.providerMetadata}:{}});break;case"reasoning-start":b.enqueue({type:"reasoning-start",id:a.id,...null!=a.providerMetadata?{providerMetadata:a.providerMetadata}:{}});break;case"reasoning-delta":e&&b.enqueue({type:"reasoning-delta",id:a.id,delta:a.text,...null!=a.providerMetadata?{providerMetadata:a.providerMetadata}:{}});break;case"reasoning-end":b.enqueue({type:"reasoning-end",id:a.id,...null!=a.providerMetadata?{providerMetadata:a.providerMetadata}:{}});break;case"file":b.enqueue({type:"file",mediaType:a.file.mediaType,url:`data:${a.file.mediaType};base64,${a.file.base64}`});break;case"source":f&&"url"===a.sourceType&&b.enqueue({type:"source-url",sourceId:a.id,url:a.url,title:a.title,...null!=a.providerMetadata?{providerMetadata:a.providerMetadata}:{}}),f&&"document"===a.sourceType&&b.enqueue({type:"source-document",sourceId:a.id,mediaType:a.mediaType,title:a.title,filename:a.filename,...null!=a.providerMetadata?{providerMetadata:a.providerMetadata}:{}});break;case"tool-input-start":{let c=k(a);b.enqueue({type:"tool-input-start",toolCallId:a.id,toolName:a.toolName,...null!=a.providerExecuted?{providerExecuted:a.providerExecuted}:{},...null!=a.providerMetadata?{providerMetadata:a.providerMetadata}:{},...null!=c?{dynamic:c}:{},...null!=a.title?{title:a.title}:{}});break}case"tool-input-delta":b.enqueue({type:"tool-input-delta",toolCallId:a.id,inputTextDelta:a.delta});break;case"tool-call":{let c=k(a);a.invalid?b.enqueue({type:"tool-input-error",toolCallId:a.toolCallId,toolName:a.toolName,input:a.input,...null!=a.providerExecuted?{providerExecuted:a.providerExecuted}:{},...null!=a.providerMetadata?{providerMetadata:a.providerMetadata}:{},...null!=c?{dynamic:c}:{},errorText:i(a.error),...null!=a.title?{title:a.title}:{}}):b.enqueue({type:"tool-input-available",toolCallId:a.toolCallId,toolName:a.toolName,input:a.input,...null!=a.providerExecuted?{providerExecuted:a.providerExecuted}:{},...null!=a.providerMetadata?{providerMetadata:a.providerMetadata}:{},...null!=c?{dynamic:c}:{},...null!=a.title?{title:a.title}:{}});break}case"tool-approval-request":b.enqueue({type:"tool-approval-request",approvalId:a.approvalId,toolCallId:a.toolCall.toolCallId});break;case"tool-result":{let c=k(a);b.enqueue({type:"tool-output-available",toolCallId:a.toolCallId,output:a.output,...null!=a.providerExecuted?{providerExecuted:a.providerExecuted}:{},...null!=a.preliminary?{preliminary:a.preliminary}:{},...null!=c?{dynamic:c}:{}});break}case"tool-error":{let c=k(a);b.enqueue({type:"tool-output-error",toolCallId:a.toolCallId,errorText:i(a.error),...null!=a.providerExecuted?{providerExecuted:a.providerExecuted}:{},...null!=c?{dynamic:c}:{}});break}case"tool-output-denied":b.enqueue({type:"tool-output-denied",toolCallId:a.toolCallId});break;case"error":b.enqueue({type:"error",errorText:i(a.error)});break;case"start-step":b.enqueue({type:"start-step"});break;case"finish-step":b.enqueue({type:"finish-step"});break;case"start":g&&b.enqueue({type:"start",...null!=c?{messageMetadata:c}:{},...null!=j?{messageId:j}:{}});break;case"finish":h&&b.enqueue({type:"finish",finishReason:a.finishReason,...null!=c?{messageMetadata:c}:{}});break;case"abort":b.enqueue(a);break;case"tool-input-end":case"raw":break;default:throw Error(`Unknown chunk type: ${l}`)}null!=c&&"start"!==l&&"finish"!==l&&b.enqueue({type:"message-metadata",messageMetadata:c})}})),messageId:null!=j?j:null==b?void 0:b(),originalMessages:a,onFinish:c,onError:i}))}pipeUIMessageStreamToResponse(a,{originalMessages:b,generateMessageId:c,onFinish:d,messageMetadata:e,sendReasoning:f,sendSources:g,sendFinish:h,sendStart:i,onError:j,...k}={}){!function({response:a,status:b,statusText:c,headers:d,stream:e,consumeSseStream:f}){let g=e.pipeThrough(new co);if(f){let[a,b]=g.tee();g=a,f({stream:b})}cn({response:a,status:b,statusText:c,headers:Object.fromEntries(cm(d,cp).entries()),stream:g.pipeThrough(new TextEncoderStream)})}({response:a,stream:this.toUIMessageStream({originalMessages:b,generateMessageId:c,onFinish:d,messageMetadata:e,sendReasoning:f,sendSources:g,sendFinish:h,sendStart:i,onError:j}),...k})}pipeTextStreamToResponse(a,b){!function({response:a,status:b,statusText:c,headers:d,textStream:e}){cn({response:a,status:b,statusText:c,headers:Object.fromEntries(cm(d,{"content-type":"text/plain; charset=utf-8"}).entries()),stream:e.pipeThrough(new TextEncoderStream)})}({response:a,textStream:this.textStream,...b})}toUIMessageStreamResponse({originalMessages:a,generateMessageId:b,onFinish:c,messageMetadata:d,sendReasoning:e,sendSources:f,sendFinish:g,sendStart:h,onError:i,...j}={}){return function({status:a,statusText:b,headers:c,stream:d,consumeSseStream:e}){let f=d.pipeThrough(new co);if(e){let[a,b]=f.tee();f=a,e({stream:b})}return new Response(f.pipeThrough(new TextEncoderStream),{status:a,statusText:b,headers:cm(c,cp)})}({stream:this.toUIMessageStream({originalMessages:a,generateMessageId:b,onFinish:c,messageMetadata:d,sendReasoning:e,sendSources:f,sendFinish:g,sendStart:h,onError:i}),...j})}toTextStreamResponse(a){return function({status:a,statusText:b,headers:c,textStream:d}){return new Response(d.pipeThrough(new TextEncoderStream),{status:null!=a?a:200,statusText:b,headers:cm(c,{"content-type":"text/plain; charset=utf-8"})})}({textStream:this.textStream,...a})}};async function cG(a,b){let c=[];for(let e of((null==b?void 0:b.ignoreIncompleteToolCalls)&&(a=a.map(a=>({...a,parts:a.parts.filter(a=>!cw(a)||"input-streaming"!==a.state&&"input-available"!==a.state)}))),a))switch(e.role){case"system":{let a=e.parts.filter(a=>"text"===a.type),b=a.reduce((a,b)=>null!=b.providerMetadata?{...a,...b.providerMetadata}:a,{});c.push({role:"system",content:a.map(a=>a.text).join(""),...Object.keys(b).length>0?{providerOptions:b}:{}});break}case"user":c.push({role:"user",content:e.parts.map(a=>{var c;return cr(a)?{type:"text",text:a.text,...null!=a.providerMetadata?{providerOptions:a.providerMetadata}:{}}:cs(a)?{type:"file",mediaType:a.mediaType,filename:a.filename,data:a.url,...null!=a.providerMetadata?{providerOptions:a.providerMetadata}:{}}:cq(a)?null==(c=null==b?void 0:b.convertDataPart)?void 0:c.call(b,a):void 0}).filter(D.R)});break;case"assistant":if(null!=e.parts){let a=[];async function d(){var d,e,f,g,h,i;if(0===a.length)return;let j=[];for(let c of a)if(cr(c))j.push({type:"text",text:c.text,...null!=c.providerMetadata?{providerOptions:c.providerMetadata}:{}});else if(cs(c))j.push({type:"file",mediaType:c.mediaType,filename:c.filename,data:c.url});else if(ct(c))j.push({type:"reasoning",text:c.text,providerOptions:c.providerMetadata});else if(cw(c)){let a=cy(c);"input-streaming"!==c.state&&(j.push({type:"tool-call",toolCallId:c.toolCallId,toolName:a,input:"output-error"===c.state?null!=(d=c.input)?d:"rawInput"in c?c.rawInput:void 0:c.input,providerExecuted:c.providerExecuted,...null!=c.callProviderMetadata?{providerOptions:c.callProviderMetadata}:{}}),null!=c.approval&&j.push({type:"tool-approval-request",approvalId:c.approval.id,toolCallId:c.toolCallId}),!0===c.providerExecuted&&"approval-responded"!==c.state&&("output-available"===c.state||"output-error"===c.state)&&j.push({type:"tool-result",toolCallId:c.toolCallId,toolName:a,output:await bC({toolCallId:c.toolCallId,input:c.input,output:"output-error"===c.state?c.errorText:c.output,tool:null==(e=null==b?void 0:b.tools)?void 0:e[a],errorMode:"output-error"===c.state?"json":"none"}),...null!=c.callProviderMetadata?{providerOptions:c.callProviderMetadata}:{}}))}else if(cq(c)){let a=null==(f=null==b?void 0:b.convertDataPart)?void 0:f.call(b,c);null!=a&&j.push(a)}else throw Error(`Unsupported part: ${c}`);c.push({role:"assistant",content:j});let k=a.filter(a=>{var b;return cw(a)&&(!0!==a.providerExecuted||(null==(b=a.approval)?void 0:b.approved)!=null)});if(k.length>0){let a=[];for(let c of k)if((null==(g=c.approval)?void 0:g.approved)!=null&&a.push({type:"tool-approval-response",approvalId:c.approval.id,approved:c.approval.approved,reason:c.approval.reason,providerExecuted:c.providerExecuted}),!0!==c.providerExecuted)switch(c.state){case"output-denied":a.push({type:"tool-result",toolCallId:c.toolCallId,toolName:cy(c),output:{type:"error-text",value:null!=(h=c.approval.reason)?h:"Tool execution denied."},...null!=c.callProviderMetadata?{providerOptions:c.callProviderMetadata}:{}});break;case"output-error":case"output-available":{let d=cy(c);a.push({type:"tool-result",toolCallId:c.toolCallId,toolName:d,output:await bC({toolCallId:c.toolCallId,input:c.input,output:"output-error"===c.state?c.errorText:c.output,tool:null==(i=null==b?void 0:b.tools)?void 0:i[d],errorMode:"output-error"===c.state?"text":"none"}),...null!=c.callProviderMetadata?{providerOptions:c.callProviderMetadata}:{}})}}a.length>0&&c.push({role:"tool",content:a})}a=[]}for(let b of e.parts)cr(b)||ct(b)||cs(b)||cw(b)||cq(b)?a.push(b):"step-start"===b.type&&await d();await d()}break;default:{let a=e.role;throw new bj({originalMessage:e,message:`Unsupported role: ${a}`})}}return c}(0,D.ID)(()=>(0,D.jN)(F.YO(F.Ik({id:F.Yj(),role:F.k5(["system","user","assistant"]),metadata:F.L5().optional(),parts:F.YO(F.KC([F.Ik({type:F.eu("text"),text:F.Yj(),state:F.k5(["streaming","done"]).optional(),providerMetadata:bG.optional()}),F.Ik({type:F.eu("reasoning"),text:F.Yj(),state:F.k5(["streaming","done"]).optional(),providerMetadata:bG.optional()}),F.Ik({type:F.eu("source-url"),sourceId:F.Yj(),url:F.Yj(),title:F.Yj().optional(),providerMetadata:bG.optional()}),F.Ik({type:F.eu("source-document"),sourceId:F.Yj(),mediaType:F.Yj(),title:F.Yj(),filename:F.Yj().optional(),providerMetadata:bG.optional()}),F.Ik({type:F.eu("file"),mediaType:F.Yj(),filename:F.Yj().optional(),url:F.Yj(),providerMetadata:bG.optional()}),F.Ik({type:F.eu("step-start")}),F.Ik({type:F.Yj().startsWith("data-"),id:F.Yj().optional(),data:F.L5()}),F.Ik({type:F.eu("dynamic-tool"),toolName:F.Yj(),toolCallId:F.Yj(),state:F.eu("input-streaming"),input:F.L5().optional(),providerExecuted:F.zM().optional(),callProviderMetadata:bG.optional(),output:F.Zm().optional(),errorText:F.Zm().optional(),approval:F.Zm().optional()}),F.Ik({type:F.eu("dynamic-tool"),toolName:F.Yj(),toolCallId:F.Yj(),state:F.eu("input-available"),input:F.L5(),providerExecuted:F.zM().optional(),output:F.Zm().optional(),errorText:F.Zm().optional(),callProviderMetadata:bG.optional(),approval:F.Zm().optional()}),F.Ik({type:F.eu("dynamic-tool"),toolName:F.Yj(),toolCallId:F.Yj(),state:F.eu("approval-requested"),input:F.L5(),providerExecuted:F.zM().optional(),output:F.Zm().optional(),errorText:F.Zm().optional(),callProviderMetadata:bG.optional(),approval:F.Ik({id:F.Yj(),approved:F.Zm().optional(),reason:F.Zm().optional()})}),F.Ik({type:F.eu("dynamic-tool"),toolName:F.Yj(),toolCallId:F.Yj(),state:F.eu("approval-responded"),input:F.L5(),providerExecuted:F.zM().optional(),output:F.Zm().optional(),errorText:F.Zm().optional(),callProviderMetadata:bG.optional(),approval:F.Ik({id:F.Yj(),approved:F.zM(),reason:F.Yj().optional()})}),F.Ik({type:F.eu("dynamic-tool"),toolName:F.Yj(),toolCallId:F.Yj(),state:F.eu("output-available"),input:F.L5(),providerExecuted:F.zM().optional(),output:F.L5(),errorText:F.Zm().optional(),callProviderMetadata:bG.optional(),preliminary:F.zM().optional(),approval:F.Ik({id:F.Yj(),approved:F.eu(!0),reason:F.Yj().optional()}).optional()}),F.Ik({type:F.eu("dynamic-tool"),toolName:F.Yj(),toolCallId:F.Yj(),state:F.eu("output-error"),input:F.L5(),rawInput:F.L5().optional(),providerExecuted:F.zM().optional(),output:F.Zm().optional(),errorText:F.Yj(),callProviderMetadata:bG.optional(),approval:F.Ik({id:F.Yj(),approved:F.eu(!0),reason:F.Yj().optional()}).optional()}),F.Ik({type:F.eu("dynamic-tool"),toolName:F.Yj(),toolCallId:F.Yj(),state:F.eu("output-denied"),input:F.L5(),providerExecuted:F.zM().optional(),output:F.Zm().optional(),errorText:F.Zm().optional(),callProviderMetadata:bG.optional(),approval:F.Ik({id:F.Yj(),approved:F.eu(!1),reason:F.Yj().optional()})}),F.Ik({type:F.Yj().startsWith("tool-"),toolCallId:F.Yj(),state:F.eu("input-streaming"),providerExecuted:F.zM().optional(),callProviderMetadata:bG.optional(),input:F.L5().optional(),output:F.Zm().optional(),errorText:F.Zm().optional(),approval:F.Zm().optional()}),F.Ik({type:F.Yj().startsWith("tool-"),toolCallId:F.Yj(),state:F.eu("input-available"),providerExecuted:F.zM().optional(),input:F.L5(),output:F.Zm().optional(),errorText:F.Zm().optional(),callProviderMetadata:bG.optional(),approval:F.Zm().optional()}),F.Ik({type:F.Yj().startsWith("tool-"),toolCallId:F.Yj(),state:F.eu("approval-requested"),input:F.L5(),providerExecuted:F.zM().optional(),output:F.Zm().optional(),errorText:F.Zm().optional(),callProviderMetadata:bG.optional(),approval:F.Ik({id:F.Yj(),approved:F.Zm().optional(),reason:F.Zm().optional()})}),F.Ik({type:F.Yj().startsWith("tool-"),toolCallId:F.Yj(),state:F.eu("approval-responded"),input:F.L5(),providerExecuted:F.zM().optional(),output:F.Zm().optional(),errorText:F.Zm().optional(),callProviderMetadata:bG.optional(),approval:F.Ik({id:F.Yj(),approved:F.zM(),reason:F.Yj().optional()})}),F.Ik({type:F.Yj().startsWith("tool-"),toolCallId:F.Yj(),state:F.eu("output-available"),providerExecuted:F.zM().optional(),input:F.L5(),output:F.L5(),errorText:F.Zm().optional(),callProviderMetadata:bG.optional(),preliminary:F.zM().optional(),approval:F.Ik({id:F.Yj(),approved:F.eu(!0),reason:F.Yj().optional()}).optional()}),F.Ik({type:F.Yj().startsWith("tool-"),toolCallId:F.Yj(),state:F.eu("output-error"),providerExecuted:F.zM().optional(),input:F.L5(),rawInput:F.L5().optional(),output:F.Zm().optional(),errorText:F.Yj(),callProviderMetadata:bG.optional(),approval:F.Ik({id:F.Yj(),approved:F.eu(!0),reason:F.Yj().optional()}).optional()}),F.Ik({type:F.Yj().startsWith("tool-"),toolCallId:F.Yj(),state:F.eu("output-denied"),providerExecuted:F.zM().optional(),input:F.L5(),output:F.Zm().optional(),errorText:F.Zm().optional(),callProviderMetadata:bG.optional(),approval:F.Ik({id:F.Yj(),approved:F.eu(!1),reason:F.Yj().optional()})})])).nonempty("Message must contain at least one part")})).nonempty("Messages array must not be empty"))),(0,D.hK)({prefix:"aiobj",size:24}),(0,D.hK)({prefix:"aiobj",size:24});Symbol.for("vercel.ai.error.AI_NoSuchProviderError");E.eM,E.bD},9522:(a,b,c)=>{"use strict";var d=c(5890),e=c(8798),f=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),h=Symbol.for("react.fragment"),i=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),l=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),n=Symbol.for("react.lazy"),o=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.postpone");var p=Symbol.iterator;function q(a){return null===a||"object"!=typeof a?null:"function"==typeof(a=p&&a[p]||a["@@iterator"])?a:null}var r=Symbol.asyncIterator;function s(a){setTimeout(function(){throw a})}var t=Promise,u="function"==typeof queueMicrotask?queueMicrotask:function(a){t.resolve(null).then(a).catch(s)},v=null,w=0;function x(a,b){if(0!==b.byteLength)if(2048<b.byteLength)0<w&&(a.enqueue(new Uint8Array(v.buffer,0,w)),v=new Uint8Array(2048),w=0),a.enqueue(b);else{var c=v.length-w;c<b.byteLength&&(0===c?a.enqueue(v):(v.set(b.subarray(0,c),w),a.enqueue(v),b=b.subarray(c)),v=new Uint8Array(2048),w=0),v.set(b,w),w+=b.byteLength}return!0}var y=new TextEncoder;function z(a){return y.encode(a)}function A(a){return a.byteLength}function B(a,b){"function"==typeof a.error?a.error(b):a.close()}var C=Symbol.for("react.client.reference"),D=Symbol.for("react.server.reference");function E(a,b,c){return Object.defineProperties(a,{$$typeof:{value:C},$$id:{value:b},$$async:{value:c}})}var F=Function.prototype.bind,G=Array.prototype.slice;function H(){var a=F.apply(this,arguments);if(this.$$typeof===D){var b=G.call(arguments,1);return Object.defineProperties(a,{$$typeof:{value:D},$$id:{value:this.$$id},$$bound:b={value:this.$$bound?this.$$bound.concat(b):b},bind:{value:H,configurable:!0}})}return a}var I={value:function(){return"function () { [omitted code] }"},configurable:!0,writable:!0},J=Promise.prototype,K={get:function(a,b){switch(b){case"$$typeof":return a.$$typeof;case"$$id":return a.$$id;case"$$async":return a.$$async;case"name":return a.name;case"displayName":case"defaultProps":case"_debugInfo":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case Symbol.toStringTag:return Object.prototype[Symbol.toStringTag];case"Provider":throw Error("Cannot render a Client Context Provider on the Server. Instead, you can export a Client Component wrapper that itself renders a Client Context Provider.");case"then":throw Error("Cannot await or return from a thenable. You cannot await a client module from a server component.")}throw Error("Cannot access "+String(a.name)+"."+String(b)+" on the server. You cannot dot into a client module from a server component. You can only pass the imported name through.")},set:function(){throw Error("Cannot assign to a client module from a server module.")}};function L(a,b){switch(b){case"$$typeof":return a.$$typeof;case"$$id":return a.$$id;case"$$async":return a.$$async;case"name":return a.name;case"defaultProps":case"_debugInfo":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case Symbol.toStringTag:return Object.prototype[Symbol.toStringTag];case"__esModule":var c=a.$$id;return a.default=E(function(){throw Error("Attempted to call the default export of "+c+" from the server but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},a.$$id+"#",a.$$async),!0;case"then":if(a.then)return a.then;if(a.$$async)return;var d=E({},a.$$id,!0),e=new Proxy(d,M);return a.status="fulfilled",a.value=e,a.then=E(function(a){return Promise.resolve(a(e))},a.$$id+"#then",!1)}if("symbol"==typeof b)throw Error("Cannot read Symbol exports. Only named exports are supported on a client module imported on the server.");return(d=a[b])||(Object.defineProperty(d=E(function(){throw Error("Attempted to call "+String(b)+"() from the server but "+String(b)+" is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},a.$$id+"#"+b,a.$$async),"name",{value:b}),d=a[b]=new Proxy(d,K)),d}var M={get:function(a,b){return L(a,b)},getOwnPropertyDescriptor:function(a,b){var c=Object.getOwnPropertyDescriptor(a,b);return c||(c={value:L(a,b),writable:!1,configurable:!1,enumerable:!1},Object.defineProperty(a,b,c)),c},getPrototypeOf:function(){return J},set:function(){throw Error("Cannot assign to a client module from a server module.")}},N=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=N.d;function P(a){if(null==a)return null;var b,c=!1,d={};for(b in a)null!=a[b]&&(c=!0,d[b]=a[b]);return c?d:null}N.d={f:O.f,r:O.r,D:function(a){if("string"==typeof a&&a){var b=as();if(b){var c=b.hints,d="D|"+a;c.has(d)||(c.add(d),au(b,"D",a))}else O.D(a)}},C:function(a,b){if("string"==typeof a){var c=as();if(c){var d=c.hints,e="C|"+(null==b?"null":b)+"|"+a;d.has(e)||(d.add(e),"string"==typeof b?au(c,"C",[a,b]):au(c,"C",a))}else O.C(a,b)}},L:function(a,b,c){if("string"==typeof a){var d=as();if(d){var e=d.hints,f="L";if("image"===b&&c){var g=c.imageSrcSet,h=c.imageSizes,i="";"string"==typeof g&&""!==g?(i+="["+g+"]","string"==typeof h&&(i+="["+h+"]")):i+="[][]"+a,f+="[image]"+i}else f+="["+b+"]"+a;e.has(f)||(e.add(f),(c=P(c))?au(d,"L",[a,b,c]):au(d,"L",[a,b]))}else O.L(a,b,c)}},m:function(a,b){if("string"==typeof a){var c=as();if(c){var d=c.hints,e="m|"+a;if(d.has(e))return;return d.add(e),(b=P(b))?au(c,"m",[a,b]):au(c,"m",a)}O.m(a,b)}},X:function(a,b){if("string"==typeof a){var c=as();if(c){var d=c.hints,e="X|"+a;if(d.has(e))return;return d.add(e),(b=P(b))?au(c,"X",[a,b]):au(c,"X",a)}O.X(a,b)}},S:function(a,b,c){if("string"==typeof a){var d=as();if(d){var e=d.hints,f="S|"+a;if(e.has(f))return;return e.add(f),(c=P(c))?au(d,"S",[a,"string"==typeof b?b:0,c]):"string"==typeof b?au(d,"S",[a,b]):au(d,"S",a)}O.S(a,b,c)}},M:function(a,b){if("string"==typeof a){var c=as();if(c){var d=c.hints,e="M|"+a;if(d.has(e))return;return d.add(e),(b=P(b))?au(c,"M",[a,b]):au(c,"M",a)}O.M(a,b)}}};var Q="function"==typeof AsyncLocalStorage,R=Q?new AsyncLocalStorage:null,S=Symbol.for("react.temporary.reference"),T={get:function(a,b){switch(b){case"$$typeof":return a.$$typeof;case"name":case"displayName":case"defaultProps":case"_debugInfo":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case Symbol.toStringTag:return Object.prototype[Symbol.toStringTag];case"Provider":throw Error("Cannot render a Client Context Provider on the Server. Instead, you can export a Client Component wrapper that itself renders a Client Context Provider.");case"then":return}throw Error("Cannot access "+String(b)+" on the server. You cannot dot into a temporary client reference from a server component. You can only pass the value through to the client.")},set:function(){throw Error("Cannot assign to a temporary client reference from a server module.")}};function U(){}var V=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`."),W=null;function X(){if(null===W)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var a=W;return W=null,a}var Y=null,Z=0,$=null;function _(){var a=$||[];return $=null,a}var aa={readContext:ad,use:function(a){if(null!==a&&"object"==typeof a||"function"==typeof a){if("function"==typeof a.then){var b=Z;Z+=1,null===$&&($=[]);var c=$,d=a,e=b;switch(void 0===(e=c[e])?c.push(d):e!==d&&(d.then(U,U),d=e),d.status){case"fulfilled":return d.value;case"rejected":throw d.reason;default:switch("string"==typeof d.status?d.then(U,U):((c=d).status="pending",c.then(function(a){if("pending"===d.status){var b=d;b.status="fulfilled",b.value=a}},function(a){if("pending"===d.status){var b=d;b.status="rejected",b.reason=a}})),d.status){case"fulfilled":return d.value;case"rejected":throw d.reason}throw W=d,V}}a.$$typeof===i&&ad()}if(a.$$typeof===C){if(null!=a.value&&a.value.$$typeof===i)throw Error("Cannot read a Client Context from a Server Component.");throw Error("Cannot use() an already resolved Client Reference.")}throw Error("An unsupported type was passed to use(): "+String(a))},useCallback:function(a){return a},useContext:ad,useEffect:ab,useImperativeHandle:ab,useLayoutEffect:ab,useInsertionEffect:ab,useMemo:function(a){return a()},useReducer:ab,useRef:ab,useState:ab,useDebugValue:function(){},useDeferredValue:ab,useTransition:ab,useSyncExternalStore:ab,useId:function(){if(null===Y)throw Error("useId can only be used while React is rendering");var a=Y.identifierCount++;return"_"+Y.identifierPrefix+"S_"+a.toString(32)+"_"},useHostTransitionStatus:ab,useFormState:ab,useActionState:ab,useOptimistic:ab,useMemoCache:function(a){for(var b=Array(a),c=0;c<a;c++)b[c]=o;return b},useCacheRefresh:function(){return ac}};function ab(){throw Error("This Hook is not supported in Server Components.")}function ac(){throw Error("Refreshing the cache is not supported in Server Components.")}function ad(){throw Error("Cannot read a Client Context from a Server Component.")}var ae={getCacheForType:function(a){var b=(b=as())?b.cache:new Map,c=b.get(a);return void 0===c&&(c=a(),b.set(a,c)),c},cacheSignal:function(){var a=as();return a?a.cacheController.signal:null}},af=e.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;if(!af)throw Error('The "react" package in this environment is not configured correctly. The "react-server" condition must be enabled in any environment that runs React Server Components.');var ag=Array.isArray,ah=Object.getPrototypeOf;function ai(a){return(a=Object.prototype.toString.call(a)).slice(8,a.length-1)}function aj(a){switch(typeof a){case"string":return JSON.stringify(10>=a.length?a:a.slice(0,10)+"...");case"object":if(ag(a))return"[...]";if(null!==a&&a.$$typeof===ak)return"client";return"Object"===(a=ai(a))?"{...}":a;case"function":return a.$$typeof===ak?"client":(a=a.displayName||a.name)?"function "+a:"function";default:return String(a)}}var ak=Symbol.for("react.client.reference");function al(a,b){var c=ai(a);if("Object"!==c&&"Array"!==c)return c;c=-1;var d=0;if(ag(a)){for(var e="[",f=0;f<a.length;f++){0<f&&(e+=", ");var h=a[f];h="object"==typeof h&&null!==h?al(h):aj(h),""+f===b?(c=e.length,d=h.length,e+=h):e=10>h.length&&40>e.length+h.length?e+h:e+"..."}e+="]"}else if(a.$$typeof===g)e="<"+function a(b){if("string"==typeof b)return b;switch(b){case k:return"Suspense";case l:return"SuspenseList"}if("object"==typeof b)switch(b.$$typeof){case j:return a(b.render);case m:return a(b.type);case n:var c=b._payload;b=b._init;try{return a(b(c))}catch(a){}}return""}(a.type)+"/>";else{if(a.$$typeof===ak)return"client";for(h=0,e="{",f=Object.keys(a);h<f.length;h++){0<h&&(e+=", ");var i=f[h],o=JSON.stringify(i);e+=('"'+i+'"'===o?i:o)+": ",o="object"==typeof(o=a[i])&&null!==o?al(o):aj(o),i===b?(c=e.length,d=o.length,e+=o):e=10>o.length&&40>e.length+o.length?e+o:e+"..."}e+="}"}return void 0===b?e:-1<c&&0<d?"\n  "+e+"\n  "+(a=" ".repeat(c)+"^".repeat(d)):"\n  "+e}var am=Object.prototype.hasOwnProperty,an=Object.prototype,ao=JSON.stringify;function ap(a){console.error(a)}function aq(a,b,c,d,e,f,g,h,i){if(null!==af.A&&af.A!==ae)throw Error("Currently React only supports one RSC renderer at a time.");af.A=ae;var j=new Set,k=[],l=new Set;this.type=a,this.status=10,this.flushScheduled=!1,this.destination=this.fatalError=null,this.bundlerConfig=c,this.cache=new Map,this.cacheController=new AbortController,this.pendingChunks=this.nextChunkId=0,this.hints=l,this.abortableTasks=j,this.pingedTasks=k,this.completedImportChunks=[],this.completedHintChunks=[],this.completedRegularChunks=[],this.completedErrorChunks=[],this.writtenSymbols=new Map,this.writtenClientReferences=new Map,this.writtenServerReferences=new Map,this.writtenObjects=new WeakMap,this.temporaryReferences=i,this.identifierPrefix=h||"",this.identifierCount=1,this.taintCleanupQueue=[],this.onError=void 0===d?ap:d,this.onPostpone=void 0===e?U:e,this.onAllReady=f,this.onFatalError=g,k.push(a=aC(this,b,null,!1,j))}var ar=null;function as(){if(ar)return ar;if(Q){var a=R.getStore();if(a)return a}return null}function at(a,b,c){var d=aC(a,c,b.keyPath,b.implicitSlot,a.abortableTasks);switch(c.status){case"fulfilled":return d.model=c.value,aB(a,d),d.id;case"rejected":return aR(a,d,c.reason),d.id;default:if(12===a.status)return a.abortableTasks.delete(d),b=a.fatalError,aW(d),aX(d,a,b),d.id;"string"!=typeof c.status&&(c.status="pending",c.then(function(a){"pending"===c.status&&(c.status="fulfilled",c.value=a)},function(a){"pending"===c.status&&(c.status="rejected",c.reason=a)}))}return c.then(function(b){d.model=b,aB(a,d)},function(b){0===d.status&&(aR(a,d,b),a$(a))}),d.id}function au(a,b,c){b=z(":H"+b+(c=ao(c))+"\n"),a.completedHintChunks.push(b),a$(a)}function av(a){if("fulfilled"===a.status)return a.value;if("rejected"===a.status)throw a.reason;throw a}function aw(){}function ax(a,b,c,d,e){var f=b.thenableState;if(b.thenableState=null,Z=0,$=f,e=d(e,void 0),12===a.status)throw"object"==typeof e&&null!==e&&"function"==typeof e.then&&e.$$typeof!==C&&e.then(aw,aw),null;return e=function(a,b,c,d){if("object"!=typeof d||null===d||d.$$typeof===C)return d;if("function"==typeof d.then){switch(d.status){case"fulfilled":return d.value;case"rejected":break;default:"string"!=typeof d.status&&(d.status="pending",d.then(function(a){"pending"===d.status&&(d.status="fulfilled",d.value=a)},function(a){"pending"===d.status&&(d.status="rejected",d.reason=a)}))}return{$$typeof:n,_payload:d,_init:av}}var e=q(d);return e?((a={})[Symbol.iterator]=function(){return e.call(d)},a):"function"!=typeof d[r]||"function"==typeof ReadableStream&&d instanceof ReadableStream?d:((a={})[r]=function(){return d[r]()},a)}(a,0,0,e),d=b.keyPath,f=b.implicitSlot,null!==c?b.keyPath=null===d?c:d+","+c:null===d&&(b.implicitSlot=!0),a=aJ(a,b,aS,"",e),b.keyPath=d,b.implicitSlot=f,a}function ay(a,b,c){return null!==b.keyPath?(a=[g,h,b.keyPath,{children:c}],b.implicitSlot?[a]:a):c}var az=0;function aA(a,b){return b=aC(a,b.model,b.keyPath,b.implicitSlot,a.abortableTasks),aB(a,b),"$L"+b.id.toString(16)}function aB(a,b){var c=a.pingedTasks;c.push(b),1===c.length&&(a.flushScheduled=null!==a.destination,21===a.type||10===a.status?u(function(){return aV(a)}):setTimeout(function(){return aV(a)},0))}function aC(a,b,c,d,e){a.pendingChunks++;var f=a.nextChunkId++;"object"!=typeof b||null===b||null!==c||d||a.writtenObjects.set(b,aD(f));var h={id:f,status:0,model:b,keyPath:c,implicitSlot:d,ping:function(){return aB(a,h)},toJSON:function(b,c){az+=b.length;var d=h.keyPath,e=h.implicitSlot;try{var f=aJ(a,h,this,b,c)}catch(j){if(b="object"==typeof(b=h.model)&&null!==b&&(b.$$typeof===g||b.$$typeof===n),12===a.status)h.status=3,d=a.fatalError,f=b?"$L"+d.toString(16):aD(d);else if("object"==typeof(c=j===V?X():j)&&null!==c&&"function"==typeof c.then){var i=(f=aC(a,h.model,h.keyPath,h.implicitSlot,a.abortableTasks)).ping;c.then(i,i),f.thenableState=_(),h.keyPath=d,h.implicitSlot=e,f=b?"$L"+f.id.toString(16):aD(f.id)}else h.keyPath=d,h.implicitSlot=e,a.pendingChunks++,d=a.nextChunkId++,e=aK(a,c,h),aM(a,d,e),f=b?"$L"+d.toString(16):aD(d)}return f},thenableState:null};return e.add(h),h}function aD(a){return"$"+a.toString(16)}function aE(a,b,c){return a=ao(c),z(b=b.toString(16)+":"+a+"\n")}function aF(a,b,c,d){var e=d.$$async?d.$$id+"#async":d.$$id,f=a.writtenClientReferences,h=f.get(e);if(void 0!==h)return b[0]===g&&"1"===c?"$L"+h.toString(16):aD(h);try{var i=a.bundlerConfig,j=d.$$id;h="";var k=i[j];if(k)h=k.name;else{var l=j.lastIndexOf("#");if(-1!==l&&(h=j.slice(l+1),k=i[j.slice(0,l)]),!k)throw Error('Could not find the module "'+j+'" in the React Client Manifest. This is probably a bug in the React Server Components bundler.')}if(!0===k.async&&!0===d.$$async)throw Error('The module "'+j+'" is marked as an async ESM module but was loaded as a CJS proxy. This is probably a bug in the React Server Components bundler.');var m=!0===k.async||!0===d.$$async?[k.id,k.chunks,h,1]:[k.id,k.chunks,h];a.pendingChunks++;var n=a.nextChunkId++,o=ao(m),p=n.toString(16)+":I"+o+"\n",q=z(p);return a.completedImportChunks.push(q),f.set(e,n),b[0]===g&&"1"===c?"$L"+n.toString(16):aD(n)}catch(d){return a.pendingChunks++,b=a.nextChunkId++,c=aK(a,d,null),aM(a,b,c),aD(b)}}function aG(a,b){return b=aC(a,b,null,!1,a.abortableTasks),aT(a,b),b.id}function aH(a,b,c){a.pendingChunks++;var d=a.nextChunkId++;return aO(a,d,b,c,!1),aD(d)}var aI=!1;function aJ(a,b,c,d,e){if(b.model=e,e===g)return"$";if(null===e)return null;if("object"==typeof e){switch(e.$$typeof){case g:var i=null,k=a.writtenObjects;if(null===b.keyPath&&!b.implicitSlot){var l=k.get(e);if(void 0!==l)if(aI!==e)return l;else aI=null;else -1===d.indexOf(":")&&void 0!==(c=k.get(c))&&(i=c+":"+d,k.set(e,i))}if(3200<az)return aA(a,b);return c=(d=e.props).ref,"object"==typeof(a=function a(b,c,d,e,f,i){if(null!=f)throw Error("Refs cannot be used in Server Components, nor passed to Client Components.");if("function"==typeof d&&d.$$typeof!==C&&d.$$typeof!==S)return ax(b,c,e,d,i);if(d===h&&null===e)return d=c.implicitSlot,null===c.keyPath&&(c.implicitSlot=!0),i=aJ(b,c,aS,"",i.children),c.implicitSlot=d,i;if(null!=d&&"object"==typeof d&&d.$$typeof!==C)switch(d.$$typeof){case n:if(d=(0,d._init)(d._payload),12===b.status)throw null;return a(b,c,d,e,f,i);case j:return ax(b,c,e,d.render,i);case m:return a(b,c,d.type,e,f,i)}return b=e,e=c.keyPath,null===b?b=e:null!==e&&(b=e+","+b),i=[g,d,b,i],c=c.implicitSlot&&null!==b?[i]:i}(a,b,e.type,e.key,void 0!==c?c:null,d))&&null!==a&&null!==i&&(k.has(a)||k.set(a,i)),a;case n:if(3200<az)return aA(a,b);if(b.thenableState=null,e=(d=e._init)(e._payload),12===a.status)throw null;return aJ(a,b,aS,"",e);case f:throw Error('A React Element from an older version of React was rendered. This is not supported. It can happen if:\n- Multiple copies of the "react" package is used.\n- A library pre-bundled an old copy of "react" or "react/jsx-runtime".\n- A compiler tries to "inline" JSX instead of using the runtime.')}if(e.$$typeof===C)return aF(a,c,d,e);if(void 0!==a.temporaryReferences&&void 0!==(i=a.temporaryReferences.get(e)))return"$T"+i;if(k=(i=a.writtenObjects).get(e),"function"==typeof e.then){if(void 0!==k){if(null!==b.keyPath||b.implicitSlot)return"$@"+at(a,b,e).toString(16);if(aI!==e)return k;aI=null}return a="$@"+at(a,b,e).toString(16),i.set(e,a),a}if(void 0!==k)if(aI!==e)return k;else{if(k!==aD(b.id))return k;aI=null}else if(-1===d.indexOf(":")&&void 0!==(k=i.get(c))){if(l=d,ag(c)&&c[0]===g)switch(d){case"1":l="type";break;case"2":l="key";break;case"3":l="props";break;case"4":l="_owner"}i.set(e,k+":"+l)}if(ag(e))return ay(a,b,e);if(e instanceof Map)return"$Q"+aG(a,e=Array.from(e)).toString(16);if(e instanceof Set)return"$W"+aG(a,e=Array.from(e)).toString(16);if("function"==typeof FormData&&e instanceof FormData)return"$K"+aG(a,e=Array.from(e.entries())).toString(16);if(e instanceof Error)return"$Z";if(e instanceof ArrayBuffer)return aH(a,"A",new Uint8Array(e));if(e instanceof Int8Array)return aH(a,"O",e);if(e instanceof Uint8Array)return aH(a,"o",e);if(e instanceof Uint8ClampedArray)return aH(a,"U",e);if(e instanceof Int16Array)return aH(a,"S",e);if(e instanceof Uint16Array)return aH(a,"s",e);if(e instanceof Int32Array)return aH(a,"L",e);if(e instanceof Uint32Array)return aH(a,"l",e);if(e instanceof Float32Array)return aH(a,"G",e);if(e instanceof Float64Array)return aH(a,"g",e);if(e instanceof BigInt64Array)return aH(a,"M",e);if(e instanceof BigUint64Array)return aH(a,"m",e);if(e instanceof DataView)return aH(a,"V",e);if("function"==typeof Blob&&e instanceof Blob)return function(a,b){function c(b){0===f.status&&(a.cacheController.signal.removeEventListener("abort",d),aR(a,f,b),a$(a),g.cancel(b).then(c,c))}function d(){if(0===f.status){var b=a.cacheController.signal;b.removeEventListener("abort",d),aR(a,f,b=b.reason),a$(a),g.cancel(b).then(c,c)}}var e=[b.type],f=aC(a,e,null,!1,a.abortableTasks),g=b.stream().getReader();return a.cacheController.signal.addEventListener("abort",d),g.read().then(function b(h){if(0===f.status)if(!h.done)return e.push(h.value),g.read().then(b).catch(c);else a.cacheController.signal.removeEventListener("abort",d),aB(a,f)}).catch(c),"$B"+f.id.toString(16)}(a,e);if(i=q(e))return(d=i.call(e))===e?"$i"+aG(a,Array.from(d)).toString(16):ay(a,b,Array.from(d));if("function"==typeof ReadableStream&&e instanceof ReadableStream)return function(a,b,c){function d(b){0===h.status&&(a.cacheController.signal.removeEventListener("abort",e),aR(a,h,b),a$(a),g.cancel(b).then(d,d))}function e(){if(0===h.status){var b=a.cacheController.signal;b.removeEventListener("abort",e),aR(a,h,b=b.reason),a$(a),g.cancel(b).then(d,d)}}var f=c.supportsBYOB;if(void 0===f)try{c.getReader({mode:"byob"}).releaseLock(),f=!0}catch(a){f=!1}var g=c.getReader(),h=aC(a,b.model,b.keyPath,b.implicitSlot,a.abortableTasks);return a.pendingChunks++,b=h.id.toString(16)+":"+(f?"r":"R")+"\n",a.completedRegularChunks.push(z(b)),a.cacheController.signal.addEventListener("abort",e),g.read().then(function b(c){if(0===h.status)if(c.done)h.status=1,c=h.id.toString(16)+":C\n",a.completedRegularChunks.push(z(c)),a.abortableTasks.delete(h),a.cacheController.signal.removeEventListener("abort",e),a$(a),a_(a);else try{h.model=c.value,a.pendingChunks++,aU(a,h),a$(a),g.read().then(b,d)}catch(a){d(a)}},d),aD(h.id)}(a,b,e);if("function"==typeof(i=e[r]))return null!==b.keyPath?(a=[g,h,b.keyPath,{children:e}],a=b.implicitSlot?[a]:a):(d=i.call(e),a=function(a,b,c,d){function e(b){0===g.status&&(a.cacheController.signal.removeEventListener("abort",f),aR(a,g,b),a$(a),"function"==typeof d.throw&&d.throw(b).then(e,e))}function f(){if(0===g.status){var b=a.cacheController.signal;b.removeEventListener("abort",f);var c=b.reason;aR(a,g,b.reason),a$(a),"function"==typeof d.throw&&d.throw(c).then(e,e)}}c=c===d;var g=aC(a,b.model,b.keyPath,b.implicitSlot,a.abortableTasks);return a.pendingChunks++,b=g.id.toString(16)+":"+(c?"x":"X")+"\n",a.completedRegularChunks.push(z(b)),a.cacheController.signal.addEventListener("abort",f),d.next().then(function b(c){if(0===g.status)if(c.done){if(g.status=1,void 0===c.value)var h=g.id.toString(16)+":C\n";else try{var i=aG(a,c.value);h=g.id.toString(16)+":C"+ao(aD(i))+"\n"}catch(a){e(a);return}a.completedRegularChunks.push(z(h)),a.abortableTasks.delete(g),a.cacheController.signal.removeEventListener("abort",f),a$(a),a_(a)}else try{g.model=c.value,a.pendingChunks++,aU(a,g),a$(a),d.next().then(b,e)}catch(a){e(a)}},e),aD(g.id)}(a,b,e,d)),a;if(e instanceof Date)return"$D"+e.toJSON();if((a=ah(e))!==an&&(null===a||null!==ah(a)))throw Error("Only plain objects, and a few built-ins, can be passed to Client Components from Server Components. Classes or null prototypes are not supported."+al(c,d));return e}if("string"==typeof e)return(az+=e.length,"Z"===e[e.length-1]&&c[d]instanceof Date)?"$D"+e:1024<=e.length&&null!==A?(a.pendingChunks++,b=a.nextChunkId++,aP(a,b,e,!1),aD(b)):a="$"===e[0]?"$"+e:e;if("boolean"==typeof e)return e;if("number"==typeof e)return Number.isFinite(e)?0===e&&-1/0==1/e?"$-0":e:1/0===e?"$Infinity":-1/0===e?"$-Infinity":"$NaN";if(void 0===e)return"$undefined";if("function"==typeof e){if(e.$$typeof===C)return aF(a,c,d,e);if(e.$$typeof===D)return void 0!==(d=(b=a.writtenServerReferences).get(e))?a="$h"+d.toString(16):(d=null===(d=e.$$bound)?null:Promise.resolve(d),a=aG(a,{id:e.$$id,bound:d}),b.set(e,a),a="$h"+a.toString(16)),a;if(void 0!==a.temporaryReferences&&void 0!==(a=a.temporaryReferences.get(e)))return"$T"+a;if(e.$$typeof===S)throw Error("Could not reference an opaque temporary reference. This is likely due to misconfiguring the temporaryReferences options on the server.");if(/^on[A-Z]/.test(d))throw Error("Event handlers cannot be passed to Client Component props."+al(c,d)+"\nIf you need interactivity, consider converting part of this to a Client Component.");throw Error('Functions cannot be passed directly to Client Components unless you explicitly expose it by marking it with "use server". Or maybe you meant to call this function rather than return it.'+al(c,d))}if("symbol"==typeof e){if(void 0!==(i=(b=a.writtenSymbols).get(e)))return aD(i);if(Symbol.for(i=e.description)!==e)throw Error("Only global symbols received from Symbol.for(...) can be passed to Client Components. The symbol Symbol.for("+e.description+") cannot be found among global symbols."+al(c,d));return a.pendingChunks++,d=a.nextChunkId++,c=aE(a,d,"$S"+i),a.completedImportChunks.push(c),b.set(e,d),aD(d)}if("bigint"==typeof e)return"$n"+e.toString(10);throw Error("Type "+typeof e+" is not supported in Client Component props."+al(c,d))}function aK(a,b){var c=ar;ar=null;try{var d=a.onError,e=Q?R.run(void 0,d,b):d(b)}finally{ar=c}if(null!=e&&"string"!=typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e||""}function aL(a,b){(0,a.onFatalError)(b),null!==a.destination?(a.status=14,B(a.destination,b)):(a.status=13,a.fatalError=b),a.cacheController.abort(Error("The render was aborted due to a fatal error.",{cause:b}))}function aM(a,b,c){c={digest:c},b=z(b=b.toString(16)+":E"+ao(c)+"\n"),a.completedErrorChunks.push(b)}function aN(a,b,c){b=z(b=b.toString(16)+":"+c+"\n"),a.completedRegularChunks.push(b)}function aO(a,b,c,d,e){e?a.pendingDebugChunks++:a.pendingChunks++,e=new Uint8Array(d.buffer,d.byteOffset,d.byteLength),e=(d=2048<d.byteLength?e.slice():e).byteLength,b=z(b=b.toString(16)+":"+c+e.toString(16)+","),a.completedRegularChunks.push(b,d)}function aP(a,b,c,d){if(null===A)throw Error("Existence of byteLengthOfChunk should have already been checked. This is a bug in React.");d?a.pendingDebugChunks++:a.pendingChunks++,d=(c=z(c)).byteLength,b=z(b=b.toString(16)+":T"+d.toString(16)+","),a.completedRegularChunks.push(b,c)}function aQ(a,b,c){var d=b.id;"string"==typeof c&&null!==A?aP(a,d,c,!1):c instanceof ArrayBuffer?aO(a,d,"A",new Uint8Array(c),!1):c instanceof Int8Array?aO(a,d,"O",c,!1):c instanceof Uint8Array?aO(a,d,"o",c,!1):c instanceof Uint8ClampedArray?aO(a,d,"U",c,!1):c instanceof Int16Array?aO(a,d,"S",c,!1):c instanceof Uint16Array?aO(a,d,"s",c,!1):c instanceof Int32Array?aO(a,d,"L",c,!1):c instanceof Uint32Array?aO(a,d,"l",c,!1):c instanceof Float32Array?aO(a,d,"G",c,!1):c instanceof Float64Array?aO(a,d,"g",c,!1):c instanceof BigInt64Array?aO(a,d,"M",c,!1):c instanceof BigUint64Array?aO(a,d,"m",c,!1):c instanceof DataView?aO(a,d,"V",c,!1):(c=ao(c,b.toJSON),aN(a,b.id,c))}function aR(a,b,c){b.status=4,c=aK(a,c,b),aM(a,b.id,c),a.abortableTasks.delete(b),a_(a)}var aS={};function aT(a,b){if(0===b.status){b.status=5;var c=az;try{aI=b.model;var d=aJ(a,b,aS,"",b.model);if(aI=d,b.keyPath=null,b.implicitSlot=!1,"object"==typeof d&&null!==d)a.writtenObjects.set(d,aD(b.id)),aQ(a,b,d);else{var e=ao(d);aN(a,b.id,e)}b.status=1,a.abortableTasks.delete(b),a_(a)}catch(c){if(12===a.status){a.abortableTasks.delete(b),b.status=0;var f=a.fatalError;aW(b),aX(b,a,f)}else{var g=c===V?X():c;if("object"==typeof g&&null!==g&&"function"==typeof g.then){b.status=0,b.thenableState=_();var h=b.ping;g.then(h,h)}else aR(a,b,g)}}finally{az=c}}}function aU(a,b){var c=az;try{aQ(a,b,b.model)}finally{az=c}}function aV(a){var b=af.H;af.H=aa;var c=ar;Y=ar=a;try{var d=a.pingedTasks;a.pingedTasks=[];for(var e=0;e<d.length;e++)aT(a,d[e]);aY(a)}catch(b){aK(a,b,null),aL(a,b)}finally{af.H=b,Y=null,ar=c}}function aW(a){0===a.status&&(a.status=3)}function aX(a,b,c){3===a.status&&(c=aD(c),a=aE(b,a.id,c),b.completedErrorChunks.push(a))}function aY(a){var b=a.destination;if(null!==b){v=new Uint8Array(2048),w=0;try{for(var c=a.completedImportChunks,d=0;d<c.length;d++)a.pendingChunks--,x(b,c[d]);c.splice(0,d);var e=a.completedHintChunks;for(d=0;d<e.length;d++)x(b,e[d]);e.splice(0,d);var f=a.completedRegularChunks;for(d=0;d<f.length;d++)a.pendingChunks--,x(b,f[d]);f.splice(0,d);var g=a.completedErrorChunks;for(d=0;d<g.length;d++)a.pendingChunks--,x(b,g[d]);g.splice(0,d)}finally{a.flushScheduled=!1,v&&0<w&&(b.enqueue(new Uint8Array(v.buffer,0,w)),v=null,w=0)}}0===a.pendingChunks&&(12>a.status&&a.cacheController.abort(Error("This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.")),null!==a.destination&&(a.status=14,a.destination.close(),a.destination=null))}function aZ(a){a.flushScheduled=null!==a.destination,Q?u(function(){R.run(a,aV,a)}):u(function(){return aV(a)}),setTimeout(function(){10===a.status&&(a.status=11)},0)}function a$(a){!1===a.flushScheduled&&0===a.pingedTasks.length&&null!==a.destination&&(a.flushScheduled=!0,setTimeout(function(){a.flushScheduled=!1,aY(a)},0))}function a_(a){0===a.abortableTasks.size&&(a=a.onAllReady)()}function a0(a,b){if(13===a.status)a.status=14,B(b,a.fatalError);else if(14!==a.status&&null===a.destination){a.destination=b;try{aY(a)}catch(b){aK(a,b,null),aL(a,b)}}}function a1(a,b){if(!(11<a.status))try{a.status=12,a.cacheController.abort(b);var c=a.abortableTasks;if(0<c.size){var d=void 0===b?Error("The render was aborted by the server without a reason."):"object"==typeof b&&null!==b&&"function"==typeof b.then?Error("The render was aborted by the server with a promise."):b,e=aK(a,d,null),f=a.nextChunkId++;a.fatalError=f,a.pendingChunks++,aM(a,f,e,d,!1),c.forEach(function(b){return aW(b,a,f)}),setTimeout(function(){try{c.forEach(function(b){return aX(b,a,f)}),(0,a.onAllReady)(),aY(a)}catch(b){aK(a,b,null),aL(a,b)}},0)}else(0,a.onAllReady)(),aY(a)}catch(b){aK(a,b,null),aL(a,b)}}function a2(a,b){var c="",d=a[b];if(d)c=d.name;else{var e=b.lastIndexOf("#");if(-1!==e&&(c=b.slice(e+1),d=a[b.slice(0,e)]),!d)throw Error('Could not find the module "'+b+'" in the React Server Manifest. This is probably a bug in the React Server Components bundler.')}return d.async?[d.id,d.chunks,c,1]:[d.id,d.chunks,c]}var a3=new Map;function a4(a){var b=globalThis.__next_require__(a);return"function"!=typeof b.then||"fulfilled"===b.status?null:(b.then(function(a){b.status="fulfilled",b.value=a},function(a){b.status="rejected",b.reason=a}),b)}function a5(){}function a6(a){for(var b=a[1],d=[],e=0;e<b.length;){var f=b[e++];b[e++];var g=a3.get(f);if(void 0===g){g=c.e(f),d.push(g);var h=a3.set.bind(a3,f,null);g.then(h,a5),a3.set(f,g)}else null!==g&&d.push(g)}return 4===a.length?0===d.length?a4(a[0]):Promise.all(d).then(function(){return a4(a[0])}):0<d.length?Promise.all(d):null}function a7(a){var b=globalThis.__next_require__(a[0]);if(4===a.length&&"function"==typeof b.then)if("fulfilled"===b.status)b=b.value;else throw b.reason;return"*"===a[2]?b:""===a[2]?b.__esModule?b.default:b:am.call(b,a[2])?b[a[2]]:void 0}var a8=Symbol();function a9(a,b,c){this.status=a,this.value=b,this.reason=c}function ba(a,b,c){for(var d=0;d<b.length;d++){var e=b[d];"function"==typeof e?e(c):bm(a,e,c)}}function bb(a,b,c){for(var d=0;d<b.length;d++){var e=b[d];"function"==typeof e?e(c):bn(a,e.handler,c)}}function bc(a,b,c){if("pending"!==b.status&&"blocked"!==b.status)b.reason.error(c);else{var d=b.reason;b.status="rejected",b.reason=c,null!==d&&bb(a,d,c)}}function bd(a,b,c){var d={};return new a9("resolved_model",b,(d.id=c,d[a8]=a,d))}function be(a,b,c,d){if("pending"!==b.status)b=b.reason,"C"===c[0]?b.close("C"===c?'"$undefined"':c.slice(1)):b.enqueueModel(c);else{var e=b.value,f=b.reason;if(b.status="resolved_model",b.value=c,c={},b.reason=(c.id=d,c[a8]=a,c),null!==e)a:switch(bj(b),b.status){case"fulfilled":ba(a,e,b.value);break;case"blocked":for(c=0;c<e.length;c++)if("function"!=typeof(d=e[c])){var g=function a(b,c){var d=c.handler.chunk;if(null===d)return null;if(d===b)return c.handler;if(null!==(c=d.value))for(d=0;d<c.length;d++){var e=c[d];if("function"!=typeof e&&null!==(e=a(b,e)))return e}return null}(b,d);if(null!==g)switch(bm(a,d,g.value),e.splice(c,1),c--,null!==f&&-1!==(d=f.indexOf(d))&&f.splice(d,1),b.status){case"fulfilled":ba(a,e,b.value);break a;case"rejected":null!==f&&bb(a,f,b.reason);break a}}case"pending":if(b.value)for(a=0;a<e.length;a++)b.value.push(e[a]);else b.value=e;if(b.reason){if(f)for(e=0;e<f.length;e++)b.reason.push(f[e])}else b.reason=f;break;case"rejected":f&&ba(a,f,b.reason)}}}function bf(a,b,c){var d={};return new a9("resolved_model",(c?'{"done":true,"value":':'{"done":false,"value":')+b+"}",(d.id=-1,d[a8]=a,d))}function bg(a,b,c,d){be(a,b,(d?'{"done":true,"value":':'{"done":false,"value":')+c+"}",-1)}function bh(a,b,c,d){var e=b.id;if("string"!=typeof e||"then"===d)return null;var f=a2(a._bundlerConfig,e);e=b.bound;var g=a6(f);if(g)e instanceof a9&&(g=Promise.all([g,e]));else{if(!(e instanceof a9))return a7(f);g=Promise.resolve(e)}if(bi){var h=bi;h.deps++}else h=bi={chunk:null,value:null,reason:null,deps:1,errored:!1};return g.then(function(){var e=a7(f);if(b.bound){var g=b.bound.value;(g=Array.isArray(g)?g.slice(0):[]).unshift(null),e=e.bind.apply(e,g)}c[d]=e,""===d&&null===h.value&&(h.value=e),h.deps--,0===h.deps&&null!==(e=h.chunk)&&"blocked"===e.status&&(g=e.value,e.status="fulfilled",e.value=h.value,e.reason=null,null!==g&&ba(a,g,h.value))},function(b){if(!h.errored){h.errored=!0,h.value=null,h.reason=b;var c=h.chunk;null!==c&&"blocked"===c.status&&bc(a,c,b)}}),null}a9.prototype=Object.create(Promise.prototype),a9.prototype.then=function(a,b){switch("resolved_model"===this.status&&bj(this),this.status){case"fulfilled":if("function"==typeof a){for(var c=this.value,d=0;c instanceof a9;){if(d++,c===this||1e3<d){"function"==typeof b&&b(Error("Cannot have cyclic thenables."));return}if("fulfilled"===c.status)c=c.value;else break}a(this.value)}break;case"pending":case"blocked":"function"==typeof a&&(null===this.value&&(this.value=[]),this.value.push(a)),"function"==typeof b&&(null===this.reason&&(this.reason=[]),this.reason.push(b));break;default:"function"==typeof b&&b(this.reason)}};var bi=null;function bj(a){var b=bi;bi=null;var c=a.reason,d=c[a8];c=-1===(c=c.id)?void 0:c.toString(16);var e=a.value;a.status="blocked",a.value=null,a.reason=null;try{var f=JSON.parse(e),g=function a(b,c,d,e,f){if("string"==typeof e)return function(a,b,c,d,e){if("$"===d[0]){switch(d[1]){case"$":return d.slice(1);case"@":return bl(a,b=parseInt(d.slice(2),16));case"h":return bo(a,d=d.slice(2),b,c,bh);case"T":var f,g;if(void 0===e||void 0===a._temporaryReferences)throw Error("Could not reference an opaque temporary reference. This is likely due to misconfiguring the temporaryReferences options on the server.");return f=a._temporaryReferences,g=new Proxy(g=Object.defineProperties(function(){throw Error("Attempted to call a temporary Client Reference from the server but it is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},{$$typeof:{value:S}}),T),f.set(g,e),g;case"Q":return bo(a,d=d.slice(2),b,c,bp);case"W":return bo(a,d=d.slice(2),b,c,bq);case"K":b=d.slice(2);var h=a._prefix+b+"_",i=new FormData;return a._formData.forEach(function(a,b){b.startsWith(h)&&i.append(b.slice(h.length),a)}),i;case"i":return bo(a,d=d.slice(2),b,c,br);case"I":return 1/0;case"-":return"$-0"===d?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(d.slice(2)));case"n":return BigInt(d.slice(2))}switch(d[1]){case"A":return bt(a,d,ArrayBuffer,1,b,c);case"O":return bt(a,d,Int8Array,1,b,c);case"o":return bt(a,d,Uint8Array,1,b,c);case"U":return bt(a,d,Uint8ClampedArray,1,b,c);case"S":return bt(a,d,Int16Array,2,b,c);case"s":return bt(a,d,Uint16Array,2,b,c);case"L":return bt(a,d,Int32Array,4,b,c);case"l":return bt(a,d,Uint32Array,4,b,c);case"G":return bt(a,d,Float32Array,4,b,c);case"g":return bt(a,d,Float64Array,8,b,c);case"M":return bt(a,d,BigInt64Array,8,b,c);case"m":return bt(a,d,BigUint64Array,8,b,c);case"V":return bt(a,d,DataView,1,b,c);case"B":return b=parseInt(d.slice(2),16),a._formData.get(a._prefix+b)}switch(d[1]){case"R":return bv(a,d,void 0);case"r":return bv(a,d,"bytes");case"X":return bx(a,d,!1);case"x":return bx(a,d,!0)}return bo(a,d=d.slice(1),b,c,bs)}return d}(b,c,d,e,f);if("object"==typeof e&&null!==e)if(void 0!==f&&void 0!==b._temporaryReferences&&b._temporaryReferences.set(e,f),Array.isArray(e))for(var g=0;g<e.length;g++)e[g]=a(b,e,""+g,e[g],void 0!==f?f+":"+g:void 0);else for(g in e)am.call(e,g)&&(c=void 0!==f&&-1===g.indexOf(":")?f+":"+g:void 0,void 0!==(c=a(b,e,g,e[g],c))||"__proto__"===g?e[g]=c:delete e[g]);return e}(d,{"":f},"",f,c),h=a.value;if(null!==h)for(a.value=null,a.reason=null,f=0;f<h.length;f++){var i=h[f];"function"==typeof i?i(g):bm(d,i,g)}if(null!==bi){if(bi.errored)throw bi.reason;if(0<bi.deps){bi.value=g,bi.chunk=a;return}}a.status="fulfilled",a.value=g,a.reason=null}catch(b){a.status="rejected",a.reason=b}finally{bi=b}}function bk(a,b){a._closed=!0,a._closedReason=b,a._chunks.forEach(function(c){"pending"===c.status?bc(a,c,b):"fulfilled"===c.status&&null!==c.reason&&c.reason.error(b)})}function bl(a,b){var c=a._chunks,d=c.get(b);return d||(d="string"==typeof(d=a._formData.get(a._prefix+b))?bd(a,d,b):a._closed?new a9("rejected",null,a._closedReason):new a9("pending",null,null),c.set(b,d)),d}function bm(a,b,c){var d=b.handler,e=b.parentObject,f=b.key,g=b.map,h=b.path;try{for(var i=1;i<h.length;i++){var j=h[i];if("object"!=typeof c||!am.call(c,j)||c instanceof Promise)throw Error("Invalid reference.");c=c[j]}var k=g(a,c,e,f);e[f]=k,""===f&&null===d.value&&(d.value=k)}catch(c){bn(a,b.handler,c);return}d.deps--,0===d.deps&&null!==(b=d.chunk)&&"blocked"===b.status&&(c=b.value,b.status="fulfilled",b.value=d.value,b.reason=d.reason,null!==c&&ba(a,c,d.value))}function bn(a,b,c){b.errored||(b.errored=!0,b.value=null,b.reason=c,null!==(b=b.chunk)&&"blocked"===b.status&&bc(a,b,c))}function bo(a,b,c,d,e){var f=parseInt((b=b.split(":"))[0],16);switch("resolved_model"===(f=bl(a,f)).status&&bj(f),f.status){case"fulfilled":f=f.value;for(var g=1;g<b.length;g++){var h=b[g];if("object"!=typeof f||!am.call(f,h)||f instanceof Promise)throw Error("Invalid reference.");f=f[h]}return e(a,f,c,d);case"pending":case"blocked":return bi?(a=bi,a.deps++):a=bi={chunk:null,value:null,reason:null,deps:1,errored:!1},c={handler:a,parentObject:c,key:d,map:e,path:b},null===f.value?f.value=[c]:f.value.push(c),null===f.reason?f.reason=[c]:f.reason.push(c),null;default:return bi?(bi.errored=!0,bi.value=null,bi.reason=f.reason):bi={chunk:null,value:null,reason:f.reason,deps:0,errored:!0},null}}function bp(a,b){return new Map(b)}function bq(a,b){return new Set(b)}function br(a,b){return b[Symbol.iterator]()}function bs(a,b,c,d){return"then"===d&&"function"==typeof b?null:b}function bt(a,b,c,d,e,f){if(b=parseInt(b.slice(2),16),d=a._prefix+b,a._chunks.has(b))throw Error("Already initialized typed array.");if(b=a._formData.get(d).arrayBuffer(),bi){var g=bi;g.deps++}else g=bi={chunk:null,value:null,reason:null,deps:1,errored:!1};return b.then(function(b){if(b=c===ArrayBuffer?b:new c(b),e[f]=b,""===f&&null===g.value&&(g.value=b),g.deps--,0===g.deps&&null!==(b=g.chunk)&&"blocked"===b.status){var d=b.value;b.status="fulfilled",b.value=g.value,b.reason=null,null!==d&&ba(a,d,g.value)}},function(b){if(!g.errored){g.errored=!0,g.value=null,g.reason=b;var c=g.chunk;null!==c&&"blocked"===c.status&&bc(a,c,b)}}),null}function bu(a,b,c,d){var e=a._chunks;for(c=new a9("fulfilled",c,d),e.set(b,c),a=a._formData.getAll(a._prefix+b),b=0;b<a.length;b++)"string"==typeof(e=a[b])&&("C"===e[0]?d.close("C"===e?'"$undefined"':e.slice(1)):d.enqueueModel(e))}function bv(a,b,c){if(b=parseInt(b.slice(2),16),a._chunks.has(b))throw Error("Already initialized stream.");var d=null,e=!1;c=new ReadableStream({type:c,start:function(a){d=a}});var f=null;return bu(a,b,c,{enqueueModel:function(b){if(null===f){var c=bd(a,b,-1);bj(c),"fulfilled"===c.status?d.enqueue(c.value):(c.then(function(a){return d.enqueue(a)},function(a){return d.error(a)}),f=c)}else{c=f;var e=new a9("pending",null,null);e.then(function(a){return d.enqueue(a)},function(a){return d.error(a)}),f=e,c.then(function(){f===e&&(f=null),be(a,e,b,-1)})}},close:function(){if(!e)if(e=!0,null===f)d.close();else{var a=f;f=null,a.then(function(){return d.close()})}},error:function(a){if(!e)if(e=!0,null===f)d.error(a);else{var b=f;f=null,b.then(function(){return d.error(a)})}}}),c}function bw(){return this}function bx(a,b,c){if(b=parseInt(b.slice(2),16),a._chunks.has(b))throw Error("Already initialized stream.");var d=[],e=!1,f=0,g={};return g[r]=function(){var a,b=0;return(a={next:a=function(a){if(void 0!==a)throw Error("Values cannot be passed to next() of AsyncIterables passed to Client Components.");if(b===d.length){if(e)return new a9("fulfilled",{done:!0,value:void 0},null);d[b]=new a9("pending",null,null)}return d[b++]}})[r]=bw,a},bu(a,b,c=c?g[r]():g,{enqueueModel:function(b){f===d.length?d[f]=bf(a,b,!1):bg(a,d[f],b,!1),f++},close:function(b){if(!e)for(e=!0,f===d.length?d[f]=bf(a,b,!0):bg(a,d[f],b,!0),f++;f<d.length;)bg(a,d[f++],'"$undefined"',!0)},error:function(b){if(!e)for(e=!0,f===d.length&&(d[f]=new a9("pending",null,null));f<d.length;)bc(a,d[f++],b)}}),c}function by(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new FormData;return{_bundlerConfig:a,_prefix:b,_formData:d,_chunks:new Map,_closed:!1,_closedReason:null,_temporaryReferences:c}}function bz(a){bk(a,Error("Connection closed."))}function bA(a,b,c){var d=a2(a,b);return a=a6(d),c?Promise.all([c,a]).then(function(a){a=a[0];var b=a7(d);return b.bind.apply(b,[null].concat(a))}):a?Promise.resolve(a).then(function(){return a7(d)}):Promise.resolve(a7(d))}function bB(a,b,c){if(bz(a=by(b,c,void 0,a)),(a=bl(a,0)).then(function(){}),"fulfilled"!==a.status)throw a.reason;return a.value}b.createClientModuleProxy=function(a){return new Proxy(a=E({},a,!1),M)},b.createTemporaryReferenceSet=function(){return new WeakMap},b.decodeAction=function(a,b){var c=new FormData,d=null;return a.forEach(function(e,f){f.startsWith("$ACTION_")?f.startsWith("$ACTION_REF_")?(e=bB(a,b,e="$ACTION_"+f.slice(12)+":"),d=bA(b,e.id,e.bound)):f.startsWith("$ACTION_ID_")&&(d=bA(b,e=f.slice(11),null)):c.append(f,e)}),null===d?null:d.then(function(a){return a.bind(null,c)})},b.decodeFormState=function(a,b,c){var d=b.get("$ACTION_KEY");if("string"!=typeof d)return Promise.resolve(null);var e=null;if(b.forEach(function(a,d){d.startsWith("$ACTION_REF_")&&(e=bB(b,c,"$ACTION_"+d.slice(12)+":"))}),null===e)return Promise.resolve(null);var f=e.id;return Promise.resolve(e.bound).then(function(b){return null===b?null:[a,d,f,b.length-1]})},b.decodeReply=function(a,b,c){if("string"==typeof a){var d=new FormData;d.append("0",a),a=d}return b=bl(a=by(b,"",c?c.temporaryReferences:void 0,a),0),bz(a),b},b.decodeReplyFromAsyncIterable=function(a,b,c){function d(a){bk(f,a),"function"==typeof e.throw&&e.throw(a).then(d,d)}var e=a[r](),f=by(b,"",c?c.temporaryReferences:void 0);return e.next().then(function a(b){if(b.done)bz(f);else{var c=(b=b.value)[0];if("string"==typeof(b=b[1])){f._formData.append(c,b);var g=f._prefix;if(c.startsWith(g)){var h=f._chunks;c=+c.slice(g.length),(h=h.get(c))&&be(f,h,b,c)}}else f._formData.append(c,b);e.next().then(a,d)}},d),bl(f,0)},b.registerClientReference=function(a,b,c){return E(a,b+"#"+c,!1)},b.registerServerReference=function(a,b,c){return Object.defineProperties(a,{$$typeof:{value:D},$$id:{value:null===c?b:b+"#"+c,configurable:!0},$$bound:{value:null,configurable:!0},bind:{value:H,configurable:!0},toString:I})},b.renderToReadableStream=function(a,b,c){var d=new aq(20,a,b,c?c.onError:void 0,c?c.onPostpone:void 0,U,U,c?c.identifierPrefix:void 0,c?c.temporaryReferences:void 0);if(c&&c.signal){var e=c.signal;if(e.aborted)a1(d,e.reason);else{var f=function(){a1(d,e.reason),e.removeEventListener("abort",f)};e.addEventListener("abort",f)}}return new ReadableStream({type:"bytes",start:function(){aZ(d)},pull:function(a){a0(d,a)},cancel:function(a){d.destination=null,a1(d,a)}},{highWaterMark:0})},b.unstable_prerender=function(a,b,c){return new Promise(function(d,e){var f=new aq(21,a,b,c?c.onError:void 0,c?c.onPostpone:void 0,function(){d({prelude:new ReadableStream({type:"bytes",pull:function(a){a0(f,a)},cancel:function(a){f.destination=null,a1(f,a)}},{highWaterMark:0})})},e,c?c.identifierPrefix:void 0,c?c.temporaryReferences:void 0);if(c&&c.signal){var g=c.signal;if(g.aborted)a1(f,g.reason);else{var h=function(){a1(f,g.reason),g.removeEventListener("abort",h)};g.addEventListener("abort",h)}}aZ(f)})}},9605:(a,b,c)=>{"use strict";c.d(b,{IP:()=>k,YA:()=>j,hX:()=>h,wN:()=>i});var d=c(8742),e=c(7106),f=/^([0-9a-f]{32})$/i,g=/^[0-9a-f]{16}$/i;function h(a){return f.test(a)&&a!==d.RH}function i(a){return g.test(a)&&a!==d.w9}function j(a){return h(a.traceId)&&i(a.spanId)}function k(a){return new e.d(a)}},9629:(a,b,c)=>{"use strict";c.d(b,{fs:()=>i,a1:()=>h});var d=c(4364);c(7574),c(5356).Buffer,new d.q(0x3200000,a=>a.size),process.env.NEXT_PRIVATE_DEBUG_CACHE&&console.debug.bind(console,"DefaultCacheHandler:"),process.env.NEXT_PRIVATE_DEBUG_CACHE&&((a,...b)=>{console.log(`use-cache: ${a}`,...b)}),Symbol.for("@next/cache-handlers");let e=Symbol.for("@next/cache-handlers-map"),f=Symbol.for("@next/cache-handlers-set"),g=globalThis;function h(){if(g[f])return g[f].values()}function i(){if(g[e])return g[e].entries()}},9639:(a,b,c)=>{"use strict";c.d(b,{y:()=>e});var d=new(c(7021)).o,e=function(){function a(a,b,c,d){this._provider=a,this.name=b,this.version=c,this.options=d}return a.prototype.startSpan=function(a,b,c){return this._getTracer().startSpan(a,b,c)},a.prototype.startActiveSpan=function(a,b,c,d){var e=this._getTracer();return Reflect.apply(e.startActiveSpan,e,arguments)},a.prototype._getTracer=function(){if(this._delegate)return this._delegate;var a=this._provider.getDelegateTracer(this.name,this.version,this.options);return a?(this._delegate=a,this._delegate):d},a}()},9643:(a,b,c)=>{"use strict";c.d(b,{Ck:()=>h,EJ:()=>l,IN:()=>j,K8:()=>k});var d=c(4148),e=c(4953),f=c(1320);class g extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new g}}class h{static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"clear":case"delete":case"set":return g.callable;default:return e.l.get(a,b,c)}}})}}let i=Symbol.for("next.mutated.cookies");function j(a,b){let c=function(a){let b=a[i];return b&&Array.isArray(b)&&0!==b.length?b:[]}(b);if(0===c.length)return!1;let e=new d.VO(a),f=e.getAll();for(let a of c)e.set(a);for(let a of f)e.set(a);return!0}class k{static wrap(a,b){let c=new d.VO(new Headers);for(let b of a.getAll())c.set(b);let g=[],h=new Set,j=()=>{let a=f.J.getStore();if(a&&(a.pathWasRevalidated=!0),g=c.getAll().filter(a=>h.has(a.name)),b){let a=[];for(let b of g){let c=new d.VO(new Headers);c.set(b),a.push(c.toString())}b(a)}},k=new Proxy(c,{get(a,b,c){switch(b){case i:return g;case"delete":return function(...b){h.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.delete(...b),k}finally{j()}};case"set":return function(...b){h.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.set(...b),k}finally{j()}};default:return e.l.get(a,b,c)}}});return k}}function l(a){let b=new Proxy(a.mutableCookies,{get(c,d,f){switch(d){case"delete":return function(...d){return m(a,"cookies().delete"),c.delete(...d),b};case"set":return function(...d){return m(a,"cookies().set"),c.set(...d),b};default:return e.l.get(c,d,f)}}});return b}function m(a,b){if("action"!==a.phase)throw new g}},9646:(a,b,c)=>{"use strict";c.d(b,{C:()=>h,Y:()=>e});var d=c(9629);async function e(a,b){if(!a)return b();let c=f(a);try{return await b()}finally{let b=function(a,b){let c=new Set(a.pendingRevalidatedTags),d=new Set(a.pendingRevalidateWrites);return{pendingRevalidatedTags:b.pendingRevalidatedTags.filter(a=>!c.has(a)),pendingRevalidates:Object.fromEntries(Object.entries(b.pendingRevalidates).filter(([b])=>!(b in a.pendingRevalidates))),pendingRevalidateWrites:b.pendingRevalidateWrites.filter(a=>!d.has(a))}}(c,f(a));await h(a,b)}}function f(a){return{pendingRevalidatedTags:a.pendingRevalidatedTags?[...a.pendingRevalidatedTags]:[],pendingRevalidates:{...a.pendingRevalidates},pendingRevalidateWrites:a.pendingRevalidateWrites?[...a.pendingRevalidateWrites]:[]}}async function g(a,b){if(0===a.length)return;let c=[];b&&c.push(b.revalidateTag(a));let e=(0,d.a1)();if(e)for(let b of e)c.push(b.expireTags(...a));await Promise.all(c)}async function h(a,b){let c=(null==b?void 0:b.pendingRevalidatedTags)??a.pendingRevalidatedTags??[],d=(null==b?void 0:b.pendingRevalidates)??a.pendingRevalidates??{},e=(null==b?void 0:b.pendingRevalidateWrites)??a.pendingRevalidateWrites??[];return Promise.all([g(c,a.incrementalCache),...Object.values(d),...e])}},9711:(a,b,c)=>{"use strict";c.d(b,{l5:()=>F,VQ:()=>E});var d=c(9817),e=c(4132),f=c(4644),g=c(6036),h=c(3891),i=c(4479);c(4885);var j=c(8711),k=c(8522),l=c(4563);function m(a){return a.replace(/__ESC_COLON_/gi,":")}function n(a,b){if(!a.includes(":"))return a;for(let c of Object.keys(b))a.includes(":"+c)&&(a=a.replace(RegExp(":"+c+"\\*","g"),":"+c+"--ESCAPED_PARAM_ASTERISKS").replace(RegExp(":"+c+"\\?","g"),":"+c+"--ESCAPED_PARAM_QUESTION").replace(RegExp(":"+c+"\\+","g"),":"+c+"--ESCAPED_PARAM_PLUS").replace(RegExp(":"+c+"(?!\\w)","g"),"--ESCAPED_PARAM_COLON"+c));return a=a.replace(/(:|\*|\?|\+|\(|\)|\{|\})/g,"\\$1").replace(/--ESCAPED_PARAM_PLUS/g,"+").replace(/--ESCAPED_PARAM_COLON/g,":").replace(/--ESCAPED_PARAM_QUESTION/g,"?").replace(/--ESCAPED_PARAM_ASTERISKS/g,"*"),(0,l.jT)("/"+a,{validate:!1})(b).slice(1)}var o=c(6425),p=c(9304),q=c(2205),r=c(1350);function s(a){try{return decodeURIComponent(a)}catch{return a}}var t=c(1);let u=/https?|ftp|gopher|file/;var v=c(1988),w=c.n(v);let x=w().enums(["c","ci","oc","d","di"]),y=w().union([w().string(),w().tuple([w().string(),w().string(),x])]),z=w().tuple([y,w().record(w().string(),w().lazy(()=>z)),w().optional(w().nullable(w().string())),w().optional(w().nullable(w().union([w().literal("refetch"),w().literal("refresh"),w().literal("inside-shared-layout"),w().literal("metadata-only")]))),w().optional(w().boolean())]);var A=c(6831),B=c(3375),C=c(9197);function D(a,b){for(let c in delete a.nextInternalLocale,a){let d=c!==q.AA&&c.startsWith(q.AA),e=c!==q.h&&c.startsWith(q.h);(d||e||b.includes(c))&&delete a[c]}}function E({page:a,i18n:b,basePath:c,rewrites:q,pageIsDynamic:w,trailingSlash:x,caseSensitive:y}){let E,F,G;return w&&(E=(0,f._s)(a,{prefixRouteKeys:!1}),G=(F=(0,g.g)(E))(a)),{handleRewrites:function(f,g){let p={},r=g.pathname,s=o=>{let q=function(a,b){let c=[],d=(0,e.pathToRegexp)(a,c,{delimiter:"/",sensitive:"boolean"==typeof(null==b?void 0:b.sensitive)&&b.sensitive,strict:null==b?void 0:b.strict}),f=(0,e.regexpToFunction)((null==b?void 0:b.regexModifier)?new RegExp(b.regexModifier(d.source),d.flags):d,c);return(a,d)=>{if("string"!=typeof a)return!1;let e=f(a);if(!e)return!1;if(null==b?void 0:b.removeUnnamedParams)for(let a of c)"number"==typeof a.name&&delete e.params[a.name];return{...d,...e.params}}}(o.source+(x?"(/)?":""),{removeUnnamedParams:!0,strict:!0,sensitive:!!y});if(!g.pathname)return!1;let s=q(g.pathname);if((o.has||o.missing)&&s){let a=function(a,b,c,d){void 0===c&&(c=[]),void 0===d&&(d=[]);let e={},f=c=>{let d,f=c.key;switch(c.type){case"header":f=f.toLowerCase(),d=a.headers[f];break;case"cookie":d="cookies"in a?a.cookies[c.key]:(0,k.i)(a.headers)()[c.key];break;case"query":d=b[f];break;case"host":{let{host:b}=(null==a?void 0:a.headers)||{};d=null==b?void 0:b.split(":",1)[0].toLowerCase()}}if(!c.value&&d)return e[function(a){let b="";for(let c=0;c<a.length;c++){let d=a.charCodeAt(c);(d>64&&d<91||d>96&&d<123)&&(b+=a[c])}return b}(f)]=d,!0;if(d){let a=RegExp("^"+c.value+"$"),b=Array.isArray(d)?d.slice(-1)[0].match(a):d.match(a);if(b)return Array.isArray(b)&&(b.groups?Object.keys(b.groups).forEach(a=>{e[a]=b.groups[a]}):"host"===c.type&&b[0]&&(e.host=b[0])),!0}return!1};return!(!c.every(a=>f(a))||d.some(a=>f(a)))&&e}(f,g.query,o.has,o.missing);a?Object.assign(s,a):s=!1}if(s){try{if((0,A.Q)(o)){let a=f.headers[B.B];a&&(s={...function a(b,c){for(let d of(void 0===c&&(c={}),Object.values(b[1]))){let b=d[0],e=Array.isArray(b),f=e?b[1]:b;!f||f.startsWith(C.OG)||(e&&("c"===b[2]||"oc"===b[2])?c[b[0]]=b[1].split("/"):e&&(c[b[0]]=b[1]),c=a(d,c))}return c}(function(a){if(void 0!==a){if(Array.isArray(a))throw Object.defineProperty(Error("Multiple router state headers were sent. This is not allowed."),"__NEXT_ERROR_CODE",{value:"E418",enumerable:!1,configurable:!0});if(a.length>4e4)throw Object.defineProperty(Error("The router state header was too large."),"__NEXT_ERROR_CODE",{value:"E142",enumerable:!1,configurable:!0});try{let b=JSON.parse(decodeURIComponent(a));return(0,v.assert)(b,z),b}catch{throw Object.defineProperty(Error("The router state header was sent but could not be parsed."),"__NEXT_ERROR_CODE",{value:"E10",enumerable:!1,configurable:!0})}}}(a)),...s})}}catch(a){}let{parsedDestination:e,destQuery:k}=function(a){let b,c,d=function(a){let b=a.destination;for(let c of Object.keys({...a.params,...a.query}))c&&(b=b.replace(RegExp(":"+(0,h.q)(c),"g"),"__ESC_COLON_"+c));let c=function(a){if(a.startsWith("/"))return function(a,b,c){void 0===c&&(c=!0);let d=new URL("http://n"),e=a.startsWith(".")?new URL("http://n"):d,{pathname:f,searchParams:g,search:h,hash:j,href:k,origin:l}=new URL(a,e);if(l!==d.origin)throw Object.defineProperty(Error("invariant: invalid relative URL, router received "+a),"__NEXT_ERROR_CODE",{value:"E159",enumerable:!1,configurable:!0});return{pathname:f,query:c?(0,i.v1)(g):void 0,search:h,hash:j,href:k.slice(l.length),slashes:void 0}}(a);let b=new URL(a);return{hash:b.hash,hostname:b.hostname,href:b.href,pathname:b.pathname,port:b.port,protocol:b.protocol,query:(0,i.v1)(b.searchParams),search:b.search,slashes:"//"===b.href.slice(b.protocol.length,b.protocol.length+2)}}(b),d=c.pathname;d&&(d=m(d));let e=c.href;e&&(e=m(e));let f=c.hostname;f&&(f=m(f));let g=c.hash;g&&(g=m(g));let j=c.search;return j&&(j=m(j)),{...c,pathname:d,hostname:f,href:e,hash:g,search:j}}(a),{hostname:e,query:f,search:g}=d,k=d.pathname;d.hash&&(k=""+k+d.hash);let o=[],p=[];for(let a of((0,l.FD)(k,p),p))o.push(a.name);if(e){let a=[];for(let b of((0,l.FD)(e,a),a))o.push(b.name)}let q=(0,l.jT)(k,{validate:!1});for(let[c,d]of(e&&(b=(0,l.jT)(e,{validate:!1})),Object.entries(f)))Array.isArray(d)?f[c]=d.map(b=>n(m(b),a.params)):"string"==typeof d&&(f[c]=n(m(d),a.params));let r=Object.keys(a.params).filter(a=>"nextInternalLocale"!==a);if(a.appendParamsToQuery&&!r.some(a=>o.includes(a)))for(let b of r)b in f||(f[b]=a.params[b]);if((0,j.m1)(k))for(let b of k.split("/")){let c=j.VB.find(a=>b.startsWith(a));if(c){"(..)(..)"===c?(a.params["0"]="(..)",a.params["1"]="(..)"):a.params["0"]=c;break}}try{let[e,f]=(c=q(a.params)).split("#",2);b&&(d.hostname=b(a.params)),d.pathname=e,d.hash=(f?"#":"")+(f||""),d.search=g?n(g,a.params):""}catch(a){if(a.message.match(/Expected .*? to not repeat, but got an array/))throw Object.defineProperty(Error("To use a multi-match in the destination you must add `*` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match"),"__NEXT_ERROR_CODE",{value:"E329",enumerable:!1,configurable:!0});throw a}return d.query={...a.query,...d.query},{newUrl:c,destQuery:f,parsedDestination:d}}({appendParamsToQuery:!0,destination:o.destination,params:s,query:g.query});if(e.protocol)return!0;if(Object.assign(p,k,s),Object.assign(g.query,e.query),delete e.query,Object.entries(g.query).forEach(([a,b])=>{if(b&&"string"==typeof b&&b.startsWith(":")){let c=p[b.slice(1)];c&&(g.query[a]=c)}}),Object.assign(g,e),!(r=g.pathname))return!1;if(c&&(r=r.replace(RegExp(`^${c}`),"")||"/"),b){let a=(0,d.d)(r,b.locales);r=a.pathname,g.query.nextInternalLocale=a.detectedLocale||s.nextInternalLocale}if(r===a)return!0;if(w&&F){let a=F(r);if(a)return g.query={...g.query,...a},!0}}return!1};for(let a of q.beforeFiles||[])s(a);if(r!==a){let b=!1;for(let a of q.afterFiles||[])if(b=s(a))break;if(!b&&!(()=>{let b=(0,o.U)(r||"");return b===(0,o.U)(a)||(null==F?void 0:F(b))})()){for(let a of q.fallback||[])if(b=s(a))break}}return p},defaultRouteRegex:E,dynamicRouteMatcher:F,defaultRouteMatches:G,normalizeQueryParams:function(a,b){for(let[c,d]of(delete a.nextInternalLocale,Object.entries(a))){let e=(0,r.wN)(c);e&&(delete a[c],b.add(e),void 0!==d&&(a[e]=Array.isArray(d)?d.map(a=>s(a)):s(d)))}},getParamsFromRouteMatches:function(a){if(!E)return null;let{groups:b,routeKeys:c}=E,d=(0,g.g)({re:{exec:a=>{let d=Object.fromEntries(new URLSearchParams(a));for(let[a,b]of Object.entries(d)){let c=(0,r.wN)(a);c&&(d[c]=b,delete d[a])}let e={};for(let a of Object.keys(c)){let f=c[a];if(!f)continue;let g=b[f],h=d[a];if(!g.optional&&!h)return null;e[g.pos]=h}return e}},groups:b})(a);return d||null},normalizeDynamicRouteParams:(a,b)=>{if(!E||!G)return{params:{},hasValidParams:!1};var c=E,d=G;let e={};for(let f of Object.keys(c.groups)){let g=a[f];"string"==typeof g?g=(0,p.P)(g):Array.isArray(g)&&(g=g.map(p.P));let h=d[f],i=c.groups[f].optional;if((Array.isArray(h)?h.some(a=>Array.isArray(g)?g.some(b=>b.includes(a)):null==g?void 0:g.includes(a)):null==g?void 0:g.includes(h))||void 0===g&&!(i&&b))return{params:{},hasValidParams:!1};i&&(!g||Array.isArray(g)&&1===g.length&&("index"===g[0]||g[0]===`[[...${f}]]`))&&(g=void 0,delete a[f]),g&&"string"==typeof g&&c.groups[f].repeat&&(g=g.split("/")),g&&(e[f]=g)}return{params:e,hasValidParams:!0}},normalizeCdnUrl:(a,b)=>(function(a,b){let c=(0,t.Rk)(a.url);if(!c)return a.url;delete c.search,D(c.query,b),a.url=function(a){let{auth:b,hostname:c}=a,d=a.protocol||"",e=a.pathname||"",f=a.hash||"",g=a.query||"",h=!1;b=b?encodeURIComponent(b).replace(/%3A/i,":")+"@":"",a.host?h=b+a.host:c&&(h=b+(~c.indexOf(":")?"["+c+"]":c),a.port&&(h+=":"+a.port)),g&&"object"==typeof g&&(g=String(i.Bw(g)));let j=a.search||g&&"?"+g||"";return d&&!d.endsWith(":")&&(d+=":"),a.slashes||(!d||u.test(d))&&!1!==h?(h="//"+(h||""),e&&"/"!==e[0]&&(e="/"+e)):h||(h=""),f&&"#"!==f[0]&&(f="#"+f),j&&"?"!==j[0]&&(j="?"+j),""+d+h+(e=e.replace(/[?#]/g,encodeURIComponent))+(j=j.replace("#","%23"))+f}(c)})(a,b),interpolateDynamicPath:(a,b)=>(function(a,b,c){if(!c)return a;for(let d of Object.keys(c.groups)){let e,{optional:f,repeat:g}=c.groups[d],h=`[${g?"...":""}${d}]`;f&&(h=`[${h}]`);let i=b[d];((e=Array.isArray(i)?i.map(a=>a&&encodeURIComponent(a)).join("/"):i?encodeURIComponent(i):"")||f)&&(a=a.replaceAll(h,e))}return a})(a,b,E),filterInternalQuery:(a,b)=>D(a,b)}}function F(a,b){return"string"==typeof a[q.vS]&&a[q.c1]===b?a[q.vS].split(","):[]}},9726:(a,b,c)=>{"use strict";c.d(b,{G:()=>d});class d extends Error{constructor(){super(),this.message="Internal: NoFallbackError"}}},9794:(a,b,c)=>{"use strict";c.d(b,{sw:()=>L});var d=c(8460),e=c(5600),f=c(9989),g=(0,d.ID)(()=>(0,d.jN)(f.Ik({error:f.Ik({code:f.ai().nullable(),message:f.Yj(),status:f.Yj()})}))),h=(0,d.sl)({errorSchema:g,errorToMessage:a=>a.error.message}),i=(0,d.ID)(()=>(0,d.jN)(f.Ik({outputDimensionality:f.ai().optional(),taskType:f.k5(["SEMANTIC_SIMILARITY","CLASSIFICATION","CLUSTERING","RETRIEVAL_DOCUMENT","RETRIEVAL_QUERY","QUESTION_ANSWERING","FACT_VERIFICATION","CODE_RETRIEVAL_QUERY"]).optional()}))),j=class{constructor(a,b){this.specificationVersion="v3",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=a,this.config=b}get provider(){return this.config.provider}async doEmbed({values:a,headers:b,abortSignal:c,providerOptions:f}){let g=await (0,d.xI)({provider:"google",providerOptions:f,schema:i});if(a.length>this.maxEmbeddingsPerCall)throw new e.Ch({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:a});let j=(0,d.m2)(await (0,d.hd)(this.config.headers),b);if(1===a.length){let{responseHeaders:b,value:e,rawValue:f}=await (0,d.GU)({url:`${this.config.baseURL}/models/${this.modelId}:embedContent`,headers:j,body:{model:`models/${this.modelId}`,content:{parts:[{text:a[0]}]},outputDimensionality:null==g?void 0:g.outputDimensionality,taskType:null==g?void 0:g.taskType},failedResponseHandler:h,successfulResponseHandler:(0,d.cV)(l),abortSignal:c,fetch:this.config.fetch});return{warnings:[],embeddings:[e.embedding.values],usage:void 0,response:{headers:b,body:f}}}let{responseHeaders:m,value:n,rawValue:o}=await (0,d.GU)({url:`${this.config.baseURL}/models/${this.modelId}:batchEmbedContents`,headers:j,body:{requests:a.map(a=>({model:`models/${this.modelId}`,content:{role:"user",parts:[{text:a}]},outputDimensionality:null==g?void 0:g.outputDimensionality,taskType:null==g?void 0:g.taskType}))},failedResponseHandler:h,successfulResponseHandler:(0,d.cV)(k),abortSignal:c,fetch:this.config.fetch});return{warnings:[],embeddings:n.embeddings.map(a=>a.values),usage:void 0,response:{headers:m,body:o}}}},k=(0,d.ID)(()=>(0,d.jN)(f.Ik({embeddings:f.YO(f.Ik({values:f.YO(f.ai())}))}))),l=(0,d.ID)(()=>(0,d.jN)(f.Ik({embedding:f.Ik({values:f.YO(f.ai())})})));function m(a){var b,c,d,e;if(null==a)return{inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0},raw:void 0};let f=null!=(b=a.promptTokenCount)?b:0,g=null!=(c=a.candidatesTokenCount)?c:0,h=null!=(d=a.cachedContentTokenCount)?d:0,i=null!=(e=a.thoughtsTokenCount)?e:0;return{inputTokens:{total:f,noCache:f-h,cacheRead:h,cacheWrite:void 0},outputTokens:{total:g+i,text:g,reasoning:i},raw:a}}function n(a,b=!0){var c;if(null==a)return;if(null!=(c=a)&&"object"==typeof c&&"object"===c.type&&(null==c.properties||0===Object.keys(c.properties).length)&&!c.additionalProperties)return b?void 0:"object"==typeof a&&a.description?{type:"object",description:a.description}:{type:"object"};if("boolean"==typeof a)return{type:"boolean",properties:{}};let{type:d,description:e,required:f,properties:g,items:h,allOf:i,anyOf:j,oneOf:k,format:l,const:m,minLength:o,enum:p}=a,q={};if(e&&(q.description=e),f&&(q.required=f),l&&(q.format=l),void 0!==m&&(q.enum=[m]),d)if(Array.isArray(d)){let a=d.includes("null"),b=d.filter(a=>"null"!==a);0===b.length?q.type="null":(q.anyOf=b.map(a=>({type:a})),a&&(q.nullable=!0))}else q.type=d;if(void 0!==p&&(q.enum=p),null!=g&&(q.properties=Object.entries(g).reduce((a,[b,c])=>(a[b]=n(c,!1),a),{})),h&&(q.items=Array.isArray(h)?h.map(a=>n(a,!1)):n(h,!1)),i&&(q.allOf=i.map(a=>n(a,!1))),j)if(j.some(a=>"object"==typeof a&&(null==a?void 0:a.type)==="null")){let a=j.filter(a=>"object"!=typeof a||(null==a?void 0:a.type)!=="null");if(1===a.length){let b=n(a[0],!1);"object"==typeof b&&(q.nullable=!0,Object.assign(q,b))}else q.anyOf=a.map(a=>n(a,!1)),q.nullable=!0}else q.anyOf=j.map(a=>n(a,!1));return k&&(q.oneOf=k.map(a=>n(a,!1))),void 0!==o&&(q.minLength=o),q}function o(a){return a.includes("/")?a:`models/${a}`}var p=(0,d.ID)(()=>(0,d.jN)(f.Ik({responseModalities:f.YO(f.k5(["TEXT","IMAGE"])).optional(),thinkingConfig:f.Ik({thinkingBudget:f.ai().optional(),includeThoughts:f.zM().optional(),thinkingLevel:f.k5(["minimal","low","medium","high"]).optional()}).optional(),cachedContent:f.Yj().optional(),structuredOutputs:f.zM().optional(),safetySettings:f.YO(f.Ik({category:f.k5(["HARM_CATEGORY_UNSPECIFIED","HARM_CATEGORY_HATE_SPEECH","HARM_CATEGORY_DANGEROUS_CONTENT","HARM_CATEGORY_HARASSMENT","HARM_CATEGORY_SEXUALLY_EXPLICIT","HARM_CATEGORY_CIVIC_INTEGRITY"]),threshold:f.k5(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"])})).optional(),threshold:f.k5(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"]).optional(),audioTimestamp:f.zM().optional(),labels:f.g1(f.Yj(),f.Yj()).optional(),mediaResolution:f.k5(["MEDIA_RESOLUTION_UNSPECIFIED","MEDIA_RESOLUTION_LOW","MEDIA_RESOLUTION_MEDIUM","MEDIA_RESOLUTION_HIGH"]).optional(),imageConfig:f.Ik({aspectRatio:f.k5(["1:1","2:3","3:2","3:4","4:3","4:5","5:4","9:16","16:9","21:9"]).optional(),imageSize:f.k5(["1K","2K","4K"]).optional()}).optional(),retrievalConfig:f.Ik({latLng:f.Ik({latitude:f.ai(),longitude:f.ai()}).optional()}).optional()})));function q({finishReason:a,hasToolCalls:b}){switch(a){case"STOP":return b?"tool-calls":"stop";case"MAX_TOKENS":return"length";case"IMAGE_SAFETY":case"RECITATION":case"SAFETY":case"BLOCKLIST":case"PROHIBITED_CONTENT":case"SPII":return"content-filter";case"MALFORMED_FUNCTION_CALL":return"error";default:return"other"}}var r=class{constructor(a,b){var c;this.specificationVersion="v3",this.modelId=a,this.config=b,this.generateId=null!=(c=b.generateId)?c:d.$C}get provider(){return this.config.provider}get supportedUrls(){var a,b,c;return null!=(c=null==(b=(a=this.config).supportedUrls)?void 0:b.call(a))?c:{}}async getArgs({prompt:a,maxOutputTokens:b,temperature:c,topP:f,topK:g,frequencyPenalty:h,presencePenalty:i,stopSequences:j,responseFormat:k,seed:l,tools:m,toolChoice:o,providerOptions:q}){var r;let s=[],t=this.config.provider.includes("vertex")?"vertex":"google",u=await (0,d.xI)({provider:t,providerOptions:q,schema:p});null==u&&"google"!==t&&(u=await (0,d.xI)({provider:"google",providerOptions:q,schema:p})),(null==m?void 0:m.some(a=>"provider"===a.type&&"google.vertex_rag_store"===a.id))&&!this.config.provider.startsWith("google.vertex.")&&s.push({type:"other",message:`The 'vertex_rag_store' tool is only supported with the Google Vertex provider and might not be supported or could behave unexpectedly with the current Google provider (${this.config.provider}).`});let v=this.modelId.toLowerCase().startsWith("gemma-"),{contents:w,systemInstruction:x}=function(a,b){var c,f,g;let h=[],i=[],j=!0,k=null!=(c=null==b?void 0:b.isGemmaModel)&&c,l=null!=(f=null==b?void 0:b.providerOptionsName)?f:"google";for(let{role:b,content:c}of a)switch(b){case"system":if(!j)throw new e.b8({functionality:"system messages are only supported at the beginning of the conversation"});h.push({text:c});break;case"user":{j=!1;let a=[];for(let b of c)switch(b.type){case"text":a.push({text:b.text});break;case"file":{let c="image/*"===b.mediaType?"image/jpeg":b.mediaType;a.push(b.data instanceof URL?{fileData:{mimeType:c,fileUri:b.data.toString()}}:{inlineData:{mimeType:c,data:(0,d.ej)(b.data)}})}}i.push({role:"user",parts:a});break}case"assistant":j=!1,i.push({role:"model",parts:c.map(a=>{var b;let c=null==(b=a.providerOptions)?void 0:b[l],f=(null==c?void 0:c.thoughtSignature)!=null?String(c.thoughtSignature):void 0;switch(a.type){case"text":return 0===a.text.length?void 0:{text:a.text,thoughtSignature:f};case"reasoning":return 0===a.text.length?void 0:{text:a.text,thought:!0,thoughtSignature:f};case"file":if(a.data instanceof URL)throw new e.b8({functionality:"File data URLs in assistant messages are not supported"});return{inlineData:{mimeType:a.mediaType,data:(0,d.ej)(a.data)},thoughtSignature:f};case"tool-call":return{functionCall:{name:a.toolName,args:a.input},thoughtSignature:f}}}).filter(a=>void 0!==a)});break;case"tool":{j=!1;let a=[];for(let b of c){if("tool-approval-response"===b.type)continue;let c=b.output;if("content"===c.type)for(let d of c.value)switch(d.type){case"text":a.push({functionResponse:{name:b.toolName,response:{name:b.toolName,content:d.text}}});break;case"image-data":a.push({inlineData:{mimeType:d.mediaType,data:d.data}},{text:"Tool executed successfully and returned this image as a response"});break;default:a.push({text:JSON.stringify(d)})}else a.push({functionResponse:{name:b.toolName,response:{name:b.toolName,content:"execution-denied"===c.type?null!=(g=c.reason)?g:"Tool execution denied.":c.value}}})}i.push({role:"user",parts:a})}}if(k&&h.length>0&&i.length>0&&"user"===i[0].role){let a=h.map(a=>a.text).join("\n\n");i[0].parts.unshift({text:a+"\n\n"})}return{systemInstruction:h.length>0&&!k?{parts:h}:void 0,contents:i}}(a,{isGemmaModel:v,providerOptionsName:t}),{tools:y,toolConfig:z,toolWarnings:A}=function({tools:a,toolChoice:b,modelId:c}){var d;a=(null==a?void 0:a.length)?a:void 0;let f=[],g=["gemini-flash-latest","gemini-flash-lite-latest","gemini-pro-latest"].some(a=>a===c),h=c.includes("gemini-2")||c.includes("gemini-3")||g,i=c.includes("gemini-1.5-flash")&&!c.includes("-8b"),j=c.includes("gemini-2.5")||c.includes("gemini-3");if(null==a)return{tools:void 0,toolConfig:void 0,toolWarnings:f};let k=a.some(a=>"function"===a.type),l=a.some(a=>"provider"===a.type);if(k&&l&&f.push({type:"unsupported",feature:"combination of function and provider-defined tools"}),l){let b=[];return a.filter(a=>"provider"===a.type).forEach(a=>{switch(a.id){case"google.google_search":h?b.push({googleSearch:{}}):i?b.push({googleSearchRetrieval:{dynamicRetrievalConfig:{mode:a.args.mode,dynamicThreshold:a.args.dynamicThreshold}}}):b.push({googleSearchRetrieval:{}});break;case"google.enterprise_web_search":h?b.push({enterpriseWebSearch:{}}):f.push({type:"unsupported",feature:`provider-defined tool ${a.id}`,details:"Enterprise Web Search requires Gemini 2.0 or newer."});break;case"google.url_context":h?b.push({urlContext:{}}):f.push({type:"unsupported",feature:`provider-defined tool ${a.id}`,details:"The URL context tool is not supported with other Gemini models than Gemini 2."});break;case"google.code_execution":h?b.push({codeExecution:{}}):f.push({type:"unsupported",feature:`provider-defined tool ${a.id}`,details:"The code execution tools is not supported with other Gemini models than Gemini 2."});break;case"google.file_search":j?b.push({fileSearch:{...a.args}}):f.push({type:"unsupported",feature:`provider-defined tool ${a.id}`,details:"The file search tool is only supported with Gemini 2.5 models and Gemini 3 models."});break;case"google.vertex_rag_store":h?b.push({retrieval:{vertex_rag_store:{rag_resources:{rag_corpus:a.args.ragCorpus},similarity_top_k:a.args.topK}}}):f.push({type:"unsupported",feature:`provider-defined tool ${a.id}`,details:"The RAG store tool is not supported with other Gemini models than Gemini 2."});break;case"google.google_maps":h?b.push({googleMaps:{}}):f.push({type:"unsupported",feature:`provider-defined tool ${a.id}`,details:"The Google Maps grounding tool is not supported with Gemini models other than Gemini 2 or newer."});break;default:f.push({type:"unsupported",feature:`provider-defined tool ${a.id}`})}}),{tools:b.length>0?b:void 0,toolConfig:void 0,toolWarnings:f}}let m=[];for(let b of a)"function"===b.type?m.push({name:b.name,description:null!=(d=b.description)?d:"",parameters:n(b.inputSchema)}):f.push({type:"unsupported",feature:`function tool ${b.name}`});if(null==b)return{tools:[{functionDeclarations:m}],toolConfig:void 0,toolWarnings:f};let o=b.type;switch(o){case"auto":return{tools:[{functionDeclarations:m}],toolConfig:{functionCallingConfig:{mode:"AUTO"}},toolWarnings:f};case"none":return{tools:[{functionDeclarations:m}],toolConfig:{functionCallingConfig:{mode:"NONE"}},toolWarnings:f};case"required":return{tools:[{functionDeclarations:m}],toolConfig:{functionCallingConfig:{mode:"ANY"}},toolWarnings:f};case"tool":return{tools:[{functionDeclarations:m}],toolConfig:{functionCallingConfig:{mode:"ANY",allowedFunctionNames:[b.toolName]}},toolWarnings:f};default:throw new e.b8({functionality:`tool choice type: ${o}`})}}({tools:m,toolChoice:o,modelId:this.modelId});return{args:{generationConfig:{maxOutputTokens:b,temperature:c,topK:g,topP:f,frequencyPenalty:h,presencePenalty:i,stopSequences:j,seed:l,responseMimeType:(null==k?void 0:k.type)==="json"?"application/json":void 0,responseSchema:(null==k?void 0:k.type)==="json"&&null!=k.schema&&(null==(r=null==u?void 0:u.structuredOutputs)||r)?n(k.schema):void 0,...(null==u?void 0:u.audioTimestamp)&&{audioTimestamp:u.audioTimestamp},responseModalities:null==u?void 0:u.responseModalities,thinkingConfig:null==u?void 0:u.thinkingConfig,...(null==u?void 0:u.mediaResolution)&&{mediaResolution:u.mediaResolution},...(null==u?void 0:u.imageConfig)&&{imageConfig:u.imageConfig}},contents:w,systemInstruction:v?void 0:x,safetySettings:null==u?void 0:u.safetySettings,tools:y,toolConfig:(null==u?void 0:u.retrievalConfig)?{...z,retrievalConfig:u.retrievalConfig}:z,cachedContent:null==u?void 0:u.cachedContent,labels:null==u?void 0:u.labels},warnings:[...s,...A],providerOptionsName:t}}async doGenerate(a){var b,c,e,f,g,i,j,k,l;let n,{args:p,warnings:r,providerOptionsName:t}=await this.getArgs(a),u=(0,d.m2)(await (0,d.hd)(this.config.headers),a.headers),{responseHeaders:v,value:w,rawValue:x}=await (0,d.GU)({url:`${this.config.baseURL}/${o(this.modelId)}:generateContent`,headers:u,body:p,failedResponseHandler:h,successfulResponseHandler:(0,d.cV)(y),abortSignal:a.abortSignal,fetch:this.config.fetch}),z=w.candidates[0],A=[],B=null!=(c=null==(b=z.content)?void 0:b.parts)?c:[],C=w.usageMetadata;for(let a of B)if("executableCode"in a&&(null==(e=a.executableCode)?void 0:e.code)){let b=this.config.generateId();n=b,A.push({type:"tool-call",toolCallId:b,toolName:"code_execution",input:JSON.stringify(a.executableCode),providerExecuted:!0})}else"codeExecutionResult"in a&&a.codeExecutionResult?(A.push({type:"tool-result",toolCallId:n,toolName:"code_execution",result:{outcome:a.codeExecutionResult.outcome,output:a.codeExecutionResult.output}}),n=void 0):"text"in a&&null!=a.text&&a.text.length>0?A.push({type:!0===a.thought?"reasoning":"text",text:a.text,providerMetadata:a.thoughtSignature?{[t]:{thoughtSignature:a.thoughtSignature}}:void 0}):"functionCall"in a?A.push({type:"tool-call",toolCallId:this.config.generateId(),toolName:a.functionCall.name,input:JSON.stringify(a.functionCall.args),providerMetadata:a.thoughtSignature?{[t]:{thoughtSignature:a.thoughtSignature}}:void 0}):"inlineData"in a&&A.push({type:"file",data:a.inlineData.data,mediaType:a.inlineData.mimeType,providerMetadata:a.thoughtSignature?{[t]:{thoughtSignature:a.thoughtSignature}}:void 0});for(let a of null!=(f=s({groundingMetadata:z.groundingMetadata,generateId:this.config.generateId}))?f:[])A.push(a);return{content:A,finishReason:{unified:q({finishReason:z.finishReason,hasToolCalls:A.some(a=>"tool-call"===a.type&&!a.providerExecuted)}),raw:null!=(g=z.finishReason)?g:void 0},usage:m(C),warnings:r,providerMetadata:{[t]:{promptFeedback:null!=(i=w.promptFeedback)?i:null,groundingMetadata:null!=(j=z.groundingMetadata)?j:null,urlContextMetadata:null!=(k=z.urlContextMetadata)?k:null,safetyRatings:null!=(l=z.safetyRatings)?l:null,usageMetadata:null!=C?C:null}},request:{body:p},response:{headers:v,body:x}}}async doStream(a){let b,c,e,{args:f,warnings:g,providerOptionsName:i}=await this.getArgs(a),j=(0,d.m2)(await (0,d.hd)(this.config.headers),a.headers),{responseHeaders:k,value:l}=await (0,d.GU)({url:`${this.config.baseURL}/${o(this.modelId)}:streamGenerateContent?alt=sse`,headers:j,body:f,failedResponseHandler:h,successfulResponseHandler:(0,d.Ds)(z),abortSignal:a.abortSignal,fetch:this.config.fetch}),n={unified:"other",raw:void 0},p=this.config.generateId,r=!1,t=null,u=null,v=0,w=new Set;return{stream:l.pipeThrough(new TransformStream({start(a){a.enqueue({type:"stream-start",warnings:g})},transform(d,f){var g,h,j,k,l,m,o;if(a.includeRawChunks&&f.enqueue({type:"raw",rawValue:d.rawValue}),!d.success)return void f.enqueue({type:"error",error:d.error});let x=d.value,y=x.usageMetadata;null!=y&&(c=y);let z=null==(g=x.candidates)?void 0:g[0];if(null==z)return;let A=z.content,B=s({groundingMetadata:z.groundingMetadata,generateId:p});if(null!=B)for(let a of B)"url"!==a.sourceType||w.has(a.url)||(w.add(a.url),f.enqueue(a));if(null!=A){for(let a of null!=(h=A.parts)?h:[])if("executableCode"in a&&(null==(j=a.executableCode)?void 0:j.code)){let c=p();b=c,f.enqueue({type:"tool-call",toolCallId:c,toolName:"code_execution",input:JSON.stringify(a.executableCode),providerExecuted:!0})}else if("codeExecutionResult"in a&&a.codeExecutionResult){let c=b;c&&(f.enqueue({type:"tool-result",toolCallId:c,toolName:"code_execution",result:{outcome:a.codeExecutionResult.outcome,output:a.codeExecutionResult.output}}),b=void 0)}else"text"in a&&null!=a.text&&a.text.length>0?!0===a.thought?(null!==t&&(f.enqueue({type:"text-end",id:t}),t=null),null===u&&(u=String(v++),f.enqueue({type:"reasoning-start",id:u,providerMetadata:a.thoughtSignature?{[i]:{thoughtSignature:a.thoughtSignature}}:void 0})),f.enqueue({type:"reasoning-delta",id:u,delta:a.text,providerMetadata:a.thoughtSignature?{[i]:{thoughtSignature:a.thoughtSignature}}:void 0})):(null!==u&&(f.enqueue({type:"reasoning-end",id:u}),u=null),null===t&&(t=String(v++),f.enqueue({type:"text-start",id:t,providerMetadata:a.thoughtSignature?{[i]:{thoughtSignature:a.thoughtSignature}}:void 0})),f.enqueue({type:"text-delta",id:t,delta:a.text,providerMetadata:a.thoughtSignature?{[i]:{thoughtSignature:a.thoughtSignature}}:void 0})):"inlineData"in a&&f.enqueue({type:"file",mediaType:a.inlineData.mimeType,data:a.inlineData.data});let a=function({parts:a,generateId:b,providerOptionsName:c}){let d=null==a?void 0:a.filter(a=>"functionCall"in a);return null==d||0===d.length?void 0:d.map(a=>({type:"tool-call",toolCallId:b(),toolName:a.functionCall.name,args:JSON.stringify(a.functionCall.args),providerMetadata:a.thoughtSignature?{[c]:{thoughtSignature:a.thoughtSignature}}:void 0}))}({parts:A.parts,generateId:p,providerOptionsName:i});if(null!=a)for(let b of a)f.enqueue({type:"tool-input-start",id:b.toolCallId,toolName:b.toolName,providerMetadata:b.providerMetadata}),f.enqueue({type:"tool-input-delta",id:b.toolCallId,delta:b.args,providerMetadata:b.providerMetadata}),f.enqueue({type:"tool-input-end",id:b.toolCallId,providerMetadata:b.providerMetadata}),f.enqueue({type:"tool-call",toolCallId:b.toolCallId,toolName:b.toolName,input:b.args,providerMetadata:b.providerMetadata}),r=!0}null!=z.finishReason&&(n={unified:q({finishReason:z.finishReason,hasToolCalls:r}),raw:z.finishReason},e={[i]:{promptFeedback:null!=(k=x.promptFeedback)?k:null,groundingMetadata:null!=(l=z.groundingMetadata)?l:null,urlContextMetadata:null!=(m=z.urlContextMetadata)?m:null,safetyRatings:null!=(o=z.safetyRatings)?o:null}},null!=y&&(e[i].usageMetadata=y))},flush(a){null!==t&&a.enqueue({type:"text-end",id:t}),null!==u&&a.enqueue({type:"reasoning-end",id:u}),a.enqueue({type:"finish",finishReason:n,usage:m(c),providerMetadata:e})}})),response:{headers:k},request:{body:f}}}};function s({groundingMetadata:a,generateId:b}){var c,d,e,f,g;if(!(null==a?void 0:a.groundingChunks))return;let h=[];for(let i of a.groundingChunks)if(null!=i.web)h.push({type:"source",sourceType:"url",id:b(),url:i.web.uri,title:null!=(c=i.web.title)?c:void 0});else if(null!=i.retrievedContext){let a=i.retrievedContext.uri,c=i.retrievedContext.fileSearchStore;if(a&&(a.startsWith("http://")||a.startsWith("https://")))h.push({type:"source",sourceType:"url",id:b(),url:a,title:null!=(d=i.retrievedContext.title)?d:void 0});else if(a){let c,d=null!=(e=i.retrievedContext.title)?e:"Unknown Document",f="application/octet-stream";a.endsWith(".pdf")?f="application/pdf":a.endsWith(".txt")?f="text/plain":a.endsWith(".docx")?f="application/vnd.openxmlformats-officedocument.wordprocessingml.document":a.endsWith(".doc")?f="application/msword":a.match(/\.(md|markdown)$/)&&(f="text/markdown"),c=a.split("/").pop(),h.push({type:"source",sourceType:"document",id:b(),mediaType:f,title:d,filename:c})}else if(c){let a=null!=(f=i.retrievedContext.title)?f:"Unknown Document";h.push({type:"source",sourceType:"document",id:b(),mediaType:"application/octet-stream",title:a,filename:c.split("/").pop()})}}else null!=i.maps&&i.maps.uri&&h.push({type:"source",sourceType:"url",id:b(),url:i.maps.uri,title:null!=(g=i.maps.title)?g:void 0});return h.length>0?h:void 0}var t=()=>f.Ik({webSearchQueries:f.YO(f.Yj()).nullish(),retrievalQueries:f.YO(f.Yj()).nullish(),searchEntryPoint:f.Ik({renderedContent:f.Yj()}).nullish(),groundingChunks:f.YO(f.Ik({web:f.Ik({uri:f.Yj(),title:f.Yj().nullish()}).nullish(),retrievedContext:f.Ik({uri:f.Yj().nullish(),title:f.Yj().nullish(),text:f.Yj().nullish(),fileSearchStore:f.Yj().nullish()}).nullish(),maps:f.Ik({uri:f.Yj().nullish(),title:f.Yj().nullish(),text:f.Yj().nullish(),placeId:f.Yj().nullish()}).nullish()})).nullish(),groundingSupports:f.YO(f.Ik({segment:f.Ik({startIndex:f.ai().nullish(),endIndex:f.ai().nullish(),text:f.Yj().nullish()}),segment_text:f.Yj().nullish(),groundingChunkIndices:f.YO(f.ai()).nullish(),supportChunkIndices:f.YO(f.ai()).nullish(),confidenceScores:f.YO(f.ai()).nullish(),confidenceScore:f.YO(f.ai()).nullish()})).nullish(),retrievalMetadata:f.KC([f.Ik({webDynamicRetrievalScore:f.ai()}),f.Ik({})]).nullish()}),u=()=>f.Ik({parts:f.YO(f.KC([f.Ik({functionCall:f.Ik({name:f.Yj(),args:f.L5()}),thoughtSignature:f.Yj().nullish()}),f.Ik({inlineData:f.Ik({mimeType:f.Yj(),data:f.Yj()}),thoughtSignature:f.Yj().nullish()}),f.Ik({executableCode:f.Ik({language:f.Yj(),code:f.Yj()}).nullish(),codeExecutionResult:f.Ik({outcome:f.Yj(),output:f.Yj()}).nullish(),text:f.Yj().nullish(),thought:f.zM().nullish(),thoughtSignature:f.Yj().nullish()})])).nullish()}),v=()=>f.Ik({category:f.Yj().nullish(),probability:f.Yj().nullish(),probabilityScore:f.ai().nullish(),severity:f.Yj().nullish(),severityScore:f.ai().nullish(),blocked:f.zM().nullish()}),w=f.Ik({cachedContentTokenCount:f.ai().nullish(),thoughtsTokenCount:f.ai().nullish(),promptTokenCount:f.ai().nullish(),candidatesTokenCount:f.ai().nullish(),totalTokenCount:f.ai().nullish(),trafficType:f.Yj().nullish()}),x=()=>f.Ik({urlMetadata:f.YO(f.Ik({retrievedUrl:f.Yj(),urlRetrievalStatus:f.Yj()}))}),y=(0,d.ID)(()=>(0,d.jN)(f.Ik({candidates:f.YO(f.Ik({content:u().nullish().or(f.Ik({}).strict()),finishReason:f.Yj().nullish(),safetyRatings:f.YO(v()).nullish(),groundingMetadata:t().nullish(),urlContextMetadata:x().nullish()})),usageMetadata:w.nullish(),promptFeedback:f.Ik({blockReason:f.Yj().nullish(),safetyRatings:f.YO(v()).nullish()}).nullish()}))),z=(0,d.ID)(()=>(0,d.jN)(f.Ik({candidates:f.YO(f.Ik({content:u().nullish(),finishReason:f.Yj().nullish(),safetyRatings:f.YO(v()).nullish(),groundingMetadata:t().nullish(),urlContextMetadata:x().nullish()})).nullish(),usageMetadata:w.nullish(),promptFeedback:f.Ik({blockReason:f.Yj().nullish(),safetyRatings:f.YO(v()).nullish()}).nullish()}))),A=(0,d.wA)({id:"google.code_execution",inputSchema:f.Ik({language:f.Yj().describe("The programming language of the code."),code:f.Yj().describe("The code to be executed.")}),outputSchema:f.Ik({outcome:f.Yj().describe('The outcome of the execution (e.g., "OUTCOME_OK").'),output:f.Yj().describe("The output from the code execution.")})}),B=(0,d.mU)({id:"google.enterprise_web_search",inputSchema:(0,d.ID)(()=>(0,d.jN)(f.Ik({})))}),C=f.Ik({fileSearchStoreNames:f.YO(f.Yj()).describe("The names of the file_search_stores to retrieve from. Example: `fileSearchStores/my-file-search-store-123`"),topK:f.ai().int().positive().describe("The number of file search retrieval chunks to retrieve.").optional(),metadataFilter:f.Yj().describe("Metadata filter to apply to the file search retrieval documents. See https://google.aip.dev/160 for the syntax of the filter expression.").optional()}).passthrough(),D=(0,d.ID)(()=>(0,d.jN)(C)),E=(0,d.mU)({id:"google.file_search",inputSchema:D}),F=(0,d.mU)({id:"google.google_maps",inputSchema:(0,d.ID)(()=>(0,d.jN)(f.Ik({})))}),G=(0,d.mU)({id:"google.google_search",inputSchema:(0,d.ID)(()=>(0,d.jN)(f.Ik({mode:f.k5(["MODE_DYNAMIC","MODE_UNSPECIFIED"]).default("MODE_UNSPECIFIED"),dynamicThreshold:f.ai().default(1)})))}),H={googleSearch:G,enterpriseWebSearch:B,googleMaps:F,urlContext:(0,d.mU)({id:"google.url_context",inputSchema:(0,d.ID)(()=>(0,d.jN)(f.Ik({})))}),fileSearch:E,codeExecution:A,vertexRagStore:(0,d.mU)({id:"google.vertex_rag_store",inputSchema:f.Ik({ragCorpus:f.Yj(),topK:f.ai().optional()})})},I=class{constructor(a,b,c){this.modelId=a,this.settings=b,this.config=c,this.specificationVersion="v3"}get maxImagesPerCall(){var a;return null!=(a=this.settings.maxImagesPerCall)?a:4}get provider(){return this.config.provider}async doGenerate(a){var b,c,e;let{prompt:f,n:g=1,size:i,aspectRatio:j="1:1",seed:k,providerOptions:l,headers:m,abortSignal:n,files:o,mask:p}=a,q=[];if(null!=o&&o.length>0)throw Error("Google Generative AI does not support image editing. Use Google Vertex AI (@ai-sdk/google-vertex) for image editing capabilities.");if(null!=p)throw Error("Google Generative AI does not support image editing with masks. Use Google Vertex AI (@ai-sdk/google-vertex) for image editing capabilities.");null!=i&&q.push({type:"unsupported",feature:"size",details:"This model does not support the `size` option. Use `aspectRatio` instead."}),null!=k&&q.push({type:"unsupported",feature:"seed",details:"This model does not support the `seed` option through this provider."});let r=await (0,d.xI)({provider:"google",providerOptions:l,schema:K}),s=null!=(e=null==(c=null==(b=this.config._internal)?void 0:b.currentDate)?void 0:c.call(b))?e:new Date,t={sampleCount:g};null!=j&&(t.aspectRatio=j),r&&Object.assign(t,r);let{responseHeaders:u,value:v}=await (0,d.GU)({url:`${this.config.baseURL}/models/${this.modelId}:predict`,headers:(0,d.m2)(await (0,d.hd)(this.config.headers),m),body:{instances:[{prompt:f}],parameters:t},failedResponseHandler:h,successfulResponseHandler:(0,d.cV)(J),abortSignal:n,fetch:this.config.fetch});return{images:v.predictions.map(a=>a.bytesBase64Encoded),warnings:null!=q?q:[],providerMetadata:{google:{images:v.predictions.map(a=>({}))}},response:{timestamp:s,modelId:this.modelId,headers:u}}}},J=(0,d.ID)(()=>(0,d.jN)(f.Ik({predictions:f.YO(f.Ik({bytesBase64Encoded:f.Yj()})).default([])}))),K=(0,d.ID)(()=>(0,d.jN)(f.Ik({personGeneration:f.k5(["dont_allow","allow_adult","allow_all"]).nullish(),aspectRatio:f.k5(["1:1","3:4","4:3","9:16","16:9"]).nullish()})));function L(a={}){var b,c;let e=null!=(b=(0,d.ae)(a.baseURL))?b:"https://generativelanguage.googleapis.com/v1beta",f=null!=(c=a.name)?c:"google.generative-ai",g=()=>(0,d.WZ)({"x-goog-api-key":(0,d.WL)({apiKey:a.apiKey,environmentVariableName:"GOOGLE_GENERATIVE_AI_API_KEY",description:"Google Generative AI"}),...a.headers},"ai-sdk/google/3.0.10"),h=b=>{var c;return new r(b,{provider:f,baseURL:e,headers:g,generateId:null!=(c=a.generateId)?c:d.$C,supportedUrls:()=>({"*":[RegExp(`^${e}/files/.*$`),RegExp("^https://(?:www\\.)?youtube\\.com/watch\\?v=[\\w-]+(?:&[\\w=&.-]*)?$"),RegExp("^https://youtu\\.be/[\\w-]+(?:\\?[\\w=&.-]*)?$")]}),fetch:a.fetch})},i=b=>new j(b,{provider:f,baseURL:e,headers:g,fetch:a.fetch}),k=(b,c={})=>new I(b,c,{provider:f,baseURL:e,headers:g,fetch:a.fetch}),l=function(a){if(new.target)throw Error("The Google Generative AI model function cannot be called with the new keyword.");return h(a)};return l.specificationVersion="v3",l.languageModel=h,l.chat=h,l.generativeAI=h,l.embedding=i,l.embeddingModel=i,l.textEmbedding=i,l.textEmbeddingModel=i,l.image=k,l.imageModel=k,l.tools=H,l}L()},9817:(a,b,c)=>{"use strict";c.d(b,{d:()=>e});let d=new WeakMap;function e(a,b){let c;if(!b)return{pathname:a};let e=d.get(b);e||(e=b.map(a=>a.toLowerCase()),d.set(b,e));let f=a.split("/",2);if(!f[1])return{pathname:a};let g=f[1].toLowerCase(),h=e.indexOf(g);return h<0?{pathname:a}:(c=b[h],{pathname:a=a.slice(c.length+1)||"/",detectedLocale:c})}},9879:(a,b,c)=>{"use strict";c.d(b,{n:()=>g});var d=c(9639),e=c(7021),f=new(function(){function a(){}return a.prototype.getTracer=function(a,b,c){return new e.o},a}()),g=function(){function a(){}return a.prototype.getTracer=function(a,b,c){var e;return null!=(e=this.getDelegateTracer(a,b,c))?e:new d.y(this,a,b,c)},a.prototype.getDelegate=function(){var a;return null!=(a=this._delegate)?a:f},a.prototype.setDelegate=function(a){this._delegate=a},a.prototype.getDelegateTracer=function(a,b,c){var d;return null==(d=this._delegate)?void 0:d.getTracer(a,b,c)},a}()},9968:(a,b,c)=>{"use strict";c.d(b,{F:()=>g});var d=c(8711);let e=/\/[^/]*\[[^/]+\][^/]*(?=\/|$)/,f=/\/\[[^/]+\](?=\/|$)/;function g(a,b){return(void 0===b&&(b=!0),(0,d.m1)(a)&&(a=(0,d.$8)(a).interceptedRoute),b)?f.test(a):e.test(a)}},9989:(a,b,c)=>{"use strict";c.d(b,{EB:()=>br,bz:()=>bU,YO:()=>b$,zM:()=>bQ,Ie:()=>cs,gM:()=>b5,k5:()=>ca,Nl:()=>ct,RZ:()=>cq,eu:()=>cc,Zm:()=>bY,ch:()=>bS,ai:()=>bM,Ik:()=>b0,g1:()=>b8,re:()=>b1,Yj:()=>bq,KC:()=>b3,L5:()=>bW});var d=c(6478);let e=/^[cC][^\s-]{8,}$/,f=/^[0-9a-z]+$/,g=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,h=/^[0-9a-vA-V]{20}$/,i=/^[A-Za-z0-9]{27}$/,j=/^[a-zA-Z0-9_-]{21}$/,k=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,l=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,m=a=>a?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${a}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,n=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,o=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,p=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,q=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,r=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,s=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,t=/^[A-Za-z0-9_-]*$/,u=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,v=/^\+(?:[0-9]){6,14}[0-9]$/,w="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",x=RegExp(`^${w}$`);function y(a){let b="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof a.precision?-1===a.precision?`${b}`:0===a.precision?`${b}:[0-5]\\d`:`${b}:[0-5]\\d\\.\\d{${a.precision}}`:`${b}(?::[0-5]\\d(?:\\.\\d+)?)?`}let z=/^\d+$/,A=/^-?\d+(?:\.\d+)?/i,B=/true|false/i,C=/null/i,D=/^[^A-Z]*$/,E=/^[^a-z]*$/;var F=c(6805);let G=d.xI("$ZodCheck",(a,b)=>{var c;a._zod??(a._zod={}),a._zod.def=b,(c=a._zod).onattach??(c.onattach=[])}),H={number:"number",bigint:"bigint",object:"date"},I=d.xI("$ZodCheckLessThan",(a,b)=>{G.init(a,b);let c=H[typeof b.value];a._zod.onattach.push(a=>{let c=a._zod.bag,d=(b.inclusive?c.maximum:c.exclusiveMaximum)??1/0;b.value<d&&(b.inclusive?c.maximum=b.value:c.exclusiveMaximum=b.value)}),a._zod.check=d=>{(b.inclusive?d.value<=b.value:d.value<b.value)||d.issues.push({origin:c,code:"too_big",maximum:b.value,input:d.value,inclusive:b.inclusive,inst:a,continue:!b.abort})}}),J=d.xI("$ZodCheckGreaterThan",(a,b)=>{G.init(a,b);let c=H[typeof b.value];a._zod.onattach.push(a=>{let c=a._zod.bag,d=(b.inclusive?c.minimum:c.exclusiveMinimum)??-1/0;b.value>d&&(b.inclusive?c.minimum=b.value:c.exclusiveMinimum=b.value)}),a._zod.check=d=>{(b.inclusive?d.value>=b.value:d.value>b.value)||d.issues.push({origin:c,code:"too_small",minimum:b.value,input:d.value,inclusive:b.inclusive,inst:a,continue:!b.abort})}}),K=d.xI("$ZodCheckMultipleOf",(a,b)=>{G.init(a,b),a._zod.onattach.push(a=>{var c;(c=a._zod.bag).multipleOf??(c.multipleOf=b.value)}),a._zod.check=c=>{if(typeof c.value!=typeof b.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof c.value?c.value%b.value===BigInt(0):0===F.LG(c.value,b.value))||c.issues.push({origin:typeof c.value,code:"not_multiple_of",divisor:b.value,input:c.value,inst:a,continue:!b.abort})}}),L=d.xI("$ZodCheckNumberFormat",(a,b)=>{G.init(a,b),b.format=b.format||"float64";let c=b.format?.includes("int"),d=c?"int":"number",[e,f]=F.zH[b.format];a._zod.onattach.push(a=>{let d=a._zod.bag;d.format=b.format,d.minimum=e,d.maximum=f,c&&(d.pattern=z)}),a._zod.check=g=>{let h=g.value;if(c){if(!Number.isInteger(h))return void g.issues.push({expected:d,format:b.format,code:"invalid_type",input:h,inst:a});if(!Number.isSafeInteger(h))return void(h>0?g.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:a,origin:d,continue:!b.abort}):g.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:a,origin:d,continue:!b.abort}))}h<e&&g.issues.push({origin:"number",input:h,code:"too_small",minimum:e,inclusive:!0,inst:a,continue:!b.abort}),h>f&&g.issues.push({origin:"number",input:h,code:"too_big",maximum:f,inst:a})}}),M=d.xI("$ZodCheckMaxLength",(a,b)=>{var c;G.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!F.cl(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.maximum??1/0;b.maximum<c&&(a._zod.bag.maximum=b.maximum)}),a._zod.check=c=>{let d=c.value;if(d.length<=b.maximum)return;let e=F.Rc(d);c.issues.push({origin:e,code:"too_big",maximum:b.maximum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),N=d.xI("$ZodCheckMinLength",(a,b)=>{var c;G.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!F.cl(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.minimum??-1/0;b.minimum>c&&(a._zod.bag.minimum=b.minimum)}),a._zod.check=c=>{let d=c.value;if(d.length>=b.minimum)return;let e=F.Rc(d);c.issues.push({origin:e,code:"too_small",minimum:b.minimum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),O=d.xI("$ZodCheckLengthEquals",(a,b)=>{var c;G.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!F.cl(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag;c.minimum=b.length,c.maximum=b.length,c.length=b.length}),a._zod.check=c=>{let d=c.value,e=d.length;if(e===b.length)return;let f=F.Rc(d),g=e>b.length;c.issues.push({origin:f,...g?{code:"too_big",maximum:b.length}:{code:"too_small",minimum:b.length},inclusive:!0,exact:!0,input:c.value,inst:a,continue:!b.abort})}}),P=d.xI("$ZodCheckStringFormat",(a,b)=>{var c,d;G.init(a,b),a._zod.onattach.push(a=>{let c=a._zod.bag;c.format=b.format,b.pattern&&(c.patterns??(c.patterns=new Set),c.patterns.add(b.pattern))}),b.pattern?(c=a._zod).check??(c.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:b.format,input:c.value,...b.pattern?{pattern:b.pattern.toString()}:{},inst:a,continue:!b.abort})}):(d=a._zod).check??(d.check=()=>{})}),Q=d.xI("$ZodCheckRegex",(a,b)=>{P.init(a,b),a._zod.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:"regex",input:c.value,pattern:b.pattern.toString(),inst:a,continue:!b.abort})}}),R=d.xI("$ZodCheckLowerCase",(a,b)=>{b.pattern??(b.pattern=D),P.init(a,b)}),S=d.xI("$ZodCheckUpperCase",(a,b)=>{b.pattern??(b.pattern=E),P.init(a,b)}),T=d.xI("$ZodCheckIncludes",(a,b)=>{G.init(a,b);let c=F.$f(b.includes),d=new RegExp("number"==typeof b.position?`^.{${b.position}}${c}`:c);b.pattern=d,a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(d)}),a._zod.check=c=>{c.value.includes(b.includes,b.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:b.includes,input:c.value,inst:a,continue:!b.abort})}}),U=d.xI("$ZodCheckStartsWith",(a,b)=>{G.init(a,b);let c=RegExp(`^${F.$f(b.prefix)}.*`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.startsWith(b.prefix)||c.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:b.prefix,input:c.value,inst:a,continue:!b.abort})}}),V=d.xI("$ZodCheckEndsWith",(a,b)=>{G.init(a,b);let c=RegExp(`.*${F.$f(b.suffix)}$`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.endsWith(b.suffix)||c.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:b.suffix,input:c.value,inst:a,continue:!b.abort})}}),W=d.xI("$ZodCheckOverwrite",(a,b)=>{G.init(a,b),a._zod.check=a=>{a.value=b.tx(a.value)}});class X{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if("function"==typeof a){a(this,{execution:"sync"}),a(this,{execution:"async"});return}let b=a.split("\n").filter(a=>a),c=Math.min(...b.map(a=>a.length-a.trimStart().length));for(let a of b.map(a=>a.slice(c)).map(a=>" ".repeat(2*this.indent)+a))this.content.push(a)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(a=>`  ${a}`)].join("\n"))}}var Y=c(3070);let Z={major:4,minor:0,patch:0},$=d.xI("$ZodType",(a,b)=>{var c;a??(a={}),a._zod.def=b,a._zod.bag=a._zod.bag||{},a._zod.version=Z;let e=[...a._zod.def.checks??[]];for(let b of(a._zod.traits.has("$ZodCheck")&&e.unshift(a),e))for(let c of b._zod.onattach)c(a);if(0===e.length)(c=a._zod).deferred??(c.deferred=[]),a._zod.deferred?.push(()=>{a._zod.run=a._zod.parse});else{let b=(a,b,c)=>{let e,f=F.QH(a);for(let g of b){if(g._zod.def.when){if(!g._zod.def.when(a))continue}else if(f)continue;let b=a.issues.length,h=g._zod.check(a);if(h instanceof Promise&&c?.async===!1)throw new d.GT;if(e||h instanceof Promise)e=(e??Promise.resolve()).then(async()=>{await h,a.issues.length!==b&&(f||(f=F.QH(a,b)))});else{if(a.issues.length===b)continue;f||(f=F.QH(a,b))}}return e?e.then(()=>a):a};a._zod.run=(c,f)=>{let g=a._zod.parse(c,f);if(g instanceof Promise){if(!1===f.async)throw new d.GT;return g.then(a=>b(a,e,f))}return b(g,e,f)}}a["~standard"]={validate:b=>{try{let c=(0,Y.xL)(a,b);return c.success?{value:c.data}:{issues:c.error?.issues}}catch(c){return(0,Y.bp)(a,b).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}}),_=d.xI("$ZodString",(a,b)=>{$.init(a,b),a._zod.pattern=[...a?._zod.bag?.patterns??[]].pop()??(a=>{let b=a?`[\\s\\S]{${a?.minimum??0},${a?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${b}$`)})(a._zod.bag),a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=String(c.value)}catch(a){}return"string"==typeof c.value||c.issues.push({expected:"string",code:"invalid_type",input:c.value,inst:a}),c}}),aa=d.xI("$ZodStringFormat",(a,b)=>{P.init(a,b),_.init(a,b)}),ab=d.xI("$ZodGUID",(a,b)=>{b.pattern??(b.pattern=l),aa.init(a,b)}),ac=d.xI("$ZodUUID",(a,b)=>{if(b.version){let a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[b.version];if(void 0===a)throw Error(`Invalid UUID version: "${b.version}"`);b.pattern??(b.pattern=m(a))}else b.pattern??(b.pattern=m());aa.init(a,b)}),ad=d.xI("$ZodEmail",(a,b)=>{b.pattern??(b.pattern=n),aa.init(a,b)}),ae=d.xI("$ZodURL",(a,b)=>{aa.init(a,b),a._zod.check=c=>{try{let d=c.value,e=new URL(d),f=e.href;b.hostname&&(b.hostname.lastIndex=0,b.hostname.test(e.hostname)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:u.source,input:c.value,inst:a,continue:!b.abort})),b.protocol&&(b.protocol.lastIndex=0,b.protocol.test(e.protocol.endsWith(":")?e.protocol.slice(0,-1):e.protocol)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:b.protocol.source,input:c.value,inst:a,continue:!b.abort})),!d.endsWith("/")&&f.endsWith("/")?c.value=f.slice(0,-1):c.value=f;return}catch(d){c.issues.push({code:"invalid_format",format:"url",input:c.value,inst:a,continue:!b.abort})}}}),af=d.xI("$ZodEmoji",(a,b)=>{b.pattern??(b.pattern=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),aa.init(a,b)}),ag=d.xI("$ZodNanoID",(a,b)=>{b.pattern??(b.pattern=j),aa.init(a,b)}),ah=d.xI("$ZodCUID",(a,b)=>{b.pattern??(b.pattern=e),aa.init(a,b)}),ai=d.xI("$ZodCUID2",(a,b)=>{b.pattern??(b.pattern=f),aa.init(a,b)}),aj=d.xI("$ZodULID",(a,b)=>{b.pattern??(b.pattern=g),aa.init(a,b)}),ak=d.xI("$ZodXID",(a,b)=>{b.pattern??(b.pattern=h),aa.init(a,b)}),al=d.xI("$ZodKSUID",(a,b)=>{b.pattern??(b.pattern=i),aa.init(a,b)}),am=d.xI("$ZodISODateTime",(a,b)=>{b.pattern??(b.pattern=function(a){let b=y({precision:a.precision}),c=["Z"];a.local&&c.push(""),a.offset&&c.push("([+-]\\d{2}:\\d{2})");let d=`${b}(?:${c.join("|")})`;return RegExp(`^${w}T(?:${d})$`)}(b)),aa.init(a,b)}),an=d.xI("$ZodISODate",(a,b)=>{b.pattern??(b.pattern=x),aa.init(a,b)}),ao=d.xI("$ZodISOTime",(a,b)=>{b.pattern??(b.pattern=RegExp(`^${y(b)}$`)),aa.init(a,b)}),ap=d.xI("$ZodISODuration",(a,b)=>{b.pattern??(b.pattern=k),aa.init(a,b)}),aq=d.xI("$ZodIPv4",(a,b)=>{b.pattern??(b.pattern=o),aa.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.format="ipv4"})}),ar=d.xI("$ZodIPv6",(a,b)=>{b.pattern??(b.pattern=p),aa.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.format="ipv6"}),a._zod.check=c=>{try{new URL(`http://[${c.value}]`)}catch{c.issues.push({code:"invalid_format",format:"ipv6",input:c.value,inst:a,continue:!b.abort})}}}),as=d.xI("$ZodCIDRv4",(a,b)=>{b.pattern??(b.pattern=q),aa.init(a,b)}),at=d.xI("$ZodCIDRv6",(a,b)=>{b.pattern??(b.pattern=r),aa.init(a,b),a._zod.check=c=>{let[d,e]=c.value.split("/");try{if(!e)throw Error();let a=Number(e);if(`${a}`!==e||a<0||a>128)throw Error();new URL(`http://[${d}]`)}catch{c.issues.push({code:"invalid_format",format:"cidrv6",input:c.value,inst:a,continue:!b.abort})}}});function au(a){if(""===a)return!0;if(a.length%4!=0)return!1;try{return atob(a),!0}catch{return!1}}let av=d.xI("$ZodBase64",(a,b)=>{b.pattern??(b.pattern=s),aa.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64"}),a._zod.check=c=>{au(c.value)||c.issues.push({code:"invalid_format",format:"base64",input:c.value,inst:a,continue:!b.abort})}}),aw=d.xI("$ZodBase64URL",(a,b)=>{b.pattern??(b.pattern=t),aa.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64url"}),a._zod.check=c=>{!function(a){if(!t.test(a))return!1;let b=a.replace(/[-_]/g,a=>"-"===a?"+":"/");return au(b.padEnd(4*Math.ceil(b.length/4),"="))}(c.value)&&c.issues.push({code:"invalid_format",format:"base64url",input:c.value,inst:a,continue:!b.abort})}}),ax=d.xI("$ZodE164",(a,b)=>{b.pattern??(b.pattern=v),aa.init(a,b)}),ay=d.xI("$ZodJWT",(a,b)=>{aa.init(a,b),a._zod.check=c=>{!function(a,b=null){try{let c=a.split(".");if(3!==c.length)return!1;let[d]=c;if(!d)return!1;let e=JSON.parse(atob(d));if("typ"in e&&e?.typ!=="JWT"||!e.alg||b&&(!("alg"in e)||e.alg!==b))return!1;return!0}catch{return!1}}(c.value,b.alg)&&c.issues.push({code:"invalid_format",format:"jwt",input:c.value,inst:a,continue:!b.abort})}}),az=d.xI("$ZodNumber",(a,b)=>{$.init(a,b),a._zod.pattern=a._zod.bag.pattern??A,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=Number(c.value)}catch(a){}let e=c.value;if("number"==typeof e&&!Number.isNaN(e)&&Number.isFinite(e))return c;let f="number"==typeof e?Number.isNaN(e)?"NaN":Number.isFinite(e)?void 0:"Infinity":void 0;return c.issues.push({expected:"number",code:"invalid_type",input:e,inst:a,...f?{received:f}:{}}),c}}),aA=d.xI("$ZodNumber",(a,b)=>{L.init(a,b),az.init(a,b)}),aB=d.xI("$ZodBoolean",(a,b)=>{$.init(a,b),a._zod.pattern=B,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=!!c.value}catch(a){}let e=c.value;return"boolean"==typeof e||c.issues.push({expected:"boolean",code:"invalid_type",input:e,inst:a}),c}}),aC=d.xI("$ZodNull",(a,b)=>{$.init(a,b),a._zod.pattern=C,a._zod.values=new Set([null]),a._zod.parse=(b,c)=>{let d=b.value;return null===d||b.issues.push({expected:"null",code:"invalid_type",input:d,inst:a}),b}}),aD=d.xI("$ZodAny",(a,b)=>{$.init(a,b),a._zod.parse=a=>a}),aE=d.xI("$ZodUnknown",(a,b)=>{$.init(a,b),a._zod.parse=a=>a}),aF=d.xI("$ZodNever",(a,b)=>{$.init(a,b),a._zod.parse=(b,c)=>(b.issues.push({expected:"never",code:"invalid_type",input:b.value,inst:a}),b)});function aG(a,b,c){a.issues.length&&b.issues.push(...F.lQ(c,a.issues)),b.value[c]=a.value}let aH=d.xI("$ZodArray",(a,b)=>{$.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!Array.isArray(e))return c.issues.push({expected:"array",code:"invalid_type",input:e,inst:a}),c;c.value=Array(e.length);let f=[];for(let a=0;a<e.length;a++){let g=e[a],h=b.element._zod.run({value:g,issues:[]},d);h instanceof Promise?f.push(h.then(b=>aG(b,c,a))):aG(h,c,a)}return f.length?Promise.all(f).then(()=>c):c}});function aI(a,b,c){a.issues.length&&b.issues.push(...F.lQ(c,a.issues)),b.value[c]=a.value}function aJ(a,b,c,d){a.issues.length?void 0===d[c]?c in d?b.value[c]=void 0:b.value[c]=a.value:b.issues.push(...F.lQ(c,a.issues)):void 0===a.value?c in d&&(b.value[c]=void 0):b.value[c]=a.value}let aK=d.xI("$ZodObject",(a,b)=>{let c,e;$.init(a,b);let f=F.PO(()=>{let a=Object.keys(b.shape);for(let c of a)if(!(b.shape[c]instanceof $))throw Error(`Invalid element at key "${c}": expected a Zod schema`);let c=F.NM(b.shape);return{shape:b.shape,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(c)}});F.gJ(a._zod,"propValues",()=>{let a=b.shape,c={};for(let b in a){let d=a[b]._zod;if(d.values)for(let a of(c[b]??(c[b]=new Set),d.values))c[b].add(a)}return c});let g=F.Gv,h=!d.cr.jitless,i=F.hI,j=h&&i.value,k=b.catchall;a._zod.parse=(d,i)=>{e??(e=f.value);let l=d.value;if(!g(l))return d.issues.push({expected:"object",code:"invalid_type",input:l,inst:a}),d;let m=[];if(h&&j&&i?.async===!1&&!0!==i.jitless)c||(c=(a=>{let b=new X(["shape","payload","ctx"]),c=f.value,d=a=>{let b=F.UQ(a);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};b.write("const input = payload.value;");let e=Object.create(null),g=0;for(let a of c.keys)e[a]=`key_${g++}`;for(let a of(b.write("const newResult = {}"),c.keys))if(c.optionalKeys.has(a)){let c=e[a];b.write(`const ${c} = ${d(a)};`);let f=F.UQ(a);b.write(`
        if (${c}.issues.length) {
          if (input[${f}] === undefined) {
            if (${f} in input) {
              newResult[${f}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${c}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${f}, ...iss.path] : [${f}],
              }))
            );
          }
        } else if (${c}.value === undefined) {
          if (${f} in input) newResult[${f}] = undefined;
        } else {
          newResult[${f}] = ${c}.value;
        }
        `)}else{let c=e[a];b.write(`const ${c} = ${d(a)};`),b.write(`
          if (${c}.issues.length) payload.issues = payload.issues.concat(${c}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${F.UQ(a)}, ...iss.path] : [${F.UQ(a)}]
          })));`),b.write(`newResult[${F.UQ(a)}] = ${c}.value`)}b.write("payload.value = newResult;"),b.write("return payload;");let h=b.compile();return(b,c)=>h(a,b,c)})(b.shape)),d=c(d,i);else{d.value={};let a=e.shape;for(let b of e.keys){let c=a[b],e=c._zod.run({value:l[b],issues:[]},i),f="optional"===c._zod.optin&&"optional"===c._zod.optout;e instanceof Promise?m.push(e.then(a=>f?aJ(a,d,b,l):aI(a,d,b))):f?aJ(e,d,b,l):aI(e,d,b)}}if(!k)return m.length?Promise.all(m).then(()=>d):d;let n=[],o=e.keySet,p=k._zod,q=p.def.type;for(let a of Object.keys(l)){if(o.has(a))continue;if("never"===q){n.push(a);continue}let b=p.run({value:l[a],issues:[]},i);b instanceof Promise?m.push(b.then(b=>aI(b,d,a))):aI(b,d,a)}return(n.length&&d.issues.push({code:"unrecognized_keys",keys:n,input:l,inst:a}),m.length)?Promise.all(m).then(()=>d):d}});function aL(a,b,c,e){for(let c of a)if(0===c.issues.length)return b.value=c.value,b;return b.issues.push({code:"invalid_union",input:b.value,inst:c,errors:a.map(a=>a.issues.map(a=>F.iR(a,e,d.$W())))}),b}let aM=d.xI("$ZodUnion",(a,b)=>{$.init(a,b),F.gJ(a._zod,"optin",()=>b.options.some(a=>"optional"===a._zod.optin)?"optional":void 0),F.gJ(a._zod,"optout",()=>b.options.some(a=>"optional"===a._zod.optout)?"optional":void 0),F.gJ(a._zod,"values",()=>{if(b.options.every(a=>a._zod.values))return new Set(b.options.flatMap(a=>Array.from(a._zod.values)))}),F.gJ(a._zod,"pattern",()=>{if(b.options.every(a=>a._zod.pattern)){let a=b.options.map(a=>a._zod.pattern);return RegExp(`^(${a.map(a=>F.p6(a.source)).join("|")})$`)}}),a._zod.parse=(c,d)=>{let e=!1,f=[];for(let a of b.options){let b=a._zod.run({value:c.value,issues:[]},d);if(b instanceof Promise)f.push(b),e=!0;else{if(0===b.issues.length)return b;f.push(b)}}return e?Promise.all(f).then(b=>aL(b,c,a,d)):aL(f,c,a,d)}}),aN=d.xI("$ZodDiscriminatedUnion",(a,b)=>{aM.init(a,b);let c=a._zod.parse;F.gJ(a._zod,"propValues",()=>{let a={};for(let c of b.options){let d=c._zod.propValues;if(!d||0===Object.keys(d).length)throw Error(`Invalid discriminated union option at index "${b.options.indexOf(c)}"`);for(let[b,c]of Object.entries(d))for(let d of(a[b]||(a[b]=new Set),c))a[b].add(d)}return a});let d=F.PO(()=>{let a=b.options,c=new Map;for(let d of a){let a=d._zod.propValues[b.discriminator];if(!a||0===a.size)throw Error(`Invalid discriminated union option at index "${b.options.indexOf(d)}"`);for(let b of a){if(c.has(b))throw Error(`Duplicate discriminator value "${String(b)}"`);c.set(b,d)}}return c});a._zod.parse=(e,f)=>{let g=e.value;if(!F.Gv(g))return e.issues.push({code:"invalid_type",expected:"object",input:g,inst:a}),e;let h=d.value.get(g?.[b.discriminator]);return h?h._zod.run(e,f):b.unionFallback?c(e,f):(e.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:g,path:[b.discriminator],inst:a}),e)}}),aO=d.xI("$ZodIntersection",(a,b)=>{$.init(a,b),a._zod.parse=(a,c)=>{let d=a.value,e=b.left._zod.run({value:d,issues:[]},c),f=b.right._zod.run({value:d,issues:[]},c);return e instanceof Promise||f instanceof Promise?Promise.all([e,f]).then(([b,c])=>aP(a,b,c)):aP(a,e,f)}});function aP(a,b,c){if(b.issues.length&&a.issues.push(...b.issues),c.issues.length&&a.issues.push(...c.issues),F.QH(a))return a;let d=function a(b,c){if(b===c||b instanceof Date&&c instanceof Date&&+b==+c)return{valid:!0,data:b};if(F.Qd(b)&&F.Qd(c)){let d=Object.keys(c),e=Object.keys(b).filter(a=>-1!==d.indexOf(a)),f={...b,...c};for(let d of e){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1,mergeErrorPath:[d,...e.mergeErrorPath]};f[d]=e.data}return{valid:!0,data:f}}if(Array.isArray(b)&&Array.isArray(c)){if(b.length!==c.length)return{valid:!1,mergeErrorPath:[]};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1,mergeErrorPath:[e,...f.mergeErrorPath]};d.push(f.data)}return{valid:!0,data:d}}return{valid:!1,mergeErrorPath:[]}}(b.value,c.value);if(!d.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(d.mergeErrorPath)}`);return a.value=d.data,a}let aQ=d.xI("$ZodRecord",(a,b)=>{$.init(a,b),a._zod.parse=(c,e)=>{let f=c.value;if(!F.Qd(f))return c.issues.push({expected:"record",code:"invalid_type",input:f,inst:a}),c;let g=[];if(b.keyType._zod.values){let d,h=b.keyType._zod.values;for(let a of(c.value={},h))if("string"==typeof a||"number"==typeof a||"symbol"==typeof a){let d=b.valueType._zod.run({value:f[a],issues:[]},e);d instanceof Promise?g.push(d.then(b=>{b.issues.length&&c.issues.push(...F.lQ(a,b.issues)),c.value[a]=b.value})):(d.issues.length&&c.issues.push(...F.lQ(a,d.issues)),c.value[a]=d.value)}for(let a in f)h.has(a)||(d=d??[]).push(a);d&&d.length>0&&c.issues.push({code:"unrecognized_keys",input:f,inst:a,keys:d})}else for(let h of(c.value={},Reflect.ownKeys(f))){if("__proto__"===h)continue;let i=b.keyType._zod.run({value:h,issues:[]},e);if(i instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(i.issues.length){c.issues.push({origin:"record",code:"invalid_key",issues:i.issues.map(a=>F.iR(a,e,d.$W())),input:h,path:[h],inst:a}),c.value[i.value]=i.value;continue}let j=b.valueType._zod.run({value:f[h],issues:[]},e);j instanceof Promise?g.push(j.then(a=>{a.issues.length&&c.issues.push(...F.lQ(h,a.issues)),c.value[i.value]=a.value})):(j.issues.length&&c.issues.push(...F.lQ(h,j.issues)),c.value[i.value]=j.value)}return g.length?Promise.all(g).then(()=>c):c}}),aR=d.xI("$ZodEnum",(a,b)=>{$.init(a,b);let c=F.w5(b.entries);a._zod.values=new Set(c),a._zod.pattern=RegExp(`^(${c.filter(a=>F.qQ.has(typeof a)).map(a=>"string"==typeof a?F.$f(a):a.toString()).join("|")})$`),a._zod.parse=(b,d)=>{let e=b.value;return a._zod.values.has(e)||b.issues.push({code:"invalid_value",values:c,input:e,inst:a}),b}}),aS=d.xI("$ZodLiteral",(a,b)=>{$.init(a,b),a._zod.values=new Set(b.values),a._zod.pattern=RegExp(`^(${b.values.map(a=>"string"==typeof a?F.$f(a):a?a.toString():String(a)).join("|")})$`),a._zod.parse=(c,d)=>{let e=c.value;return a._zod.values.has(e)||c.issues.push({code:"invalid_value",values:b.values,input:e,inst:a}),c}}),aT=d.xI("$ZodTransform",(a,b)=>{$.init(a,b),a._zod.parse=(a,c)=>{let e=b.transform(a.value,a);if(c.async)return(e instanceof Promise?e:Promise.resolve(e)).then(b=>(a.value=b,a));if(e instanceof Promise)throw new d.GT;return a.value=e,a}}),aU=d.xI("$ZodOptional",(a,b)=>{$.init(a,b),a._zod.optin="optional",a._zod.optout="optional",F.gJ(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,void 0]):void 0),F.gJ(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${F.p6(a.source)})?$`):void 0}),a._zod.parse=(a,c)=>"optional"===b.innerType._zod.optin?b.innerType._zod.run(a,c):void 0===a.value?a:b.innerType._zod.run(a,c)}),aV=d.xI("$ZodNullable",(a,b)=>{$.init(a,b),F.gJ(a._zod,"optin",()=>b.innerType._zod.optin),F.gJ(a._zod,"optout",()=>b.innerType._zod.optout),F.gJ(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${F.p6(a.source)}|null)$`):void 0}),F.gJ(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,null]):void 0),a._zod.parse=(a,c)=>null===a.value?a:b.innerType._zod.run(a,c)}),aW=d.xI("$ZodDefault",(a,b)=>{$.init(a,b),a._zod.optin="optional",F.gJ(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{if(void 0===a.value)return a.value=b.defaultValue,a;let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(a=>aX(a,b)):aX(d,b)}});function aX(a,b){return void 0===a.value&&(a.value=b.defaultValue),a}let aY=d.xI("$ZodPrefault",(a,b)=>{$.init(a,b),a._zod.optin="optional",F.gJ(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>(void 0===a.value&&(a.value=b.defaultValue),b.innerType._zod.run(a,c))}),aZ=d.xI("$ZodNonOptional",(a,b)=>{$.init(a,b),F.gJ(a._zod,"values",()=>{let a=b.innerType._zod.values;return a?new Set([...a].filter(a=>void 0!==a)):void 0}),a._zod.parse=(c,d)=>{let e=b.innerType._zod.run(c,d);return e instanceof Promise?e.then(b=>a$(b,a)):a$(e,a)}});function a$(a,b){return a.issues.length||void 0!==a.value||a.issues.push({code:"invalid_type",expected:"nonoptional",input:a.value,inst:b}),a}let a_=d.xI("$ZodCatch",(a,b)=>{$.init(a,b),a._zod.optin="optional",F.gJ(a._zod,"optout",()=>b.innerType._zod.optout),F.gJ(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{let e=b.innerType._zod.run(a,c);return e instanceof Promise?e.then(e=>(a.value=e.value,e.issues.length&&(a.value=b.catchValue({...a,error:{issues:e.issues.map(a=>F.iR(a,c,d.$W()))},input:a.value}),a.issues=[]),a)):(a.value=e.value,e.issues.length&&(a.value=b.catchValue({...a,error:{issues:e.issues.map(a=>F.iR(a,c,d.$W()))},input:a.value}),a.issues=[]),a)}}),a0=d.xI("$ZodPipe",(a,b)=>{$.init(a,b),F.gJ(a._zod,"values",()=>b.in._zod.values),F.gJ(a._zod,"optin",()=>b.in._zod.optin),F.gJ(a._zod,"optout",()=>b.out._zod.optout),a._zod.parse=(a,c)=>{let d=b.in._zod.run(a,c);return d instanceof Promise?d.then(a=>a1(a,b,c)):a1(d,b,c)}});function a1(a,b,c){return F.QH(a)?a:b.out._zod.run({value:a.value,issues:a.issues},c)}let a2=d.xI("$ZodReadonly",(a,b)=>{$.init(a,b),F.gJ(a._zod,"propValues",()=>b.innerType._zod.propValues),F.gJ(a._zod,"values",()=>b.innerType._zod.values),F.gJ(a._zod,"optin",()=>b.innerType._zod.optin),F.gJ(a._zod,"optout",()=>b.innerType._zod.optout),a._zod.parse=(a,c)=>{let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(a3):a3(d)}});function a3(a){return a.value=Object.freeze(a.value),a}let a4=d.xI("$ZodLazy",(a,b)=>{$.init(a,b),F.gJ(a._zod,"innerType",()=>b.getter()),F.gJ(a._zod,"pattern",()=>a._zod.innerType._zod.pattern),F.gJ(a._zod,"propValues",()=>a._zod.innerType._zod.propValues),F.gJ(a._zod,"optin",()=>a._zod.innerType._zod.optin),F.gJ(a._zod,"optout",()=>a._zod.innerType._zod.optout),a._zod.parse=(b,c)=>a._zod.innerType._zod.run(b,c)}),a5=d.xI("$ZodCustom",(a,b)=>{G.init(a,b),$.init(a,b),a._zod.parse=(a,b)=>a,a._zod.check=c=>{let d=c.value,e=b.fn(d);if(e instanceof Promise)return e.then(b=>a6(b,c,d,a));a6(e,c,d,a)}});function a6(a,b,c,d){if(!a){let a={code:"custom",input:c,inst:d,path:[...d._zod.def.path??[]],continue:!d._zod.def.abort};d._zod.def.params&&(a.params=d._zod.def.params),b.issues.push(F.sn(a))}}var a7=c(5582);function a8(a,b){return new a({type:"string",format:"guid",check:"string_format",abort:!1,...F.A2(b)})}function a9(a,b){return new I({check:"less_than",...F.A2(b),value:a,inclusive:!1})}function ba(a,b){return new I({check:"less_than",...F.A2(b),value:a,inclusive:!0})}function bb(a,b){return new J({check:"greater_than",...F.A2(b),value:a,inclusive:!1})}function bc(a,b){return new J({check:"greater_than",...F.A2(b),value:a,inclusive:!0})}function bd(a,b){return new K({check:"multiple_of",...F.A2(b),value:a})}function be(a,b){return new M({check:"max_length",...F.A2(b),maximum:a})}function bf(a,b){return new N({check:"min_length",...F.A2(b),minimum:a})}function bg(a,b){return new O({check:"length_equals",...F.A2(b),length:a})}function bh(a){return new W({check:"overwrite",tx:a})}let bi=d.xI("ZodISODateTime",(a,b)=>{am.init(a,b),br.init(a,b)}),bj=d.xI("ZodISODate",(a,b)=>{an.init(a,b),br.init(a,b)}),bk=d.xI("ZodISOTime",(a,b)=>{ao.init(a,b),br.init(a,b)}),bl=d.xI("ZodISODuration",(a,b)=>{ap.init(a,b),br.init(a,b)});var bm=c(772);let bn=d.xI("ZodType",(a,b)=>($.init(a,b),a.def=b,Object.defineProperty(a,"_def",{value:b}),a.check=(...c)=>a.clone({...b,checks:[...b.checks??[],...c.map(a=>"function"==typeof a?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]}),a.clone=(b,c)=>F.o8(a,b,c),a.brand=()=>a,a.register=(b,c)=>(b.add(a,c),a),a.parse=(b,c)=>bm.qg(a,b,c,{callee:a.parse}),a.safeParse=(b,c)=>bm.xL(a,b,c),a.parseAsync=async(b,c)=>bm.EJ(a,b,c,{callee:a.parseAsync}),a.safeParseAsync=async(b,c)=>bm.bp(a,b,c),a.spa=a.safeParseAsync,a.refine=(b,c)=>a.check(function(a,b={}){return new cr({type:"custom",check:"custom",fn:a,...F.A2(b)})}(b,c)),a.superRefine=b=>a.check(function(a){let b=function(a){let b=new G({check:"custom"});return b._zod.check=a,b}(c=>(c.addIssue=a=>{"string"==typeof a?c.issues.push(F.sn(a,c.value,b._zod.def)):(a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=c.value),a.inst??(a.inst=b),a.continue??(a.continue=!b._zod.def.abort),c.issues.push(F.sn(a)))},a(c.value,c)));return b}(b)),a.overwrite=b=>a.check(bh(b)),a.optional=()=>cf(a),a.nullable=()=>ch(a),a.nullish=()=>cf(ch(a)),a.nonoptional=b=>{var c,d;return c=a,d=b,new ck({type:"nonoptional",innerType:c,...F.A2(d)})},a.array=()=>b$(a),a.or=b=>b3([a,b]),a.and=b=>new b6({type:"intersection",left:a,right:b}),a.transform=b=>cn(a,new cd({type:"transform",transform:b})),a.default=b=>(function(a,b){return new ci({type:"default",innerType:a,get defaultValue(){return"function"==typeof b?b():b}})})(a,b),a.prefault=b=>(function(a,b){return new cj({type:"prefault",innerType:a,get defaultValue(){return"function"==typeof b?b():b}})})(a,b),a.catch=b=>(function(a,b){return new cl({type:"catch",innerType:a,catchValue:"function"==typeof b?b:()=>b})})(a,b),a.pipe=b=>cn(a,b),a.readonly=()=>new co({type:"readonly",innerType:a}),a.describe=b=>{let c=a.clone();return a7.fd.add(c,{description:b}),c},Object.defineProperty(a,"description",{get:()=>a7.fd.get(a)?.description,configurable:!0}),a.meta=(...b)=>{if(0===b.length)return a7.fd.get(a);let c=a.clone();return a7.fd.add(c,b[0]),c},a.isOptional=()=>a.safeParse(void 0).success,a.isNullable=()=>a.safeParse(null).success,a)),bo=d.xI("_ZodString",(a,b)=>{_.init(a,b),bn.init(a,b);let c=a._zod.bag;a.format=c.format??null,a.minLength=c.minimum??null,a.maxLength=c.maximum??null,a.regex=(...b)=>a.check(function(a,b){return new Q({check:"string_format",format:"regex",...F.A2(b),pattern:a})}(...b)),a.includes=(...b)=>a.check(function(a,b){return new T({check:"string_format",format:"includes",...F.A2(b),includes:a})}(...b)),a.startsWith=(...b)=>a.check(function(a,b){return new U({check:"string_format",format:"starts_with",...F.A2(b),prefix:a})}(...b)),a.endsWith=(...b)=>a.check(function(a,b){return new V({check:"string_format",format:"ends_with",...F.A2(b),suffix:a})}(...b)),a.min=(...b)=>a.check(bf(...b)),a.max=(...b)=>a.check(be(...b)),a.length=(...b)=>a.check(bg(...b)),a.nonempty=(...b)=>a.check(bf(1,...b)),a.lowercase=b=>a.check(new R({check:"string_format",format:"lowercase",...F.A2(b)})),a.uppercase=b=>a.check(new S({check:"string_format",format:"uppercase",...F.A2(b)})),a.trim=()=>a.check(bh(a=>a.trim())),a.normalize=(...b)=>a.check(function(a){return bh(b=>b.normalize(a))}(...b)),a.toLowerCase=()=>a.check(bh(a=>a.toLowerCase())),a.toUpperCase=()=>a.check(bh(a=>a.toUpperCase()))}),bp=d.xI("ZodString",(a,b)=>{_.init(a,b),bo.init(a,b),a.email=b=>a.check(new bs({type:"string",format:"email",check:"string_format",abort:!1,...F.A2(b)})),a.url=b=>a.check(new bv({type:"string",format:"url",check:"string_format",abort:!1,...F.A2(b)})),a.jwt=b=>a.check(new bK({type:"string",format:"jwt",check:"string_format",abort:!1,...F.A2(b)})),a.emoji=b=>a.check(new bw({type:"string",format:"emoji",check:"string_format",abort:!1,...F.A2(b)})),a.guid=b=>a.check(a8(bt,b)),a.uuid=b=>a.check(new bu({type:"string",format:"uuid",check:"string_format",abort:!1,...F.A2(b)})),a.uuidv4=b=>a.check(new bu({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...F.A2(b)})),a.uuidv6=b=>a.check(new bu({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...F.A2(b)})),a.uuidv7=b=>a.check(new bu({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...F.A2(b)})),a.nanoid=b=>a.check(new bx({type:"string",format:"nanoid",check:"string_format",abort:!1,...F.A2(b)})),a.guid=b=>a.check(a8(bt,b)),a.cuid=b=>a.check(new by({type:"string",format:"cuid",check:"string_format",abort:!1,...F.A2(b)})),a.cuid2=b=>a.check(new bz({type:"string",format:"cuid2",check:"string_format",abort:!1,...F.A2(b)})),a.ulid=b=>a.check(new bA({type:"string",format:"ulid",check:"string_format",abort:!1,...F.A2(b)})),a.base64=b=>a.check(new bH({type:"string",format:"base64",check:"string_format",abort:!1,...F.A2(b)})),a.base64url=b=>a.check(new bI({type:"string",format:"base64url",check:"string_format",abort:!1,...F.A2(b)})),a.xid=b=>a.check(new bB({type:"string",format:"xid",check:"string_format",abort:!1,...F.A2(b)})),a.ksuid=b=>a.check(new bC({type:"string",format:"ksuid",check:"string_format",abort:!1,...F.A2(b)})),a.ipv4=b=>a.check(new bD({type:"string",format:"ipv4",check:"string_format",abort:!1,...F.A2(b)})),a.ipv6=b=>a.check(new bE({type:"string",format:"ipv6",check:"string_format",abort:!1,...F.A2(b)})),a.cidrv4=b=>a.check(new bF({type:"string",format:"cidrv4",check:"string_format",abort:!1,...F.A2(b)})),a.cidrv6=b=>a.check(new bG({type:"string",format:"cidrv6",check:"string_format",abort:!1,...F.A2(b)})),a.e164=b=>a.check(new bJ({type:"string",format:"e164",check:"string_format",abort:!1,...F.A2(b)})),a.datetime=b=>a.check(function(a){return new bi({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...F.A2(a)})}(b)),a.date=b=>a.check(function(a){return new bj({type:"string",format:"date",check:"string_format",...F.A2(a)})}(b)),a.time=b=>a.check(function(a){return new bk({type:"string",format:"time",check:"string_format",precision:null,...F.A2(a)})}(b)),a.duration=b=>a.check(function(a){return new bl({type:"string",format:"duration",check:"string_format",...F.A2(a)})}(b))});function bq(a){return new bp({type:"string",...F.A2(a)})}let br=d.xI("ZodStringFormat",(a,b)=>{aa.init(a,b),bo.init(a,b)}),bs=d.xI("ZodEmail",(a,b)=>{ad.init(a,b),br.init(a,b)}),bt=d.xI("ZodGUID",(a,b)=>{ab.init(a,b),br.init(a,b)}),bu=d.xI("ZodUUID",(a,b)=>{ac.init(a,b),br.init(a,b)}),bv=d.xI("ZodURL",(a,b)=>{ae.init(a,b),br.init(a,b)}),bw=d.xI("ZodEmoji",(a,b)=>{af.init(a,b),br.init(a,b)}),bx=d.xI("ZodNanoID",(a,b)=>{ag.init(a,b),br.init(a,b)}),by=d.xI("ZodCUID",(a,b)=>{ah.init(a,b),br.init(a,b)}),bz=d.xI("ZodCUID2",(a,b)=>{ai.init(a,b),br.init(a,b)}),bA=d.xI("ZodULID",(a,b)=>{aj.init(a,b),br.init(a,b)}),bB=d.xI("ZodXID",(a,b)=>{ak.init(a,b),br.init(a,b)}),bC=d.xI("ZodKSUID",(a,b)=>{al.init(a,b),br.init(a,b)}),bD=d.xI("ZodIPv4",(a,b)=>{aq.init(a,b),br.init(a,b)}),bE=d.xI("ZodIPv6",(a,b)=>{ar.init(a,b),br.init(a,b)}),bF=d.xI("ZodCIDRv4",(a,b)=>{as.init(a,b),br.init(a,b)}),bG=d.xI("ZodCIDRv6",(a,b)=>{at.init(a,b),br.init(a,b)}),bH=d.xI("ZodBase64",(a,b)=>{av.init(a,b),br.init(a,b)}),bI=d.xI("ZodBase64URL",(a,b)=>{aw.init(a,b),br.init(a,b)}),bJ=d.xI("ZodE164",(a,b)=>{ax.init(a,b),br.init(a,b)}),bK=d.xI("ZodJWT",(a,b)=>{ay.init(a,b),br.init(a,b)}),bL=d.xI("ZodNumber",(a,b)=>{az.init(a,b),bn.init(a,b),a.gt=(b,c)=>a.check(bb(b,c)),a.gte=(b,c)=>a.check(bc(b,c)),a.min=(b,c)=>a.check(bc(b,c)),a.lt=(b,c)=>a.check(a9(b,c)),a.lte=(b,c)=>a.check(ba(b,c)),a.max=(b,c)=>a.check(ba(b,c)),a.int=b=>a.check(bO(b)),a.safe=b=>a.check(bO(b)),a.positive=b=>a.check(bb(0,b)),a.nonnegative=b=>a.check(bc(0,b)),a.negative=b=>a.check(a9(0,b)),a.nonpositive=b=>a.check(ba(0,b)),a.multipleOf=(b,c)=>a.check(bd(b,c)),a.step=(b,c)=>a.check(bd(b,c)),a.finite=()=>a;let c=a._zod.bag;a.minValue=Math.max(c.minimum??-1/0,c.exclusiveMinimum??-1/0)??null,a.maxValue=Math.min(c.maximum??1/0,c.exclusiveMaximum??1/0)??null,a.isInt=(c.format??"").includes("int")||Number.isSafeInteger(c.multipleOf??.5),a.isFinite=!0,a.format=c.format??null});function bM(a){return new bL({type:"number",checks:[],...F.A2(a)})}let bN=d.xI("ZodNumberFormat",(a,b)=>{aA.init(a,b),bL.init(a,b)});function bO(a){return new bN({type:"number",check:"number_format",abort:!1,format:"safeint",...F.A2(a)})}let bP=d.xI("ZodBoolean",(a,b)=>{aB.init(a,b),bn.init(a,b)});function bQ(a){return new bP({type:"boolean",...F.A2(a)})}let bR=d.xI("ZodNull",(a,b)=>{aC.init(a,b),bn.init(a,b)});function bS(a){return new bR({type:"null",...F.A2(a)})}let bT=d.xI("ZodAny",(a,b)=>{aD.init(a,b),bn.init(a,b)});function bU(){return new bT({type:"any"})}let bV=d.xI("ZodUnknown",(a,b)=>{aE.init(a,b),bn.init(a,b)});function bW(){return new bV({type:"unknown"})}let bX=d.xI("ZodNever",(a,b)=>{aF.init(a,b),bn.init(a,b)});function bY(a){return new bX({type:"never",...F.A2(a)})}let bZ=d.xI("ZodArray",(a,b)=>{aH.init(a,b),bn.init(a,b),a.element=b.element,a.min=(b,c)=>a.check(bf(b,c)),a.nonempty=b=>a.check(bf(1,b)),a.max=(b,c)=>a.check(be(b,c)),a.length=(b,c)=>a.check(bg(b,c)),a.unwrap=()=>a.element});function b$(a,b){return new bZ({type:"array",element:a,...F.A2(b)})}let b_=d.xI("ZodObject",(a,b)=>{aK.init(a,b),bn.init(a,b),F.gJ(a,"shape",()=>b.shape),a.keyof=()=>ca(Object.keys(a._zod.def.shape)),a.catchall=b=>a.clone({...a._zod.def,catchall:b}),a.passthrough=()=>a.clone({...a._zod.def,catchall:bW()}),a.loose=()=>a.clone({...a._zod.def,catchall:bW()}),a.strict=()=>a.clone({...a._zod.def,catchall:bY()}),a.strip=()=>a.clone({...a._zod.def,catchall:void 0}),a.extend=b=>F.X$(a,b),a.merge=b=>F.h1(a,b),a.pick=b=>F.Up(a,b),a.omit=b=>F.cJ(a,b),a.partial=(...b)=>F.OH(ce,a,b[0]),a.required=(...b)=>F.mw(ck,a,b[0])});function b0(a,b){return new b_({type:"object",get shape(){return F.Vy(this,"shape",{...a}),this.shape},...F.A2(b)})}function b1(a,b){return new b_({type:"object",get shape(){return F.Vy(this,"shape",{...a}),this.shape},catchall:bY(),...F.A2(b)})}let b2=d.xI("ZodUnion",(a,b)=>{aM.init(a,b),bn.init(a,b),a.options=b.options});function b3(a,b){return new b2({type:"union",options:a,...F.A2(b)})}let b4=d.xI("ZodDiscriminatedUnion",(a,b)=>{b2.init(a,b),aN.init(a,b)});function b5(a,b,c){return new b4({type:"union",options:b,discriminator:a,...F.A2(c)})}let b6=d.xI("ZodIntersection",(a,b)=>{aO.init(a,b),bn.init(a,b)}),b7=d.xI("ZodRecord",(a,b)=>{aQ.init(a,b),bn.init(a,b),a.keyType=b.keyType,a.valueType=b.valueType});function b8(a,b,c){return new b7({type:"record",keyType:a,valueType:b,...F.A2(c)})}let b9=d.xI("ZodEnum",(a,b)=>{aR.init(a,b),bn.init(a,b),a.enum=b.entries,a.options=Object.values(b.entries);let c=new Set(Object.keys(b.entries));a.extract=(a,d)=>{let e={};for(let d of a)if(c.has(d))e[d]=b.entries[d];else throw Error(`Key ${d} not found in enum`);return new b9({...b,checks:[],...F.A2(d),entries:e})},a.exclude=(a,d)=>{let e={...b.entries};for(let b of a)if(c.has(b))delete e[b];else throw Error(`Key ${b} not found in enum`);return new b9({...b,checks:[],...F.A2(d),entries:e})}});function ca(a,b){return new b9({type:"enum",entries:Array.isArray(a)?Object.fromEntries(a.map(a=>[a,a])):a,...F.A2(b)})}let cb=d.xI("ZodLiteral",(a,b)=>{aS.init(a,b),bn.init(a,b),a.values=new Set(b.values),Object.defineProperty(a,"value",{get(){if(b.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return b.values[0]}})});function cc(a,b){return new cb({type:"literal",values:Array.isArray(a)?a:[a],...F.A2(b)})}let cd=d.xI("ZodTransform",(a,b)=>{aT.init(a,b),bn.init(a,b),a._zod.parse=(c,d)=>{c.addIssue=d=>{"string"==typeof d?c.issues.push(F.sn(d,c.value,b)):(d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=c.value),d.inst??(d.inst=a),d.continue??(d.continue=!0),c.issues.push(F.sn(d)))};let e=b.transform(c.value,c);return e instanceof Promise?e.then(a=>(c.value=a,c)):(c.value=e,c)}}),ce=d.xI("ZodOptional",(a,b)=>{aU.init(a,b),bn.init(a,b),a.unwrap=()=>a._zod.def.innerType});function cf(a){return new ce({type:"optional",innerType:a})}let cg=d.xI("ZodNullable",(a,b)=>{aV.init(a,b),bn.init(a,b),a.unwrap=()=>a._zod.def.innerType});function ch(a){return new cg({type:"nullable",innerType:a})}let ci=d.xI("ZodDefault",(a,b)=>{aW.init(a,b),bn.init(a,b),a.unwrap=()=>a._zod.def.innerType,a.removeDefault=a.unwrap}),cj=d.xI("ZodPrefault",(a,b)=>{aY.init(a,b),bn.init(a,b),a.unwrap=()=>a._zod.def.innerType}),ck=d.xI("ZodNonOptional",(a,b)=>{aZ.init(a,b),bn.init(a,b),a.unwrap=()=>a._zod.def.innerType}),cl=d.xI("ZodCatch",(a,b)=>{a_.init(a,b),bn.init(a,b),a.unwrap=()=>a._zod.def.innerType,a.removeCatch=a.unwrap}),cm=d.xI("ZodPipe",(a,b)=>{a0.init(a,b),bn.init(a,b),a.in=b.in,a.out=b.out});function cn(a,b){return new cm({type:"pipe",in:a,out:b})}let co=d.xI("ZodReadonly",(a,b)=>{a2.init(a,b),bn.init(a,b)}),cp=d.xI("ZodLazy",(a,b)=>{a4.init(a,b),bn.init(a,b),a.unwrap=()=>a._zod.def.getter()});function cq(a){return new cp({type:"lazy",getter:a})}let cr=d.xI("ZodCustom",(a,b)=>{a5.init(a,b),bn.init(a,b)});function cs(a,b){let c=F.A2(b);return c.abort??(c.abort=!0),new cr({type:"custom",check:"custom",fn:a??(()=>!0),...c})}function ct(a,b={error:`Input not instance of ${a.name}`}){let c=new cr({type:"custom",check:"custom",fn:b=>b instanceof a,abort:!0,...F.A2(b)});return c._zod.bag.Class=a,c}}}]);
//# sourceMappingURL=435.js.map