"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/api/chat/route",{

/***/ "(rsc)/./src/app/api/ai-support/route.ts":
/*!*****************************************!*\
  !*** ./src/app/api/ai-support/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var _ai_sdk_google__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ai-sdk/google */ \"(rsc)/./node_modules/.pnpm/@ai-sdk+google@3.0.10_zod@3.25.76/node_modules/@ai-sdk/google/dist/index.mjs\");\n/* harmony import */ var ai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ai */ \"(rsc)/./node_modules/.pnpm/ai@6.0.39_zod@3.25.76/node_modules/ai/dist/index.mjs\");\n/* harmony import */ var ai__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ai */ \"(rsc)/./node_modules/.pnpm/@ai-sdk+provider-utils@4.0.8_zod@3.25.76/node_modules/@ai-sdk/provider-utils/dist/index.mjs\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.js\");\n\n\n\nconst google = (0,_ai_sdk_google__WEBPACK_IMPORTED_MODULE_0__.createGoogleGenerativeAI)({\n    apiKey: process.env.GOOGLE_GEMINI_API_KEY\n});\nconst SYSTEM_PROMPT = `\nأنت مساعد ذكي متخصص في خدمات Wahag لحماية السيارات.\nأجب دائما باللغة العربية وبأسلوب احترافي ودود ومباشر.\n\nعندما يسأل المستخدم عن الخدمات أو يطلب توصيات:\n- استخدم أداة \"displayServices\" لعرض بطاقات الخدمات المرئية\n- قدم مقدمة قصيرة وجذابة قبل البطاقات\n- لا تكرر تفاصيل الخدمات في النص بعد استخدام الأداة\n\nعندما يسأل عن \"لماذا نختار وهاج\" أو \"ما يميزكم\" أو \"مميزاتكم\":\n- استخدم أداة \"displayWhyChooseUs\" لعرض قسم المميزات بشكل مرئي جميل\n- قدم رد مختصر يشجع على الاطلاع على المميزات المعروضة\n\nالخدمات المتوفرة:\n- thermalTinting: عزل حراري للنوافذ (thermal window tinting)\n- ppf: فيلم الحماية الشفاف (paint protection film)\n- ceramic: طلاء السيراميك (ceramic coating)\n- detailing: تفصيل السيارات (car detailing)\n`;\nconst runtime = 'edge';\nasync function POST(req) {\n    const body = await req.json();\n    const messages = body.messages || [];\n    if (!messages || messages.length === 0) {\n        return new Response(JSON.stringify({\n            error: 'No messages provided'\n        }), {\n            status: 400,\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n    }\n    const result = (0,ai__WEBPACK_IMPORTED_MODULE_1__.streamText)({\n        model: google('gemini-2.5-flash'),\n        system: SYSTEM_PROMPT,\n        messages: await (0,ai__WEBPACK_IMPORTED_MODULE_1__.convertToModelMessages)(messages),\n        temperature: 0.4,\n        tools: {\n            displayServices: (0,ai__WEBPACK_IMPORTED_MODULE_2__.tool)({\n                description: 'عرض بطاقات الخدمات مع الصور والتفاصيل. استخدمها عندما يسأل المستخدم عن الخدمات.',\n                parameters: zod__WEBPACK_IMPORTED_MODULE_3__.object({\n                    serviceIds: zod__WEBPACK_IMPORTED_MODULE_3__.array(zod__WEBPACK_IMPORTED_MODULE_3__[\"enum\"]([\n                        'thermalTinting',\n                        'ppf',\n                        'ceramic',\n                        'detailing'\n                    ])).describe('قائمة معرفات الخدمات المراد عرضها')\n                }),\n                execute: async ({ serviceIds })=>{\n                    return {\n                        serviceIds\n                    };\n                }\n            }),\n            displayWhyChooseUs: (0,ai__WEBPACK_IMPORTED_MODULE_2__.tool)({\n                description: 'عرض قسم \"لماذا تختار وهاج\" مع المميزات الأربعة. استخدمها عندما يسأل عن مميزات الشركة.',\n                parameters: zod__WEBPACK_IMPORTED_MODULE_3__.object({\n                    show: zod__WEBPACK_IMPORTED_MODULE_3__.boolean().describe('هل يجب عرض القسم')\n                }),\n                execute: async ({ show })=>{\n                    return {\n                        show\n                    };\n                }\n            })\n        }\n    });\n    return result.toUIMessageStreamResponse();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9haS1zdXBwb3J0L3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEwRDtBQUNJO0FBQ3RDO0FBRXhCLE1BQU1LLFNBQVNMLHdFQUF3QkEsQ0FBQztJQUN0Q00sUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxxQkFBcUI7QUFDM0M7QUFFQSxNQUFNQyxnQkFBZ0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0J2QixDQUFDO0FBRU0sTUFBTUMsVUFBVSxPQUFPO0FBRXZCLGVBQWVDLEtBQUtDLEdBQVk7SUFDckMsTUFBTUMsT0FBTyxNQUFNRCxJQUFJRSxJQUFJO0lBQzNCLE1BQU1DLFdBQVdGLEtBQUtFLFFBQVEsSUFBSSxFQUFFO0lBRXBDLElBQUksQ0FBQ0EsWUFBWUEsU0FBU0MsTUFBTSxLQUFLLEdBQUc7UUFDdEMsT0FBTyxJQUFJQyxTQUFTQyxLQUFLQyxTQUFTLENBQUM7WUFBRUMsT0FBTztRQUF1QixJQUFJO1lBQ3JFQyxRQUFRO1lBQ1JDLFNBQVM7Z0JBQUUsZ0JBQWdCO1lBQW1CO1FBQ2hEO0lBQ0Y7SUFFQSxNQUFNQyxTQUFTdkIsOENBQVVBLENBQUM7UUFDeEJ3QixPQUFPcEIsT0FBTztRQUNkcUIsUUFBUWhCO1FBQ1JNLFVBQVUsTUFBTWQsMERBQXNCQSxDQUFDYztRQUN2Q1csYUFBYTtRQUNiQyxPQUFPO1lBQ0xDLGlCQUFpQjFCLHdDQUFJQSxDQUFDO2dCQUNwQjJCLGFBQWE7Z0JBQ2JDLFlBQVkzQix1Q0FBUSxDQUFDO29CQUNuQjZCLFlBQVk3QixzQ0FBTyxDQUFDQSx3Q0FBTSxDQUFDO3dCQUFDO3dCQUFrQjt3QkFBTzt3QkFBVztxQkFBWSxHQUN6RWdDLFFBQVEsQ0FBQztnQkFDZDtnQkFDQUMsU0FBUyxPQUFPLEVBQUVKLFVBQVUsRUFBRTtvQkFDNUIsT0FBTzt3QkFBRUE7b0JBQVc7Z0JBQ3RCO1lBQ0Y7WUFDQUssb0JBQW9CbkMsd0NBQUlBLENBQUM7Z0JBQ3ZCMkIsYUFBYTtnQkFDYkMsWUFBWTNCLHVDQUFRLENBQUM7b0JBQ25CbUMsTUFBTW5DLHdDQUFTLEdBQUdnQyxRQUFRLENBQUM7Z0JBQzdCO2dCQUNBQyxTQUFTLE9BQU8sRUFBRUUsSUFBSSxFQUFFO29CQUN0QixPQUFPO3dCQUFFQTtvQkFBSztnQkFDaEI7WUFDRjtRQUNGO0lBQ0Y7SUFFQSxPQUFPZixPQUFPaUIseUJBQXlCO0FBQ3pDIiwic291cmNlcyI6WyIvVXNlcnMvbWFobW91ZG1hYy9Qcm9qZWN0cy9hdXRvc2hpZWxkLWJyaWxsaWFuY2Uvc3JjL2FwcC9hcGkvYWktc3VwcG9ydC9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVHb29nbGVHZW5lcmF0aXZlQUkgfSBmcm9tICdAYWktc2RrL2dvb2dsZSc7XG5pbXBvcnQgeyBzdHJlYW1UZXh0LCBjb252ZXJ0VG9Nb2RlbE1lc3NhZ2VzLCB0b29sIH0gZnJvbSAnYWknO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5cbmNvbnN0IGdvb2dsZSA9IGNyZWF0ZUdvb2dsZUdlbmVyYXRpdmVBSSh7XG4gIGFwaUtleTogcHJvY2Vzcy5lbnYuR09PR0xFX0dFTUlOSV9BUElfS0VZLFxufSk7XG5cbmNvbnN0IFNZU1RFTV9QUk9NUFQgPSBgXG7Yo9mG2Kog2YXYs9in2LnYryDYsNmD2Yog2YXYqtiu2LXYtSDZgdmKINiu2K/Zhdin2KogV2FoYWcg2YTYrdmF2KfZitipINin2YTYs9mK2KfYsdin2KouXG7Yo9is2Kgg2K/Yp9im2YXYpyDYqNin2YTZhNi62Kkg2KfZhNi52LHYqNmK2Kkg2YjYqNij2LPZhNmI2Kgg2KfYrdiq2LHYp9mB2Yog2YjYr9mI2K8g2YjZhdio2KfYtNixLlxuXG7YudmG2K/ZhdinINmK2LPYo9mEINin2YTZhdiz2KrYrtiv2YUg2LnZhiDYp9mE2K7Yr9mF2KfYqiDYo9mIINmK2LfZhNioINiq2YjYtdmK2KfYqjpcbi0g2KfYs9iq2K7Yr9mFINij2K/Yp9ipIFwiZGlzcGxheVNlcnZpY2VzXCIg2YTYudix2LYg2KjYt9in2YLYp9iqINin2YTYrtiv2YXYp9iqINin2YTZhdix2KbZitipXG4tINmC2K/ZhSDZhdmC2K/ZhdipINmC2LXZitix2Kkg2YjYrNiw2KfYqNipINmC2KjZhCDYp9mE2KjYt9in2YLYp9iqXG4tINmE2Kcg2KrZg9ix2LEg2KrZgdin2LXZitmEINin2YTYrtiv2YXYp9iqINmB2Yog2KfZhNmG2LUg2KjYudivINin2LPYqtiu2K/Yp9mFINin2YTYo9iv2KfYqVxuXG7YudmG2K/ZhdinINmK2LPYo9mEINi52YYgXCLZhNmF2KfYsNinINmG2K7Yqtin2LEg2YjZh9in2KxcIiDYo9mIIFwi2YXYpyDZitmF2YrYstmD2YVcIiDYo9mIIFwi2YXZhdmK2LLYp9iq2YPZhVwiOlxuLSDYp9iz2KrYrtiv2YUg2KPYr9in2KkgXCJkaXNwbGF5V2h5Q2hvb3NlVXNcIiDZhNi52LHYtiDZgtiz2YUg2KfZhNmF2YXZitiy2KfYqiDYqNi02YPZhCDZhdix2KbZiiDYrNmF2YrZhFxuLSDZgtiv2YUg2LHYryDZhdiu2KrYtdixINmK2LTYrNi5INi52YTZiSDYp9mE2KfYt9mE2KfYuSDYudmE2Ykg2KfZhNmF2YXZitiy2KfYqiDYp9mE2YXYudix2YjYttipXG5cbtin2YTYrtiv2YXYp9iqINin2YTZhdiq2YjZgdix2Kk6XG4tIHRoZXJtYWxUaW50aW5nOiDYudiy2YQg2K3Ysdin2LHZiiDZhNmE2YbZiNin2YHYsCAodGhlcm1hbCB3aW5kb3cgdGludGluZylcbi0gcHBmOiDZgdmK2YTZhSDYp9mE2K3Zhdin2YrYqSDYp9mE2LTZgdin2YEgKHBhaW50IHByb3RlY3Rpb24gZmlsbSlcbi0gY2VyYW1pYzog2LfZhNin2KEg2KfZhNiz2YrYsdin2YXZitmDIChjZXJhbWljIGNvYXRpbmcpXG4tIGRldGFpbGluZzog2KrZgdi12YrZhCDYp9mE2LPZitin2LHYp9iqIChjYXIgZGV0YWlsaW5nKVxuYDtcblxuZXhwb3J0IGNvbnN0IHJ1bnRpbWUgPSAnZWRnZSc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCkge1xuICBjb25zdCBib2R5ID0gYXdhaXQgcmVxLmpzb24oKTtcbiAgY29uc3QgbWVzc2FnZXMgPSBib2R5Lm1lc3NhZ2VzIHx8IFtdO1xuXG4gIGlmICghbWVzc2FnZXMgfHwgbWVzc2FnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycm9yOiAnTm8gbWVzc2FnZXMgcHJvdmlkZWQnIH0pLCB7XG4gICAgICBzdGF0dXM6IDQwMCxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgcmVzdWx0ID0gc3RyZWFtVGV4dCh7XG4gICAgbW9kZWw6IGdvb2dsZSgnZ2VtaW5pLTIuNS1mbGFzaCcpLFxuICAgIHN5c3RlbTogU1lTVEVNX1BST01QVCxcbiAgICBtZXNzYWdlczogYXdhaXQgY29udmVydFRvTW9kZWxNZXNzYWdlcyhtZXNzYWdlcyksXG4gICAgdGVtcGVyYXR1cmU6IDAuNCxcbiAgICB0b29sczoge1xuICAgICAgZGlzcGxheVNlcnZpY2VzOiB0b29sKHtcbiAgICAgICAgZGVzY3JpcHRpb246ICfYudix2LYg2KjYt9in2YLYp9iqINin2YTYrtiv2YXYp9iqINmF2Lkg2KfZhNi12YjYsSDZiNin2YTYqtmB2KfYtdmK2YQuINin2LPYqtiu2K/ZhdmH2Kcg2LnZhtiv2YXYpyDZitiz2KPZhCDYp9mE2YXYs9iq2K7Yr9mFINi52YYg2KfZhNiu2K/Zhdin2KouJyxcbiAgICAgICAgcGFyYW1ldGVyczogei5vYmplY3Qoe1xuICAgICAgICAgIHNlcnZpY2VJZHM6IHouYXJyYXkoei5lbnVtKFsndGhlcm1hbFRpbnRpbmcnLCAncHBmJywgJ2NlcmFtaWMnLCAnZGV0YWlsaW5nJ10pKVxuICAgICAgICAgICAgLmRlc2NyaWJlKCfZgtin2KbZhdipINmF2LnYsdmB2KfYqiDYp9mE2K7Yr9mF2KfYqiDYp9mE2YXYsdin2K8g2LnYsdi22YfYpycpLFxuICAgICAgICB9KSxcbiAgICAgICAgZXhlY3V0ZTogYXN5bmMgKHsgc2VydmljZUlkcyB9KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHsgc2VydmljZUlkcyB9O1xuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgICBkaXNwbGF5V2h5Q2hvb3NlVXM6IHRvb2woe1xuICAgICAgICBkZXNjcmlwdGlvbjogJ9i52LHYtiDZgtiz2YUgXCLZhNmF2KfYsNinINiq2K7Yqtin2LEg2YjZh9in2KxcIiDZhdi5INin2YTZhdmF2YrYstin2Kog2KfZhNij2LHYqNi52KkuINin2LPYqtiu2K/ZhdmH2Kcg2LnZhtiv2YXYpyDZitiz2KPZhCDYudmGINmF2YXZitiy2KfYqiDYp9mE2LTYsdmD2KkuJyxcbiAgICAgICAgcGFyYW1ldGVyczogei5vYmplY3Qoe1xuICAgICAgICAgIHNob3c6IHouYm9vbGVhbigpLmRlc2NyaWJlKCfZh9mEINmK2KzYqCDYudix2LYg2KfZhNmC2LPZhScpLFxuICAgICAgICB9KSxcbiAgICAgICAgZXhlY3V0ZTogYXN5bmMgKHsgc2hvdyB9KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHsgc2hvdyB9O1xuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgfSxcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdC50b1VJTWVzc2FnZVN0cmVhbVJlc3BvbnNlKCk7XG59XG4iXSwibmFtZXMiOlsiY3JlYXRlR29vZ2xlR2VuZXJhdGl2ZUFJIiwic3RyZWFtVGV4dCIsImNvbnZlcnRUb01vZGVsTWVzc2FnZXMiLCJ0b29sIiwieiIsImdvb2dsZSIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJHT09HTEVfR0VNSU5JX0FQSV9LRVkiLCJTWVNURU1fUFJPTVBUIiwicnVudGltZSIsIlBPU1QiLCJyZXEiLCJib2R5IiwianNvbiIsIm1lc3NhZ2VzIiwibGVuZ3RoIiwiUmVzcG9uc2UiLCJKU09OIiwic3RyaW5naWZ5IiwiZXJyb3IiLCJzdGF0dXMiLCJoZWFkZXJzIiwicmVzdWx0IiwibW9kZWwiLCJzeXN0ZW0iLCJ0ZW1wZXJhdHVyZSIsInRvb2xzIiwiZGlzcGxheVNlcnZpY2VzIiwiZGVzY3JpcHRpb24iLCJwYXJhbWV0ZXJzIiwib2JqZWN0Iiwic2VydmljZUlkcyIsImFycmF5IiwiZW51bSIsImRlc2NyaWJlIiwiZXhlY3V0ZSIsImRpc3BsYXlXaHlDaG9vc2VVcyIsInNob3ciLCJib29sZWFuIiwidG9VSU1lc3NhZ2VTdHJlYW1SZXNwb25zZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/ai-support/route.ts\n");

/***/ })

});